{"version":3,"sources":["firebase.ts","actions/customToast.tsx","shared/components/Logo/Logo.tsx","pages/FormLayout/FormLayout.tsx","actions/signInWithGooglePopup.tsx","assets/images/btn_google_signin_light_normal_web.png","components/WithLoader/WithLoader.tsx","context/AuthProvider.tsx","context/NotificationProvider.tsx","routes/DefaultRoute.tsx","pages/LoginRequired/LoginRequired.tsx","routes/ProtectedRoute.tsx","shared/components/FormField/FormField.tsx","actions/signUpWithCredentails.tsx","components/SignupForm/SignupForm.tsx","components/SignupForm/useSignupFormValidation.tsx","components/SignupForm/useFormFieldsConfig.tsx","actions/signInWithCredentials.tsx","components/LoginForm/LoginForm.tsx","components/LoginForm/useLoginFormValidation.tsx","components/LoginForm/useFormLoginFieldsConfig.tsx","assets/images/avatar_placeholder.png","components/WithError/WithError.tsx","actions/useGetUserData.tsx","actions/editProfile.tsx","actions/updateAvatar.tsx","context/DarkModeProvider.tsx","components/EditProfileForm/EditProfileForm.tsx","components/EditProfile/EditProfile.tsx","actions/followAction.tsx","components/UserDetails/UserDetails.tsx","actions/updateProfileFields.tsx","components/UserPageFieldForm/UserPageFieldForm.tsx","components/UserPageField/UserPageField.tsx","actions/useIsUserFollowed.tsx","components/SearchHint/SearchHint.tsx","components/Search/Search.tsx","components/Notification/Notification.tsx","pages/Notifications/Notifications.tsx","components/DropdownsContent/HeaderDropdown.tsx","actions/signout.tsx","constants/Navigation.ts","components/Dropdown/Dropdown.tsx","components/NavigationIcon/NavigationIcon.tsx","components/Navigation/Navigation.tsx","constants/UserHints.ts","components/Header/Header.tsx","constants/Posts.ts","actions/useGetPosts.tsx","actions/postsFilter.tsx","components/FeedPost/FeedPost.tsx","actions/useIsContentOverflowing.tsx","components/MyPosts/MyPosts.tsx","actions/useGetUsers.tsx","components/UserCard/UserCard.tsx","actions/useGetUserFollows.tsx","components/ShowFollowers/ShowFollowers.tsx","actions/useGetUserFollowers.tsx","components/FollowedUsers/FollowedUsers.tsx","components/RecommendedUsers/RecommendedUsers.tsx","components/CreatePost/CreatePost.tsx","actions/setPost.tsx","components/FeedList/FeedList.tsx","routes/Routes.tsx","pages/Welcome/Welcome.tsx","pages/Feed/Feed.tsx","pages/MyNetwork/MyNetwork.tsx","pages/UserPage/UserPage.tsx","App.tsx","pages/ErrorFallback/ErrorFallback.tsx","components/GlobalErrorBoundary/GlobalErrorBoundary.tsx","index.tsx"],"names":["firebaseApp","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","provider","GoogleAuthProvider","storage","defaultOptions","autoClose","position","pauseOnFocusLoss","pauseOnHover","customToast","type","text","hideProgressBar","toast","info","success","error","Logo","variant","className","FormLayout","formComponent","history","useHistory","currentUser","to","window","screen","width","onClick","signInWithPopup","then","push","signInWithGooglePopup","src","alt","WithLoader","isLoading","children","testid","CircularProgress","AuthContext","createContext","undefined","AuthProvider","useState","setCurrentUser","pending","setPending","useEffect","onAuthStateChanged","user","Provider","value","NotificationContext","data","unsubscriber","Error","NotificationsProvider","changes","setChanges","useContext","uid","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","DefaultRoute","path","render","LoginRequired","ProtectedRoute","exact","component","defaultProps","FormField","label","name","isError","errorText","onChange","TextField","helperText","inputProps","signUpWithCredentails","a","email","password","setError","createUserWithEmailAndPassword","updateProfile","displayName","set","id","headline","message","SignupForm","repeatPassword","formData","setFormData","isErrorMessageVisible","setIsErrorMessageVisible","setIsLoading","signUpFormData","initialErrorData","validateForm","trim","length","useSignupFormValidation","formFieldsConfig","useMemo","errorMessageVisible","useFormFieldsConfig","handleChange","event","target","handleSubmit","preventDefault","onSubmit","map","Button","color","disabled","signInWithCredentials","signInWithEmailAndPassword","catch","LoginForm","LoginFormData","useLoginFormValidation","useFormLoginFieldsConfig","WithError","errorMessage","useGetUserData","userUid","userData","avatar","state","setState","getUserData","get","editProfile","newData","update","updateAvatar","file","url","ref","put","getDownloadURL","avatarUrl","photoURL","console","log","DarkModeContext","DarkModeProvider","isDarkMode","setIsDarkMode","useProviderDarkMode","useDarkMode","darkMode","EditProfileForm","closeModal","initialFormData","shouldDataChange","setShouldDataChange","isNicknameNotValid","isHeadlineNotValid","files","classNames","rows","multiline","dropzoneText","dropzoneParagraphClass","acceptedFiles","filesLimit","showAlerts","onDrop","onDropRejected","Modal","setAppElement","EditProfile","isOpen","setIsModalOpen","onRequestClose","overlayClassName","IconButton","followAction","receiverUid","action","currentUserUid","userRef","receiverRef","timestamp","FieldValue","serverTimestamp","seen","delete","UserDetails","ownerUid","isMyUserDetails","isUserFollowedBy","isUserFollowing","isFollowing","setIsFollowing","isEditModalOpen","setIsEditModalOpen","AvatarPlaceholder","height","handleClick","followButtonHandler","fontSize","updateProfileFields","profileField","profileFields","arrayUnion","arrayRemove","UserPageFieldForm","setter","fieldsData","setFieldsData","fieldInputs","setFieldInputs","formTitle","setFormTitle","titleError","setTitleError","fieldError","setFieldError","fieldEntries","setFieldEntries","useParams","addField","field","checkKeyDown","code","entry","title","includes","Object","entries","every","content","fromEntries","filter","Boolean","onKeyDown","e","maxLength","placeholder","style","role","UserPageField","isOwner","fieldEntry","useIsUserFollowed","currentUserId","pageUserId","setValue","getFollows","follows","exists","SearchHint","Avatar","Search","getHints","setIsSearchOpen","isSearchOpen","searchInput","setSearchInput","searchHints","setSearchHints","container","useRef","params","document","addEventListener","handleOutsideClick","current","contains","removeEventListener","minLength","debounceTimeout","hint","Notification","userId","followerId","followingSince","moment","unix","seconds","fromNow","Notifications","notifications","HeaderDropdown","signOut","navigationItems","icon","HomeIcon","SupervisorAccountIcon","NotificationsIcon","badge","Dropdown","DropdownOpener","isDropdownOpen","setIsDropdownOpen","dropdown","tabIndex","React","createElement","NavigationIcon","Icon","badgeContent","location","useLocation","pathname","Badge","Navigation","amount","setAmount","userHints","toUpperCase","slice","Header","Posts","useGetPosts","allPosts","getPosts","post","postsFilter","posts","FeedPost","seeMore","setSeeMore","isContentOverflowing","setIsContentOverflowing","handleResize","offsetHeight","scrollHeight","useIsContentOverflowing","timePassed","MyPosts","userPosts","initialAmount","postIndex","setPostIndex","isMorePosts","newAmount","useGetUsers","users","getUsers","UserCard","followed","isFollowed","setIsFollowed","Grow","in","timeout","useGetUserFollows","userFollows","getUserFollows","followedIds","ShowFollowers","userFollowers","followers","useGetUserFollowers","isFollowersLoading","isFollowersError","followersUsers","setFollowersUsers","FollowedUsers","isFollowsLoading","isFollowsError","followedUsers","setFollowedUsers","RecommendedUsers","recommendedUsers","setRecommendedUsers","getMoreRecommendedUsersInfo","sort","Math","random","CreatePost","postText","setPostText","isNicknameValid","size","add","setPost","FeedList","setPosts","index","setIndex","hasMore","setHasMore","isPostsLoading","isPostsError","dataLength","next","setTimeout","loader","endMessage","Routes","showRecommendedUsers","setShowRecommendedUsers","setUserData","isAddField","setIsAddField","loggedInUser","isUserFollowed","isUserPostsShowed","setIsUserPostsShowed","showFollowed","setShowFollowed","App","basename","ErrorFallback","reload","GlobalErrorBoundary","hasError","errorInfo","this","props","Component","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d26ccae6.chunk.js","sourcesContent":["import firebase from 'firebase';\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\nconst db = firebaseApp.firestore();\nconst auth = firebaseApp.auth();\nconst provider = new firebase.auth.GoogleAuthProvider();\nconst storage = firebase.storage();\n\nexport { auth, provider, db, storage };\n","import { ReactText } from 'react';\nimport { toast, ToastOptions } from 'react-toastify';\n\ntype type = 'default' | 'info' | 'success' | 'error';\n\nconst defaultOptions: ToastOptions = {\n  autoClose: 2500,\n  position: 'bottom-right',\n  pauseOnFocusLoss: false,\n  pauseOnHover: false\n};\n\nexport const customToast = (type: type, text: string, hideProgressBar = true): ReactText => {\n  switch (type) {\n    case 'default':\n      return toast(text, { ...defaultOptions, hideProgressBar });\n    case 'info':\n      return toast.info(text, { ...defaultOptions, hideProgressBar });\n    case 'success':\n      return toast.success(text, { ...defaultOptions, hideProgressBar });\n    case 'error':\n      return toast.error(text, { ...defaultOptions, hideProgressBar });\n    default:\n      return toast(text, { ...defaultOptions, hideProgressBar });\n  }\n};\n","import React from 'react';\r\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\r\nimport './Logo.scss';\r\n\r\nexport interface LogoProps {\r\n  variant: 'small' | 'medium' | 'big';\r\n}\r\n\r\nexport const Logo: React.FC<LogoProps> = ({ variant }: LogoProps) => (\r\n  <p className={`logo logo--${variant}`}>\r\n    <span className=\"logo__text\">Linked</span>\r\n    <LinkedInIcon className=\"logo__icon\" />\r\n  </p>\r\n);\r\n","import React, { ReactNode } from 'react';\nimport { useHistory, Redirect } from 'react-router-dom';\nimport { signInWithGooglePopup } from '../../actions/signInWithGooglePopup';\nimport { Logo } from '../../shared/components/Logo/Logo';\nimport GoogleButtonImage from '../../assets/images/btn_google_signin_light_normal_web.png';\nimport { auth } from '../../firebase';\nimport './FormLayout.scss';\nimport '../../styles/FormStyles.scss';\n\ninterface FormLayoutProps {\n  formComponent: ReactNode;\n}\n\nexport const FormLayout: React.FC<FormLayoutProps> = ({ formComponent }: FormLayoutProps) => {\n  const history = useHistory();\n  const { currentUser } = auth;\n\n  if (currentUser) {\n    return <Redirect to=\"/feed\" />;\n  }\n\n  return (\n    <main className=\"formLayout__container\">\n      <Logo variant={window.screen.width < 281 ? 'small' : 'medium'} />\n      {formComponent}\n      <button\n        className=\"formLayout__signInGoogleButton\"\n        type=\"button\"\n        aria-label=\"Sign in with Google\"\n        onClick={() => signInWithGooglePopup({ history })}\n      >\n        <img src={GoogleButtonImage} alt=\"Sign in with google\" />\n      </button>\n    </main>\n  );\n};\n","import { History, LocationState } from 'history';\nimport { auth, provider } from '../firebase';\nimport { customToast } from './customToast';\n\ninterface SignInWithGoogle {\n  history: History<LocationState>;\n}\n\nexport const signInWithGooglePopup = ({ history }: SignInWithGoogle): void => {\n  auth.signInWithPopup(provider).then(() => {\n    history.push('/feed');\n    customToast('success', 'Successfully Sign In with Google');\n  });\n};\n","export default \"data:image/png;base64,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\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CircularProgress } from '@material-ui/core';\n\ninterface LoaderProps {\n  isLoading: boolean;\n  children?: React.ReactElement;\n  className?: string;\n  testid?: string;\n}\n\nexport const WithLoader: React.FC<LoaderProps> = ({ isLoading, children, className, testid }) => {\n  if (isLoading) {\n    return (\n      <div className={className} data-testid={testid}>\n        <CircularProgress />\n      </div>\n    );\n  }\n\n  if (!children) {\n    return null;\n  }\n\n  return children;\n};\n\nWithLoader.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n  children: PropTypes.element.isRequired,\n  className: PropTypes.string,\n  testid: PropTypes.string\n};\n","import React, { useState, useEffect, createContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { WithLoader } from '../components/WithLoader/WithLoader';\nimport { auth } from '../firebase';\nimport '../styles/GlobalLoader.scss';\n\ninterface AuthProviderProps {\n  children: React.ReactNode;\n}\n\nexport const AuthContext = createContext<firebase.default.User | undefined | null>(undefined);\n\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState<firebase.default.User | null>(null);\n  const [pending, setPending] = useState(true);\n\n  useEffect(() => {\n    auth.onAuthStateChanged(user => {\n      setCurrentUser(user);\n      setPending(false);\n    });\n  }, []);\n\n  if (pending) {\n    return <WithLoader isLoading className=\"globalLoader\" />;\n  }\n\n  return <AuthContext.Provider value={currentUser}>{children}</AuthContext.Provider>;\n};\n\nAuthProvider.propTypes = {\n  children: PropTypes.element.isRequired\n};\n","import React, { createContext, useEffect, useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { db } from '../firebase';\nimport { AuthContext } from './AuthProvider';\n\nexport type NotificationsStateType = {\n  data: firebase.default.firestore.DocumentData[];\n  unsubscriber: () => unknown;\n};\n\ninterface INotifications {\n  children: JSX.Element | JSX.Element[];\n}\n\nexport const NotificationContext = createContext<NotificationsStateType | undefined>({\n  data: [],\n  unsubscriber: () => {\n    throw new Error('unsubscriber must be overriden');\n  }\n});\n\nexport const NotificationsProvider: React.FC<INotifications> = ({ children }) => {\n  const [changes, setChanges] = useState<NotificationsStateType>({\n    data: [],\n    unsubscriber: () => {\n      throw new Error('unsubscriber must be overriden');\n    }\n  });\n  const user = useContext(AuthContext);\n\n  useEffect(() => {\n    if (user && user.uid) {\n      const unsubscribe = db\n        .collection('users')\n        .doc(user.uid)\n        .collection('followers')\n        .orderBy('timestamp', 'desc')\n        .onSnapshot(snapshot => {\n          setChanges({ data: snapshot.docs, unsubscriber: unsubscribe });\n        });\n    }\n  }, [user]);\n\n  return <NotificationContext.Provider value={changes}>{children}</NotificationContext.Provider>;\n};\n\nNotificationsProvider.propTypes = {\n  children: PropTypes.element.isRequired\n};\n","import React, { useContext } from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { AuthContext } from '../context/AuthProvider';\r\n\r\nexport const DefaultRoute: React.FC = () => {\r\n  const user = useContext(AuthContext);\r\n\r\n  return (\r\n    <Route\r\n      path=\"/\"\r\n      render={() => {\r\n        if (user === undefined) {\r\n          return <CircularProgress />;\r\n        }\r\n\r\n        if (user) {\r\n          return <Redirect to=\"/feed\" />;\r\n        }\r\n\r\n        return <Redirect to=\"/\" />;\r\n      }}\r\n    />\r\n  );\r\n};\r\n","import React from 'react';\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied';\nimport { Link } from 'react-router-dom';\nimport './LoginRequired.scss';\n\nexport const LoginRequired: React.FC = () => (\n  <article className=\"loginRequired\">\n    <h1 className=\"loginRequired__title\">To visit this page you need to login first!</h1>\n    <SentimentVeryDissatisfiedIcon className=\"loginRequired__icon\" />\n    <div className=\"loginRequired__wrapper\">\n      <p className=\"loginRequired__hint\">Already have an account?</p>\n      <Link to=\"/signin\" className=\"loginRequired__link\">\n        Sign in!\n      </Link>\n    </div>\n    <div className=\"loginRequired__wrapper\">\n      <p className=\"loginRequired__hint\">Don&apos;t have an account?</p>\n      <Link to=\"/signup\" className=\"loginRequired__link\">\n        Sign up!\n      </Link>\n    </div>\n  </article>\n);\n","import React, { useContext } from 'react';\nimport { Route, RouteProps } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { AuthContext } from '../context/AuthProvider';\nimport { LoginRequired } from '../pages/LoginRequired/LoginRequired';\n\nexport const ProtectedRoute: React.FC<RouteProps> = ({ exact, path, component }) => {\n  const user = useContext(AuthContext);\n\n  if (user) {\n    return <Route exact={exact} path={path} component={component} />;\n  }\n  return <LoginRequired />;\n};\n\nProtectedRoute.defaultProps = {\n  exact: true,\n  component: undefined\n};\n\nProtectedRoute.propTypes = {\n  exact: PropTypes.bool,\n  path: PropTypes.string.isRequired,\n  component: PropTypes.func\n};\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { TextField } from '@material-ui/core';\r\nimport { FormFieldConfigInterface } from '../../interfaces/FormInterfaces';\r\n\r\nexport type FormFieldInterface = FormFieldConfigInterface & {\r\n  className?: string;\r\n  onClick: (event: React.MouseEvent<HTMLDivElement>) => void;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n};\r\n\r\nexport const FormField: React.FC<FormFieldInterface> = ({\r\n  label,\r\n  type,\r\n  name,\r\n  isError,\r\n  errorText,\r\n  value,\r\n  className,\r\n  onClick,\r\n  onChange\r\n}: FormFieldInterface) => (\r\n  <TextField\r\n    variant=\"standard\"\r\n    label={label}\r\n    type={type}\r\n    name={name}\r\n    error={isError}\r\n    helperText={errorText}\r\n    value={value}\r\n    className={className}\r\n    onClick={onClick}\r\n    onChange={onChange}\r\n    inputProps={{\r\n      'data-testid': name\r\n    }}\r\n  />\r\n);\r\n\r\nFormField.defaultProps = {\r\n  className: ''\r\n};\r\n\r\nFormField.propTypes = {\r\n  label: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  isError: PropTypes.bool.isRequired,\r\n  errorText: PropTypes.string.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n  onClick: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired\r\n};\r\n","import { History, LocationState } from 'history';\nimport { auth, db } from '../firebase';\nimport { ErrorInterface, SignupCredentials } from '../shared/interfaces/FormInterfaces';\nimport { customToast } from './customToast';\n\ntype SignUpWithCredentailsInterface = SignupCredentials & {\n  history: History<LocationState>;\n  setError: React.Dispatch<React.SetStateAction<ErrorInterface>>;\n};\n\nexport const signUpWithCredentails = async ({\n  email,\n  password,\n  name,\n  history,\n  setError\n}: SignUpWithCredentailsInterface): Promise<void> => {\n  try {\n    await auth.createUserWithEmailAndPassword(email, password);\n    await auth.currentUser?.updateProfile({\n      displayName: name\n    });\n    await db.collection('users').doc(auth.currentUser?.uid).set({\n      displayName: name,\n      id: auth.currentUser?.uid,\n      headline: ''\n    });\n    history.push('/feed');\n    customToast('success', 'Successfully Sign Up');\n  } catch (err) {\n    setError({\n      isError: true,\n      errorText: err.message\n    });\n  }\n};\n","import React, { useState, useMemo } from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { SignUpCredentialsInterface, ErrorMessageSignupVisibleInterface } from '../../shared/interfaces/FormInterfaces';\r\nimport { useSignupFormValidation } from './useSignupFormValidation';\r\nimport { useFormFieldsConfig } from './useFormFieldsConfig';\r\nimport { FormField } from '../../shared/components/FormField/FormField';\r\nimport { signUpWithCredentails } from '../../actions/signUpWithCredentails';\r\n\r\nexport const SignupForm: React.FC = () => {\r\n  const history = useHistory();\r\n  const [formData, setFormData] = useState<SignUpCredentialsInterface>({\r\n    name: '',\r\n    password: '',\r\n    repeatPassword: '',\r\n    email: ''\r\n  });\r\n  const [isErrorMessageVisible, setIsErrorMessageVisible] = useState<ErrorMessageSignupVisibleInterface>({\r\n    name: false,\r\n    email: false,\r\n    password: false,\r\n    repeatPassword: false\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { error, setError, validateForm } = useSignupFormValidation(formData);\r\n  const formFieldsConfig = useMemo(\r\n    () => useFormFieldsConfig(formData, isErrorMessageVisible),\r\n    [formData, isErrorMessageVisible]\r\n  );\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (event: React.ChangeEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    if (validateForm()) {\r\n      const { email, password, name } = formData;\r\n      await signUpWithCredentails({ email, password, name, history, setError });\r\n    }\r\n\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"formLayout__form\">\r\n      <h1 className=\"formLayout__text\">Sign up</h1>\r\n      <form className=\"form__container\" data-testid=\"signupForm\" onSubmit={handleSubmit}>\r\n        {formFieldsConfig.map(({ label, type, name, isError, errorText, value }) => (\r\n          <FormField\r\n            key={name}\r\n            label={label}\r\n            type={type}\r\n            name={name}\r\n            isError={isError}\r\n            errorText={errorText}\r\n            value={value}\r\n            className=\"form__input\"\r\n            // eslint-disable-next-line\r\n            onClick={(event: React.MouseEvent<HTMLDivElement>) =>\r\n              setIsErrorMessageVisible({ ...isErrorMessageVisible, [name]: true })\r\n            }\r\n            onChange={handleChange}\r\n          />\r\n        ))}\r\n        {error.isError && <p className=\"form__error\">{error.errorText}</p>}\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className=\"form__submit\"\r\n          type=\"submit\"\r\n          disabled={isLoading}\r\n          datatest-id=\"signup_button\"\r\n        >\r\n          Register\r\n        </Button>\r\n      </form>\r\n      <p className=\"hint\">\r\n        Already have an account?{' '}\r\n        <Link className=\"cta__button\" to=\"/signIn\">\r\n          Sign in!\r\n        </Link>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n","import { useState } from 'react';\r\nimport { SignUpCredentialsInterface, ErrorInterface } from '../../shared/interfaces/FormInterfaces';\r\nimport { ValidationInterface } from '../../shared/interfaces/ValidationInterfaces';\r\n\r\nexport const useSignupFormValidation = (signUpFormData: SignUpCredentialsInterface): ValidationInterface => {\r\n  const initialErrorData: ErrorInterface = {\r\n    isError: false,\r\n    errorText: ''\r\n  };\r\n  const [error, setError] = useState(initialErrorData);\r\n\r\n  const validateForm = (): boolean => {\r\n    const { name, email, password, repeatPassword } = signUpFormData;\r\n\r\n    const isAnyEmpty = () => {\r\n      if (name.trim() === '' || email.trim() === '' || password.trim() === '' || repeatPassword.trim() === '') {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    const isNicknameNotValid = () => {\r\n      if (name.length < 3 || name.length > 30) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    const isPasswordNotValid = () => {\r\n      if (password.length < 8) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    const isPasswordNotMatch = () => {\r\n      if (password !== repeatPassword) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    if (isAnyEmpty()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: \"Fields can't be empty\"\r\n      });\r\n      return false;\r\n    }\r\n\r\n    if (isNicknameNotValid()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: 'Nickname must be longer than 3 characters and shorter than 30 characters'\r\n      });\r\n      return false;\r\n    }\r\n\r\n    if (isPasswordNotValid()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: 'Password must be at least 8 characters'\r\n      });\r\n      return false;\r\n    }\r\n\r\n    if (isPasswordNotMatch()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: 'Passwords must match'\r\n      });\r\n      return false;\r\n    }\r\n\r\n    setError(initialErrorData);\r\n    return true;\r\n  };\r\n\r\n  return {\r\n    error,\r\n    setError,\r\n    validateForm\r\n  };\r\n};\r\n","import {\r\n  SignUpCredentialsInterface,\r\n  FormFieldConfigInterface,\r\n  ErrorMessageSignupVisibleInterface\r\n} from '../../shared/interfaces/FormInterfaces';\r\n\r\nexport const useFormFieldsConfig = (\r\n  formData: SignUpCredentialsInterface,\r\n  errorMessageVisible: ErrorMessageSignupVisibleInterface\r\n): FormFieldConfigInterface[] => [\r\n  {\r\n    label: 'Email',\r\n    type: 'email',\r\n    name: 'email',\r\n    isError: formData.email === '' && errorMessageVisible.email,\r\n    errorText: formData.email === '' && errorMessageVisible.email ? \"Email can't be empty\" : ' ',\r\n    value: formData.email\r\n  },\r\n  {\r\n    label: 'Password',\r\n    type: 'password',\r\n    name: 'password',\r\n    isError: formData.password === '' && errorMessageVisible.password,\r\n    errorText: formData.password === '' && errorMessageVisible.password ? \"Password can't be empty\" : ' ',\r\n    value: formData.password\r\n  },\r\n  {\r\n    label: 'Repeat password',\r\n    type: 'password',\r\n    name: 'repeatPassword',\r\n    isError: formData.repeatPassword === '' && errorMessageVisible.repeatPassword,\r\n    errorText:\r\n      formData.repeatPassword === '' && errorMessageVisible.repeatPassword ? \"Repeat Password can't be empty\" : ' ',\r\n    value: formData.repeatPassword\r\n  },\r\n  {\r\n    label: 'Nickname',\r\n    type: 'text',\r\n    name: 'name',\r\n    isError: formData.name === '' && errorMessageVisible.name,\r\n    errorText: formData.name === '' && errorMessageVisible.name ? \"Nickname can't be empty\" : ' ',\r\n    value: formData.name\r\n  }\r\n];\r\n","import { History, LocationState } from 'history';\nimport { auth } from '../firebase';\nimport { ErrorInterface } from '../shared/interfaces/FormInterfaces';\nimport { customToast } from './customToast';\n\ninterface signInWithCredentials {\n  email: string;\n  password: string;\n  setError: React.Dispatch<React.SetStateAction<ErrorInterface>>;\n  history: History<LocationState>;\n}\n\n// eslint-disable-next-line\nexport const signInWithCredentials = ({ email, password, setError, history }: signInWithCredentials): Promise<void> =>\n  auth\n    .signInWithEmailAndPassword(email, password)\n    .then(() => {\n      history.push('/feed');\n      customToast('success', 'Successfully Sign In');\n    })\n    .catch(error => {\n      setError({\n        isError: true,\n        errorText: error.message\n      });\n    });\n","import React, { useState, useMemo } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport { LoginCredentialsInterface, ErrorMessageLoginVisibleInterface } from '../../shared/interfaces/FormInterfaces';\r\nimport { useLoginFormValidation } from './useLoginFormValidation';\r\nimport { useFormLoginFieldsConfig } from './useFormLoginFieldsConfig';\r\nimport { FormField } from '../../shared/components/FormField/FormField';\r\nimport { signInWithCredentials } from '../../actions/signInWithCredentials';\r\n\r\nexport const LoginForm: React.FC = () => {\r\n  const history = useHistory();\r\n  const [formData, setFormData] = useState<LoginCredentialsInterface>({\r\n    password: '',\r\n    email: ''\r\n  });\r\n  const [isErrorMessageVisible, setIsErrorMessageVisible] = useState<ErrorMessageLoginVisibleInterface>({\r\n    email: false,\r\n    password: false\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { error, setError, validateForm } = useLoginFormValidation(formData);\r\n  const formFieldsConfig = useMemo(\r\n    () => useFormLoginFieldsConfig(formData, isErrorMessageVisible),\r\n    [formData, isErrorMessageVisible]\r\n  );\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (event: React.ChangeEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    if (validateForm()) {\r\n      const { email, password } = formData;\r\n      await signInWithCredentials({ email, password, setError, history });\r\n    }\r\n\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"formLayout__form\">\r\n      <h1 className=\"formLayout__text\">Sign in</h1>\r\n      <form className=\"form__container\" onSubmit={handleSubmit}>\r\n        {formFieldsConfig.map(({ label, type, name, isError, errorText, value }) => (\r\n          <FormField\r\n            key={name}\r\n            label={label}\r\n            type={type}\r\n            name={name}\r\n            isError={isError}\r\n            errorText={errorText}\r\n            className=\"form__input\"\r\n            // eslint-disable-next-line\r\n            onClick={(event: React.MouseEvent<HTMLDivElement>) => {\r\n              setIsErrorMessageVisible({ ...isErrorMessageVisible, [name]: true });\r\n            }}\r\n            value={value}\r\n            onChange={handleChange}\r\n          />\r\n        ))}\r\n        {error.isError && <p className=\"form__error\">{error.errorText}</p>}\r\n        <Button\r\n          data-testid=\"signin_button\"\r\n          className=\"form__submit\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          disabled={isLoading}\r\n          type=\"submit\"\r\n        >\r\n          Sign in\r\n        </Button>\r\n      </form>\r\n      <p className=\"hint\">\r\n        Don&apos;t have an account?\r\n        <Link to=\"/signUp\" className=\"cta__button\">\r\n          Sign up!\r\n        </Link>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n","import { useState } from 'react';\r\nimport { LoginCredentialsInterface, ErrorInterface } from '../../shared/interfaces/FormInterfaces';\r\nimport { ValidationInterface } from '../../shared/interfaces/ValidationInterfaces';\r\n\r\nexport const useLoginFormValidation = (LoginFormData: LoginCredentialsInterface): ValidationInterface => {\r\n  const initialErrorData: ErrorInterface = {\r\n    isError: false,\r\n    errorText: ''\r\n  };\r\n  const [error, setError] = useState(initialErrorData);\r\n\r\n  const validateForm = (): boolean => {\r\n    const { email, password } = LoginFormData;\r\n\r\n    const isAnyEmpty = () => email.trim() === '' || password.trim() === '';\r\n\r\n    if (isAnyEmpty()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: \"Fields can't be empty\"\r\n      });\r\n      return false;\r\n    }\r\n\r\n    setError(initialErrorData);\r\n    return true;\r\n  };\r\n\r\n  return {\r\n    error,\r\n    setError,\r\n    validateForm\r\n  };\r\n};\r\n","import {\r\n  ErrorMessageLoginVisibleInterface,\r\n  LoginCredentialsInterface,\r\n  FormFieldConfigInterface\r\n} from '../../shared/interfaces/FormInterfaces';\r\n\r\nexport const useFormLoginFieldsConfig = (\r\n  formData: LoginCredentialsInterface,\r\n  errorMessageVisible: ErrorMessageLoginVisibleInterface\r\n): FormFieldConfigInterface[] => [\r\n  {\r\n    label: 'E-mail',\r\n    type: 'email',\r\n    name: 'email',\r\n    isError: formData.email === '' && errorMessageVisible.email,\r\n    errorText: formData.email === '' && errorMessageVisible.email ? \"Email can't be empty\" : ' ',\r\n    value: formData.email\r\n  },\r\n  {\r\n    label: 'Password',\r\n    type: 'password',\r\n    name: 'password',\r\n    isError: formData.password === '' && errorMessageVisible.password,\r\n    errorText: formData.password === '' && errorMessageVisible.password ? \"Password can't be empty\" : ' ',\r\n    value: formData.password\r\n  }\r\n];\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAFoCAMAAABNO5HnAAAAvVBMVEXh4eGjo6OkpKSpqamrq6vg4ODc3Nzd3d2lpaXf39/T09PU1NTBwcHOzs7ExMS8vLysrKy+vr7R0dHFxcXX19e5ubmzs7O6urrZ2dmnp6fLy8vHx8fY2NjMzMywsLDAwMDa2trV1dWysrLIyMi0tLTCwsLKysrNzc2mpqbJycnQ0NC/v7+tra2qqqrDw8OoqKjGxsa9vb3Pz8+1tbW3t7eurq7e3t62travr6+xsbHS0tK4uLi7u7vW1tbb29sZe/uLAAAG2UlEQVR4XuzcV47dSAyG0Z+KN+ccO+ecHfe/rBl4DMNtd/cNUtXD6DtLIAhCpMiSXwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIhHnfm0cVirHTam884sVu6Q1GvPkf0heq7VE+UF5bt2y97Vat+VlRniev/EVjjp12NlgdEytLWEy5G2hepDYOt7qGob2L23Dd3valPY6dsW+jvaBOKrkm2ldBVrbag+2tYeq1oX6RxYBsF6SY3vA8to8F0roRJaZmFFK2ASWA6CiT6EhuWkoQ9gablZ6l1oW47aWoF8dpvT6FrOunoD5pa7uf6CaslyV6rqD0guzYHLRK/hwJw40Cu4MUdu9Bt8C8yR4Jt+gRbmzEKvUTicFw8kY3NonOg/aJpTTf2AWWBOBTNBkvrmWF+QNDPnZoLUNOeagpKSOVdKhK550BVa5kGLOFfMCxY92ubFuYouNC9CFdyuebKrYrsyL9hcGpgnAxVaXDJPSrGKrGreVFVkU/NmykDJj1sV2Z55s0e74hwtS9k8KvNzxY8ZozvX+L67M4/uVFwT84Kt9CPz6EjFdUqgMyCjCTSHWD4cq7jOzKMzxtGu8ddwxzzaUXHFgXkTxCqwyLyJOON0j9POc/OCpbAj+hU/Zsz9Pbk2T65VbM/mybOKbd882VexjegLPXk0L154uvF/tR5N7RjJB9bvBsLEPJgI5dCcC2P5wL3QlSClJ+bYSSpIqpljh4IkpWNzapzqB3T9vCGBuGUOtWL9hDNPizMYmjND/QIloTkSJvKB4tHRK1iaE0u9hnhgDgxi/QFJZLmLEv0FvbHlbNzTG9ApWa5KHb0J9cByFNT1DhznGOngWO9CvWQ5KdX1AXweWy7Gn/Uh9CLLQdTTCkgPLLODVCshPrSMarHWgUpkGURrl2c83drWbp+0PlRebCsvFW0G+6FtLNzXxlDuXttGrrtlbQPlacvW1ppmCDPOHgJbQ/BwpmyQnh6siHVwcJoqB3iqNx/tHY/N+pPyg7Rz83Xv0n5zuff1ppPKCSS9audf1V6i9QAAAAAAAAAAAAAAAAAAAAAAEMdyAuVeZ9I4H95/uojGgf0QjKOLT/fD88ak0ysrI6SVo9qXRWgrhIsvtaNKqs2hXNlvD0LbSDho71fKWhsxvulf2NYu+jcro42d+e0isMyCxe18R2/D6HQYWY6i4elIryE9brbMgVbzONVP2G3sBeZMsNfYFf5h715302aDIADP2Lw+CIdDQhKcGuIgKKSIk1MSMND7v6zvBvqprdqY3bWfS1itRto/O+52t+KnW+2+OdSYK+5TViS9LxxqyX07p6xUeq7hXl+WPq/AX15QI+9fDryaw5d31EP7HPGqonMb5rmvYwow/upgWTDzKYQ/C2BV3o8oSNTPYVH26FEY7zGDNfnZo0DeOYclwc6jUN4ugBVxZ0HBFp0YJoxaFK41gn7ZGxWYZtDNrSOqEK0dFLscqMbhArXuIioS3UGnHw9U5uEHFCp9quOXUGfrUSFvC11cl0p1nbK+KwHs92yFYyo2DqFEsKdq+wAqhHsqtw+hQHykescY4rnvNOC7g3TPNOEZwt3QiBuINkxpRDqEZFOaMYVgTzTkCWKFGxqyCSHVkqYsIVQQ0ZQogEwJjUkgkvNpjO8g0ZzmzCHRieacIJBLaU7qIE+bBrUhz5YGbSHPmQadIc+EBk0gT48G9SDPPQ06QZ5gQ3M2AQQa0ZwRqtCExz1kClc0ZRVCqFuacguxEhqSQC53pBlHB8HyDY3Y5BDttgnoinRoQgfinZrTuxrxgeodYiiQ+1TOz6HCy4KqLV6gREHVCqjxSsVeociaaq2hyjOVeoYyXarUhTrdZs4VeaQ6j9DIdZsXEhXpU5U+1EqoSALFtlRjC9VGHlXwRlCuTKlAWkK9rEfxehkMCB8o3EMIE1yfovUdrHiKKFb0BEMuPQrVu8CU9xNFOr3DmtcFxVm8wqBsTGHGGUxya4+CeGsHqwZjijEewDAn5Rt9dOdgWzZt6kAqMm/xylpz1EI8i3hF0SxGXQxPvJrTEHXyMuVVTF9QN+WElZuUqKPiyEodC9RV+cbKvJWos0E1TbTe4wB1l89W/GSrWY4G4G4+NUHebhwEkGGYtPgpWskQAkjSXvr8x/xlGz/RKHcr/jOrXYn/1bh0Jh7/mjfpXPALjXC+O/Av7HfzEL+nERbJZME/tpgkRYg/1Mjms48Wf1PrYzbPIIBW8aDY9j/2vsef8vz9R39bDOL/2qlDIwCBGACCOMTLl4klOpP+i4MimFe7DZy7v3rcuaYqej+f3VE1K09+AgAAAAAAAAAAAAAAAAAAAAAAgBf6wsTW1jN3CAAAAABJRU5ErkJggg==\"","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\ninterface ErrorProps {\r\n  isError: boolean;\r\n  errorMessage: string;\r\n  children?: React.ReactElement;\r\n  className?: string;\r\n  testid?: string;\r\n}\r\n\r\nexport const WithError: React.FC<ErrorProps> = ({ isError, errorMessage, children, className, testid }) => {\r\n  if (isError) {\r\n    return (\r\n      <p className={className} data-testid={testid}>\r\n        {errorMessage}\r\n      </p>\r\n    );\r\n  }\r\n\r\n  if (!children) {\r\n    return null;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nWithError.propTypes = {\r\n  isError: PropTypes.bool.isRequired,\r\n  errorMessage: PropTypes.string.isRequired,\r\n  children: PropTypes.element,\r\n  className: PropTypes.string,\r\n  testid: PropTypes.string\r\n};\r\n","import { useState, useEffect } from 'react';\nimport { User } from '../shared/interfaces/UserInterfaces';\nimport { db } from '../firebase';\n\ninterface GetUserData {\n  userData: User;\n  isLoading: boolean;\n  isError: boolean;\n}\n\nexport const useGetUserData = (userUid: string): GetUserData => {\n  const [state, setState] = useState<GetUserData>({\n    userData: {\n      displayName: '',\n      headline: '',\n      avatar: '',\n      id: ''\n    },\n    isLoading: true,\n    isError: false\n  });\n\n  const getUserData = async () => {\n    try {\n      const userData = (await db.collection('users').doc(userUid).get()).data();\n      setState({ ...state, isLoading: false, userData: userData as User });\n    } catch (error) {\n      setState({ ...state, isError: true, isLoading: false });\n    }\n  };\n\n  useEffect(() => {\n    getUserData();\n  }, []);\n\n  return state;\n};\n","import { auth, db } from '../firebase';\nimport { User } from '../shared/interfaces/UserInterfaces';\nimport { customToast } from './customToast';\n\nexport const editProfile = async (userUid: string, newData: User): Promise<void> => {\n  try {\n    await auth.currentUser?.updateProfile(newData);\n    await db\n      .collection('users')\n      .doc(userUid)\n      .update(newData)\n      .then(() => customToast('success', 'Profil successfully edited'));\n  } catch (error) {\n    // eslint-disable-next-line\n    customToast('error', 'There was a problem with Editing Your Profile');\n  }\n};\n","import { auth, db, storage } from '../firebase';\n\nexport const updateAvatar = async (userUid: string, file: File): Promise<void> => {\n  try {\n    const url = `users/${userUid}/profile.jpg`;\n    await storage.ref(url).put(file);\n    const avatarUrl = await storage.ref(url).getDownloadURL();\n    await db.collection('users').doc(userUid).update({\n      avatar: avatarUrl\n    });\n    await auth.currentUser?.updateProfile({\n      photoURL: avatarUrl\n    });\n  } catch (error) {\n    // eslint-disable-next-line\n    console.log(error);\n  }\n};\n","import React, { useState, createContext, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\ninterface DarkModeProviderProps {\n  children: React.ReactNode;\n}\n\nconst useProviderDarkMode = () => {\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  return { isDarkMode, setIsDarkMode };\n};\n\ntype DarkModeContextData = ReturnType<typeof useProviderDarkMode>;\n\nexport const DarkModeContext = createContext<DarkModeContextData | null>(null);\n\nexport const DarkModeProvider: React.FC<DarkModeProviderProps> = ({ children }) => {\n  const value = useProviderDarkMode();\n  return <DarkModeContext.Provider value={value}>{children}</DarkModeContext.Provider>;\n};\n\nexport const useDarkMode: () => DarkModeContextData = () => {\n  const darkMode = useContext(DarkModeContext);\n  if (!darkMode) {\n    throw new Error('useDarkMode must be used inside DarkModeProvider');\n  }\n  return darkMode;\n};\n\nDarkModeProvider.propTypes = {\n  children: PropTypes.element.isRequired\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { DropzoneArea } from 'material-ui-dropzone';\nimport { Button, TextField } from '@material-ui/core';\nimport { WithLoader } from '../WithLoader/WithLoader';\nimport { WithError } from '../WithError/WithError';\nimport { AuthContext } from '../../context/AuthProvider';\nimport { useGetUserData } from '../../actions/useGetUserData';\nimport { editProfile } from '../../actions/editProfile';\nimport { updateAvatar } from '../../actions/updateAvatar';\nimport { User } from '../../shared/interfaces/UserInterfaces';\nimport { customToast } from '../../actions/customToast';\nimport { useDarkMode } from '../../context/DarkModeProvider';\nimport './EditProfileForm.scss';\n\ninterface EditProfileFormProps {\n  closeModal: () => void;\n}\n\nexport const EditProfileForm: React.FC<EditProfileFormProps> = ({ closeModal }) => {\n  const MIN_NICKNAME_CHARACTERS = 3;\n  const MAX_NICKNAME_CHARACTERS = 30;\n  const MAX_HEADLINE_CHARACTERS = 30;\n  const initialFormData = {\n    displayName: '',\n    headline: ''\n  };\n  const currentUser = useContext(AuthContext);\n  const [shouldDataChange, setShouldDataChange] = useState(false);\n  const [formData, setFormData] = useState(initialFormData);\n  const { isDarkMode } = useDarkMode();\n  const { userData, isLoading, isError } = useGetUserData(currentUser?.uid as string);\n\n  useEffect(() => {\n    setFormData(userData);\n    return () => setFormData(initialFormData);\n  }, [userData]);\n\n  const isNicknameNotValid =\n    formData.displayName.trim() === '' ||\n    formData.displayName.length < MIN_NICKNAME_CHARACTERS ||\n    formData.displayName.length > MAX_NICKNAME_CHARACTERS;\n  const isHeadlineNotValid = formData.headline.length >= MAX_HEADLINE_CHARACTERS;\n\n  const validateForm = (): boolean => !isNicknameNotValid && !isHeadlineNotValid;\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = event.target;\n    setFormData({ ...formData, [name]: value });\n    setShouldDataChange(true);\n  };\n\n  const handleSubmit = (event: React.ChangeEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    if (validateForm()) {\n      if (event.target.avatar.files[0]) {\n        updateAvatar(currentUser?.uid as string, event.target.avatar.files[0]);\n      }\n      editProfile(currentUser?.uid as string, formData as User);\n      setShouldDataChange(false);\n      closeModal();\n    }\n  };\n\n  const rejectFiles = () => {\n    customToast('error', 'Enter image with correct extension', false);\n  };\n\n  return (\n    <WithLoader isLoading={isLoading}>\n      <WithError isError={isError} errorMessage=\"Something went wrong please try again...\">\n        <form className=\"editForm\" onSubmit={handleSubmit}>\n          <TextField\n            className={classNames('editForm__field', { 'editForm__field--dark': isDarkMode })}\n            variant=\"outlined\"\n            label=\"Enter new name\"\n            type=\"text\"\n            name=\"displayName\"\n            id=\"displayName\"\n            error={isNicknameNotValid}\n            helperText={\n              isNicknameNotValid ? 'Nickname must be longer than 3 characters and shorter than 30 characters' : ''\n            }\n            value={formData.displayName}\n            onChange={handleChange}\n            data-testid=\"displayName\"\n          />\n          <TextField\n            className={classNames('editForm__field', { 'editForm__field--dark': isDarkMode })}\n            variant=\"outlined\"\n            label=\"Enter new headline\"\n            type=\"text\"\n            name=\"headline\"\n            id=\"headline\"\n            error={isHeadlineNotValid}\n            helperText={isHeadlineNotValid ? 'Headline must be shorter than 30 characters' : ''}\n            value={formData.headline}\n            onChange={handleChange}\n            rows={2}\n            multiline\n            data-testid=\"bio\"\n          />\n          <DropzoneArea\n            dropzoneText=\"Enter new avatar\"\n            dropzoneParagraphClass=\"dropzone__text\"\n            acceptedFiles={['image/*']}\n            filesLimit={1}\n            showAlerts={false}\n            onDrop={() => setShouldDataChange(true)}\n            onDropRejected={rejectFiles}\n            inputProps={{\n              id: 'avatar',\n              name: 'avatar'\n            }}\n          />\n          <Button variant=\"contained\" color=\"primary\" type=\"submit\" disabled={!shouldDataChange}>\n            Edit\n          </Button>\n        </form>\n      </WithError>\n    </WithLoader>\n  );\n};\n\nEditProfileForm.propTypes = {\n  closeModal: PropTypes.func.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Modal from 'react-modal';\nimport { IconButton } from '@material-ui/core';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { EditProfileForm } from '../EditProfileForm/EditProfileForm';\nimport { useDarkMode } from '../../context/DarkModeProvider';\nimport './EditProfile.scss';\n\nModal.setAppElement('#root');\n\ninterface EditProfileProps {\n  isOpen: boolean;\n  setIsModalOpen: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nexport const EditProfile: React.FC<EditProfileProps> = ({ isOpen, setIsModalOpen }) => {\n  const { isDarkMode } = useDarkMode();\n\n  const closeModal = () => {\n    setIsModalOpen(false);\n  };\n\n  return (\n    <Modal\n      className={classNames('modal', { 'modal--dark': isDarkMode })}\n      isOpen={isOpen}\n      onRequestClose={closeModal}\n      overlayClassName=\"overlay\"\n      data-testId=\"editProfileModal\"\n    >\n      <p className=\"modal__title\">Edit your profile</p>\n      <EditProfileForm closeModal={closeModal} />\n      <section className=\"modal__close\">\n        <IconButton onClick={closeModal} className=\"modal__closeButton\">\n          <CancelIcon />\n        </IconButton>\n      </section>\n    </Modal>\n  );\n};\n\nEditProfile.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  setIsModalOpen: PropTypes.func.isRequired\n};\n","import * as firebase from 'firebase';\nimport { auth, db } from '../firebase';\nimport { customToast } from './customToast';\n\ntype action = 'follow' | 'unfollow';\n\nexport const followAction = async (receiverUid: string, displayName: string, action: action): Promise<void> => {\n  const currentUserUid = auth.currentUser?.uid;\n  const userRef = db.collection('users').doc(currentUserUid).collection('followed').doc(receiverUid);\n  const receiverRef = db.collection('users').doc(receiverUid).collection('followers').doc(currentUserUid);\n  switch (action) {\n    case 'follow':\n      try {\n        await userRef.set({\n          timestamp: firebase.default.firestore.FieldValue.serverTimestamp(),\n          seen: false\n        });\n        await receiverRef.set({\n          timestamp: firebase.default.firestore.FieldValue.serverTimestamp(),\n          seen: false\n        });\n        customToast('default', `Followed ${displayName} 😃`);\n      } catch (error) {\n        // eslint-disable-next-line\n        console.log(error);\n      }\n      break;\n    case 'unfollow':\n      try {\n        await userRef.delete();\n        await receiverRef.delete();\n        customToast('default', `Unfollowed ${displayName} ☹️`);\n      } catch (error) {\n        // eslint-disable-next-line\n        console.log(error);\n      }\n      break;\n    default:\n      throw new Error();\n  }\n};\n","import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport { Button } from '@material-ui/core';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport EditIcon from '@material-ui/icons/Edit';\nimport AvatarPlaceholder from '../../assets/images/avatar_placeholder.png';\nimport { EditProfile } from '../EditProfile/EditProfile';\nimport { followAction } from '../../actions/followAction';\nimport { useDarkMode } from '../../context/DarkModeProvider';\nimport './UserDetails.scss';\n\ninterface UserDetailsProps {\n  ownerUid: string;\n  displayName: string;\n  headline?: string;\n  avatar: string;\n  isMyUserDetails: boolean;\n  isUserFollowedBy: boolean;\n  isUserFollowing: boolean;\n}\n\nexport const UserDetails: React.FC<UserDetailsProps> = ({\n  ownerUid,\n  displayName,\n  headline,\n  avatar,\n  isMyUserDetails,\n  isUserFollowedBy,\n  isUserFollowing\n}: UserDetailsProps) => {\n  const [isFollowing, setIsFollowing] = useState(isUserFollowing);\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\n  const { isDarkMode } = useDarkMode();\n\n  const handleClick = (action: 'follow' | 'unfollow') => {\n    followAction(ownerUid, displayName, action);\n    setIsFollowing(!isFollowing);\n  };\n\n  const followButtonHandler = () => {\n    const action = isFollowing ? 'unfollow' : 'follow';\n    const text = isUserFollowedBy ? 'follow back' : 'follow';\n\n    return (\n      <button type=\"button\" className=\"userDetails__followButton\" onClick={() => handleClick(action)}>\n        {isFollowing ? 'unfollow' : text}\n      </button>\n    );\n  };\n\n  return (\n    <section className={classNames('userDetails', { 'userDetails--dark': isDarkMode })}>\n      <img\n        className=\"userDetails__avatar\"\n        src={avatar || AvatarPlaceholder}\n        alt=\"User Avatar\"\n        width=\"164px\"\n        height=\"164px\"\n      />\n      <div className=\"userDetails__info\">\n        <header className=\"userDetails__name\">\n          {displayName}{' '}\n          {isMyUserDetails ? (\n            <span aria-label=\"editButton\" className=\"userDetails__edit\">\n              <Button\n                onClick={() => {\n                  setIsEditModalOpen(true);\n                }}\n              >\n                <EditIcon className={classNames('userDetails__icon', { 'userDetails__icon--dark': isDarkMode })} />\n              </Button>\n            </span>\n          ) : (\n            followButtonHandler()\n          )}\n        </header>\n        {isUserFollowedBy && (\n          <p className=\"userDetails__flare\">\n            <CheckCircleIcon fontSize=\"inherit\" /> User is following you\n          </p>\n        )}\n        <p className=\"userDetails__bio\">{headline}</p>\n      </div>\n      <EditProfile isOpen={isEditModalOpen} setIsModalOpen={setIsEditModalOpen} />\n    </section>\n  );\n};\n\nUserDetails.defaultProps = {\n  headline: ''\n};\n","import * as firebase from 'firebase';\nimport { auth, db } from '../firebase';\nimport { fields } from '../shared/interfaces/ProfileFieldInterfaces';\nimport { customToast } from './customToast';\n\ntype action = 'update' | 'delete';\n\nexport const updateProfileFields = async (profileField: fields, action: string): Promise<void> => {\n  const currentUserUid = auth.currentUser?.uid;\n  const userRef = db.collection('users').doc(currentUserUid);\n\n  switch (action) {\n    case 'update':\n      try {\n        await userRef\n          .update({\n            profileFields: firebase.default.firestore.FieldValue.arrayUnion(profileField)\n          })\n          .then(() => customToast('success', 'Field Added'));\n      } catch (error) {\n        // eslint-disable-next-line\n        customToast('error', 'There was a problem with adding a field');\n        console.log(error);\n      }\n      break;\n    case 'delete':\n      try {\n        await userRef\n          .update({\n            profileFields: firebase.default.firestore.FieldValue.arrayRemove(profileField)\n          })\n          .then(() => customToast('success', 'Field Removed'));\n      } catch (error) {\n        // eslint-disable-next-line\n        customToast('error', 'There was a problem with removing a field');\n        console.log(error);\n      }\n      break;\n    default:\n      throw new Error();\n  }\n};\n","import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport { TextField, Button } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport { useParams } from 'react-router-dom';\nimport { updateProfileFields } from '../../actions/updateProfileFields';\nimport { contentField, fields } from '../../shared/interfaces/ProfileFieldInterfaces';\nimport { useDarkMode } from '../../context/DarkModeProvider';\nimport { db } from '../../firebase';\nimport './UserPageFieldForm.scss';\n\ntype fieldType = {\n  name: string;\n  value: string;\n};\n\ntype UserPageParams = {\n  ownerUid: string;\n};\ninterface UserPageFieldFormProps {\n  data: boolean;\n  setter: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nexport const UserPageFieldForm: React.FC<UserPageFieldFormProps> = ({ data, setter }: UserPageFieldFormProps) => {\n  const MAX_FIELDS_THRESHOLD = 12;\n  const MAX_INPUT_LENGTH = 100;\n  const [fieldsData, setFieldsData] = useState<contentField>({});\n  const [fieldInputs, setFieldInputs] = useState<fieldType[]>([]);\n  const [formTitle, setFormTitle] = useState('');\n  const [titleError, setTitleError] = useState('');\n  const [fieldError, setFieldError] = useState(false);\n  const [fieldEntries, setFieldEntries] = useState<fields[]>([]);\n  const { isDarkMode } = useDarkMode();\n  const { ownerUid } = useParams<UserPageParams>();\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    event.preventDefault();\n    const { name, value } = event.target;\n    setFieldsData({ ...fieldsData, [name]: value });\n  };\n\n  const addField = () => {\n    const field = {\n      name: `field-${fieldInputs.length}`,\n      value: ''\n    };\n    const { name, value } = field;\n    setFieldInputs([...fieldInputs, field]);\n    setFieldsData({ ...fieldsData, [name]: value });\n  };\n\n  const checkKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.code === 'Enter') {\n      event.preventDefault();\n      addField();\n    }\n  };\n\n  useEffect(() => {\n    db.collection('users')\n      .doc(ownerUid)\n      .get()\n      .then(doc => {\n        setFieldEntries(doc.data()?.profileFields);\n      })\n      // eslint-disable-next-line\n      .catch(error => console.error(error));\n  }, []);\n\n  const validate = (): boolean => {\n    if (formTitle === '') {\n      setTitleError(\"Title can't be empty\");\n      return true;\n    }\n    if (fieldEntries.map(entry => entry?.title).includes(formTitle)) {\n      setTitleError('Title is already used');\n      return true;\n    }\n    if (Object.entries(fieldsData).length === 0) {\n      addField();\n      return true;\n    }\n    if (Object.entries(fieldsData).every(field => field[1].trim() === '')) {\n      setFieldError(!fieldError);\n      return true;\n    }\n    return false;\n  };\n\n  const handleSubmit = (event: React.ChangeEvent<HTMLFormElement>) => {\n    if (!validate()) {\n      const formData = {\n        content: Object.fromEntries(\n          Object.entries(fieldsData)\n            .map(([name, content]) => [name, content.trim()])\n            .filter(([, content]) => content !== '')\n        ),\n        title: formTitle\n      };\n      updateProfileFields(formData, 'update');\n      setter(!data);\n    }\n    event.preventDefault();\n  };\n\n  return (\n    <article className={classNames('userPageFieldForm', { 'userPageFieldForm--dark': isDarkMode })}>\n      <form onSubmit={handleSubmit}>\n        <div className={classNames('userPageFieldForm__title', { 'userPageFieldForm__title--dark': isDarkMode })}>\n          <TextField\n            error={Boolean(titleError)}\n            helperText={titleError}\n            onKeyDown={(e: React.KeyboardEvent<HTMLInputElement>) => checkKeyDown(e)}\n            onChange={event => setFormTitle(event.target.value)}\n            inputProps={{ maxLength: MAX_INPUT_LENGTH }}\n            variant=\"outlined\"\n            placeholder=\"Title\"\n            name=\"title\"\n          />\n        </div>\n        <ul>\n          {fieldInputs.map(({ name }) => (\n            <li className={classNames('userPageFieldForm__field', { 'userPageFieldForm__field--dark': isDarkMode })}>\n              <TextField\n                name={name}\n                value={fieldsData[name]}\n                error={fieldError}\n                helperText={fieldError && `At least one field must be filled`}\n                onKeyDown={(e: React.KeyboardEvent<HTMLInputElement>) => checkKeyDown(e)}\n                onChange={handleChange}\n                style={{ width: '100%' }}\n                inputProps={{ maxLength: MAX_INPUT_LENGTH }}\n              />\n            </li>\n          ))}\n        </ul>\n        {fieldInputs.length < MAX_FIELDS_THRESHOLD && (\n          <button\n            className={classNames('userPageFieldForm__addfield', { 'userPageFieldForm__addfield--dark': isDarkMode })}\n            type=\"button\"\n            onClick={addField}\n          >\n            <AddIcon role=\"button\" aria-label=\"Add new field\" />\n          </button>\n        )}\n        <span className=\"userPageFieldForm__submitButtonWrapper\">\n          <Button\n            className={classNames('userPageFieldForm__submitButton', {\n              'userPageFieldForm__submitButton--dark': isDarkMode\n            })}\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n          >\n            Confirm\n          </Button>\n        </span>\n      </form>\n    </article>\n  );\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { IconButton } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { UserPageFieldInterface, fields } from '../../shared/interfaces/ProfileFieldInterfaces';\nimport { WithLoader } from '../WithLoader/WithLoader';\nimport { WithError } from '../WithError/WithError';\nimport { useDarkMode } from '../../context/DarkModeProvider';\nimport { updateProfileFields } from '../../actions/updateProfileFields';\nimport './UserPageField.scss';\n\nexport const UserPageField: React.FC<UserPageFieldInterface<fields>> = ({\n  data,\n  isLoading,\n  isError,\n  isOwner\n}: UserPageFieldInterface<fields>) => {\n  const { isDarkMode } = useDarkMode();\n\n  return (\n    <WithLoader isLoading={isLoading}>\n      <WithError isError={isError} errorMessage=\"Couldn't get user data\">\n        <article className={classNames('userPageField', { 'userPageField--dark': isDarkMode })}>\n          {isOwner && (\n            <IconButton\n              onClick={() => updateProfileFields(data, 'delete')}\n              className={classNames('userPageField__delete', { 'userPageField__delete--dark': isDarkMode })}\n            >\n              <DeleteIcon fontSize=\"small\" />\n            </IconButton>\n          )}\n          <h3 className=\"userPageField__title\">{data.title}</h3>\n          <ul>\n            {Object.entries(data.content).map(([, fieldEntry], id) => (\n              // eslint-disable-next-line\n              <li key={id} className=\"userPageField__entries\">\n                {fieldEntry}\n              </li>\n            ))}\n          </ul>\n        </article>\n      </WithError>\n    </WithLoader>\n  );\n};\n\nUserPageField.propTypes = {\n  data: PropTypes.shape({\n    content: PropTypes.shape({\n      name: PropTypes.string.isRequired\n    }).isRequired,\n    title: PropTypes.string.isRequired\n  }).isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  isError: PropTypes.bool.isRequired\n};\n","import { useState, useEffect } from 'react';\nimport { db } from '../firebase';\n\nexport const useIsUserFollowed = (currentUserId: string | undefined, pageUserId: string | undefined): boolean => {\n  const [value, setValue] = useState(true);\n\n  const getFollows = async () => {\n    try {\n      const follows = await db.collection('users').doc(currentUserId).collection('followers').doc(pageUserId).get();\n      setValue(follows.exists);\n    } catch (error) {\n      // eslint-disable-next-line\n      console.error(error);\n    }\n  };\n  useEffect(() => {\n    getFollows();\n  }, [currentUserId, pageUserId]);\n\n  return value;\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { Avatar } from '@material-ui/core';\nimport { User } from '../../shared/interfaces/UserInterfaces';\nimport { useDarkMode } from '../../context/DarkModeProvider';\nimport './SearchHint.scss';\n\nexport const SearchHint: React.FC<User> = ({ displayName, id, avatar, headline }) => {\n  const { isDarkMode } = useDarkMode();\n\n  return (\n    <Link className=\"searchHint__link\" to={`/user/${id}`}>\n      <li className={classNames('searchHint', { 'searchHint--dark': isDarkMode })}>\n        <div className=\"searchHint__info\">\n          <span className=\"searchHint__name\">{displayName}</span>\n          <span>{headline}</span>\n        </div>\n        <Avatar className=\"searchHint__avatar\" src={avatar} />\n      </li>\n    </Link>\n  );\n};\n\nSearchHint.propTypes = {\n  displayName: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  avatar: PropTypes.string.isRequired,\n  headline: PropTypes.string.isRequired\n};\n","import React, { useEffect, useRef, useState } from 'react';\nimport SearchIcon from '@material-ui/icons/Search';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { useParams } from 'react-router-dom';\nimport { DebounceInput } from 'react-debounce-input';\nimport { SearchHint } from '../SearchHint/SearchHint';\nimport { User } from '../../shared/interfaces/UserInterfaces';\nimport { useDarkMode } from '../../context/DarkModeProvider';\nimport './Search.scss';\n\ninterface SearchProps {\n  testid?: string;\n  getHints?: (set: React.Dispatch<React.SetStateAction<User[][]>>, value: string) => void;\n  setIsSearchOpen?: React.Dispatch<React.SetStateAction<boolean>>;\n  isSearchOpen?: boolean;\n}\n\nexport const Search: React.FC<SearchProps> = ({ testid, getHints, setIsSearchOpen, isSearchOpen }) => {\n  const [searchInput, setSearchInput] = useState('');\n  const [searchHints, setSearchHints] = useState<User[][]>([]);\n  const { isDarkMode } = useDarkMode();\n  const container = useRef() as React.MutableRefObject<HTMLInputElement>;\n  const params = useParams();\n\n  const closeInputOutside = (ref: React.MutableRefObject<HTMLInputElement>) => {\n    if (setIsSearchOpen) {\n      useEffect(() => {\n        const handleOutsideClick = (event: Event) => {\n          if (ref.current && !ref.current.contains(event.target as HTMLElement)) {\n            setIsSearchOpen(false);\n            document.removeEventListener('click', handleOutsideClick);\n          }\n        };\n        if (isSearchOpen) {\n          document.addEventListener('click', handleOutsideClick);\n        }\n      }, [isSearchOpen, ref]);\n    }\n  };\n\n  useEffect(() => {\n    if (getHints) {\n      getHints(setSearchHints, searchInput);\n    }\n  }, [searchInput]);\n\n  useEffect(() => {\n    setSearchInput('');\n  }, [params]);\n\n  closeInputOutside(container);\n\n  return (\n    <div\n      className={classNames(\n        'search',\n        { 'search--hidden': isSearchOpen },\n        { 'search--dark': isDarkMode },\n        { 'search--hidden--dark': isSearchOpen && isDarkMode }\n      )}\n      data-testid={testid}\n    >\n      <div ref={container} className=\"search__container\">\n        <SearchIcon\n          onClick={() => {\n            if (setIsSearchOpen) {\n              setIsSearchOpen(true);\n            }\n          }}\n          className={classNames('search__icon', { 'search__icon--hidden': isSearchOpen })}\n        />\n        <DebounceInput\n          minLength={2}\n          debounceTimeout={200}\n          value={searchInput}\n          onChange={event => setSearchInput(event.target.value)}\n          data-testid={`${testid}Input`}\n          placeholder=\"Search...\"\n          className={classNames('search__input', { 'search__input--hidden': isSearchOpen })}\n          type=\"text\"\n        />\n      </div>\n      <ul className={classNames('search__hints', { 'search__hints--hidden': isSearchOpen })}>\n        {searchHints.map(([hint]) => (\n          <SearchHint\n            key={hint.id}\n            displayName={hint.displayName}\n            id={hint.id}\n            avatar={hint.avatar}\n            headline={hint.headline}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nSearch.defaultProps = {\n  testid: undefined,\n  setIsSearchOpen: undefined,\n  isSearchOpen: false\n};\n\nSearch.propTypes = {\n  testid: PropTypes.string,\n  getHints: PropTypes.func.isRequired,\n  setIsSearchOpen: PropTypes.func,\n  isSearchOpen: PropTypes.bool\n};\n","import React, { useEffect } from 'react';\nimport moment from 'moment';\nimport classNames from 'classnames';\nimport { Avatar } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { useGetUserData } from '../../actions/useGetUserData';\nimport { db } from '../../firebase';\nimport { useDarkMode } from '../../context/DarkModeProvider';\nimport './Notification.scss';\n\ninterface NotificationProps {\n  followerId: string;\n  userId: string | undefined;\n  timestamp: firebase.default.firestore.Timestamp;\n}\n\nexport const Notification: React.FC<NotificationProps> = ({ userId, followerId, timestamp }: NotificationProps) => {\n  const followingSince = moment.unix(timestamp.seconds).fromNow();\n  const { userData } = useGetUserData(followerId);\n  const { isDarkMode } = useDarkMode();\n\n  useEffect(\n    // eslint-disable-next-line\n    () => (): any => db.collection('users').doc(userId).collection('followers').doc(followerId).update({ seen: true }),\n    []\n  );\n\n  return (\n    <Link\n      className={classNames('notificationCard__link', { 'notificationCard__link--dark': isDarkMode })}\n      to={`/user/${followerId}`}\n    >\n      <article className=\"notificationCard\">\n        <Avatar\n          className=\"notificationCard__avatar\"\n          src={userData?.avatar}\n          alt=\"user avatar\"\n          variant=\"rounded\"\n          style={{ height: '64px', width: '64px' }}\n        />\n        <div className=\"notificationCard__text\">\n          <strong>{userData?.displayName}</strong>\n          <p className=\"notificationCard__action\">followed you</p>\n          <p className=\"notificationCard__timestamp\">{followingSince}</p>\n        </div>\n      </article>\n    </Link>\n  );\n};\n","import React, { useContext } from 'react';\nimport { NotificationContext, NotificationsStateType } from '../../context/NotificationProvider';\nimport { AuthContext } from '../../context/AuthProvider';\nimport { Notification } from '../../components/Notification/Notification';\n\nexport const Notifications: React.FC = () => {\n  const notifications = useContext<NotificationsStateType | undefined>(NotificationContext);\n  const user = useContext(AuthContext);\n\n  return (\n    <article className=\"notifications\">\n      {notifications?.data.filter((data: firebase.default.firestore.DocumentData) => data.data().seen === false)\n        .length === 0 ? (\n        <p>No new notifications</p>\n      ) : (\n        notifications?.data.map(\n          (data: firebase.default.firestore.DocumentData) =>\n            !data.data().seen && (\n              <Notification key={data.id} userId={user?.uid} followerId={data.id} timestamp={data.data().timestamp} />\n            )\n        )\n      )}\n    </article>\n  );\n};\n","import React, { useContext } from 'react';\r\nimport classNames from 'classnames';\r\nimport { Avatar, Button, IconButton } from '@material-ui/core';\r\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\r\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport { signOut } from '../../actions/signout';\r\nimport { useGetUserData } from '../../actions/useGetUserData';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './HeaderDropdown.scss';\r\n\r\ninterface HeaderDropdownProps {\r\n  testid?: string;\r\n}\r\n\r\nexport const HeaderDropdown: React.FC<HeaderDropdownProps> = ({ testid }) => {\r\n  const currentUser = useContext(AuthContext);\r\n  const { isDarkMode, setIsDarkMode } = useDarkMode();\r\n  const { userData, isLoading, isError } = useGetUserData(currentUser?.uid as string);\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <WithLoader className=\"headerDropdown__actions\" isLoading={isLoading}>\r\n      <WithError\r\n        className=\"headerDropdown__actions\"\r\n        isError={isError}\r\n        errorMessage=\"Something went wrong please try again...\"\r\n      >\r\n        <ul className=\"headerDropdown\" data-testid={testid}>\r\n          <li className=\"headerDropdown__listItem\">\r\n            <Avatar src={userData?.avatar || ''} />\r\n          </li>\r\n          <li className=\"headerDropdown__listItem\">\r\n            <div className=\"headerDropdown__info\">\r\n              <span className=\"headerDropdown__name\">{userData?.displayName || 'User'}</span>\r\n              <span>{userData?.headline}</span>\r\n            </div>\r\n          </li>\r\n          <li className=\"headerDropdown__listItem\">\r\n            <Button\r\n              data-testid={`${testid}ViewProfile`}\r\n              onClick={() => history.push(`/user/${userData?.id}`)}\r\n              className={classNames('headerDropdown__button', {\r\n                'headerDropdown__button--darkViewProfile': isDarkMode\r\n              })}\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n            >\r\n              View Profile\r\n            </Button>\r\n          </li>\r\n          <li className=\"headerDropdown__listItem\">\r\n            <Button\r\n              onClick={() => signOut({ history })}\r\n              data-testid={`${testid}SignOut`}\r\n              className={classNames('headerDropdown__button', {\r\n                'headerDropdown__button--darkLogout': isDarkMode\r\n              })}\r\n              variant=\"outlined\"\r\n            >\r\n              Sign Out\r\n            </Button>\r\n          </li>\r\n          <li className=\"headerDropdown__listItem\">\r\n            <IconButton onClick={() => setIsDarkMode(!isDarkMode)}>\r\n              {isDarkMode ? (\r\n                <Brightness7Icon className=\"headerDropdown__icon\" />\r\n              ) : (\r\n                <Brightness4Icon className=\"headerDropdown__icon\" />\r\n              )}\r\n            </IconButton>\r\n          </li>\r\n        </ul>\r\n      </WithError>\r\n    </WithLoader>\r\n  );\r\n};\r\n\r\nHeaderDropdown.defaultProps = {\r\n  testid: undefined\r\n};\r\n\r\nHeaderDropdown.propTypes = {\r\n  testid: PropTypes.string\r\n};\r\n","import { History, LocationState } from 'history';\nimport { auth } from '../firebase';\nimport { customToast } from './customToast';\n\ninterface signOutProps {\n  history: History<LocationState>;\n}\n\nexport const signOut = ({ history }: signOutProps): void => {\n  auth\n    .signOut()\n    .then(() => {\n      history.push('/');\n      customToast('success', 'Successfully Sign Out');\n    })\n    .catch(() => customToast('error', 'There was a problem with Sign Out'));\n};\n","import HomeIcon from '@material-ui/icons/Home';\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport Avatar from '@material-ui/core/Avatar';\nimport { Notifications } from '../pages/Notifications/Notifications';\nimport { HeaderDropdown } from '../components/DropdownsContent/HeaderDropdown';\n\nexport const navigationItems = [\n  { path: '/feed', icon: HomeIcon, title: 'Home', content: '' },\n  { path: '/network', icon: SupervisorAccountIcon, title: 'My Network', content: '' },\n  { path: '', icon: NotificationsIcon, title: 'Notifications', content: Notifications, badge: true },\n  { path: '', icon: Avatar, title: 'Me▼', content: HeaderDropdown }\n];\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './Dropdown.scss';\r\n\r\ninterface DropdownProps {\r\n  DropdownOpener: React.ReactNode;\r\n  content: React.FC<unknown> | string;\r\n}\r\n\r\nexport const Dropdown: React.FC<DropdownProps> = ({ DropdownOpener, content }) => {\r\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n  const { isDarkMode } = useDarkMode();\r\n  const dropdown = useRef() as React.MutableRefObject<HTMLDivElement>;\r\n  const params = useParams();\r\n\r\n  const closeDropdownOutside = (ref: React.MutableRefObject<HTMLDivElement>) => {\r\n    useEffect(() => {\r\n      const handleOutsideClick = (event: Event) => {\r\n        if (ref.current && !ref.current.contains(event.target as HTMLElement)) {\r\n          setIsDropdownOpen(false);\r\n          document.removeEventListener('click', handleOutsideClick);\r\n        }\r\n      };\r\n      if (isDropdownOpen) {\r\n        document.addEventListener('click', handleOutsideClick);\r\n      }\r\n    }, [isDropdownOpen, ref]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setIsDropdownOpen(false);\r\n  }, [params]);\r\n\r\n  closeDropdownOutside(dropdown);\r\n\r\n  return (\r\n    <div className=\"dropdown\">\r\n      <div\r\n        className=\"dropdown__opener\"\r\n        onClick={() => setIsDropdownOpen(true)}\r\n        onKeyDown={() => setIsDropdownOpen(true)}\r\n        role=\"button\"\r\n        tabIndex={0}\r\n      >\r\n        {DropdownOpener}\r\n      </div>\r\n      {isDropdownOpen && (\r\n        <div ref={dropdown} className={classNames('dropdown__container', { 'dropdown__container--dark': isDarkMode })}>\r\n          {React.createElement(content)}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nDropdown.propTypes = {\r\n  DropdownOpener: PropTypes.node.isRequired,\r\n  content: PropTypes.func.isRequired\r\n};\r\n","import React, { useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Badge } from '@material-ui/core';\r\nimport { OverridableComponent } from '@material-ui/core/OverridableComponent';\r\nimport { useLocation } from 'react-router-dom';\r\nimport classNames from 'classnames';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport './NavigationIcon.scss';\r\n\r\ninterface NavigationIconProps {\r\n  Icon: OverridableComponent<any>;\r\n  title: string;\r\n  path?: string;\r\n  testid?: string;\r\n  badgeContent?: number;\r\n}\r\n\r\nexport const NavigationIcon: React.FC<NavigationIconProps> = ({ Icon, title, path, testid, badgeContent }) => {\r\n  const location = useLocation();\r\n  const user = useContext(AuthContext);\r\n\r\n  return (\r\n    <div\r\n      data-testid={testid}\r\n      className={classNames('navigationIcon', { 'navigationIcon--active': path === location.pathname })}\r\n    >\r\n      {badgeContent ? (\r\n        <Badge badgeContent={badgeContent} color=\"primary\">\r\n          <Icon className=\"navigationIcon__icon\" src={user?.photoURL} />\r\n        </Badge>\r\n      ) : (\r\n        <Icon className=\"navigationIcon__icon\" src={user?.photoURL} />\r\n      )}\r\n\r\n      <p className=\"navigationIcon__title\">{title}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nNavigationIcon.defaultProps = {\r\n  path: '',\r\n  testid: undefined,\r\n  badgeContent: 0\r\n};\r\n\r\nNavigationIcon.propTypes = {\r\n  Icon: PropTypes.func.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  path: PropTypes.string,\r\n  testid: PropTypes.string,\r\n  badgeContent: PropTypes.number\r\n};\r\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { navigationItems } from '../../constants/Navigation';\nimport { Dropdown } from '../Dropdown/Dropdown';\nimport { NavigationIcon } from '../NavigationIcon/NavigationIcon';\nimport { NotificationContext } from '../../context/NotificationProvider';\nimport './Navigation.scss';\n\ninterface NavigationProps {\n  testid?: string;\n  isSearchOpen?: boolean;\n}\n\nexport const Navigation: React.FC<NavigationProps> = ({ testid, isSearchOpen }) => {\n  const [amount, setAmount] = useState<number>();\n  const notifications = useContext(NotificationContext);\n\n  useEffect(() => {\n    setAmount(notifications?.data.filter(data => data.data().seen === false).length);\n  }, [notifications]);\n\n  return (\n    <nav className={classNames('navigation', { 'navigation--hidden': isSearchOpen })} data-testid={testid}>\n      <ul className=\"navigation__wrapper\">\n        {navigationItems.map(({ title, path, icon, content, badge }) => (\n          <li key={title}>\n            {path ? (\n              <Link className=\"navigation__link\" to={path}>\n                <NavigationIcon testid={`${testid}Link${title}`} title={title} path={path} Icon={icon} />\n              </Link>\n            ) : (\n              <Dropdown\n                DropdownOpener={\n                  badge ? (\n                    <NavigationIcon\n                      badgeContent={amount}\n                      testid={`${testid}DropdownOpener`}\n                      title={title}\n                      Icon={icon}\n                    />\n                  ) : (\n                    <NavigationIcon testid={`${testid}DropdownOpener`} title={title} Icon={icon} />\n                  )\n                }\n                content={content}\n              />\n            )}\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\nNavigation.defaultProps = {\n  testid: undefined,\n  isSearchOpen: false\n};\n\nNavigation.propTypes = {\n  testid: PropTypes.string,\n  isSearchOpen: PropTypes.bool\n};\n","import { db } from '../firebase';\nimport { User } from '../shared/interfaces/UserInterfaces';\n\nexport const userHints: (set: React.Dispatch<React.SetStateAction<User[][]>>, value: string) => void = async (\n  set,\n  value\n) => {\n  const snapshot = await db.collection('users').orderBy('displayName', 'asc').get();\n  set(\n    snapshot.docs\n      .map(doc => [\n        {\n          displayName: doc.data().displayName,\n          id: doc.data().id,\n          avatar: doc.data().avatar,\n          headline: doc.data().headline\n        }\n      ])\n      .filter(doc => doc[0].displayName.toUpperCase().includes(value.toUpperCase()) && value)\n      .slice(0, 5)\n  );\n};\n","import React, { useState } from 'react';\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { Search } from '../Search/Search';\nimport { Navigation } from '../Navigation/Navigation';\nimport { userHints } from '../../constants/UserHints';\nimport { useDarkMode } from '../../context/DarkModeProvider';\nimport './Header.scss';\n\ninterface HeaderProps {\n  testid?: string;\n}\n\nexport const Header: React.FC<HeaderProps> = ({ testid }) => {\n  const [isSearchOpen, setIsSearchOpen] = useState(false);\n  const { isDarkMode } = useDarkMode();\n\n  return (\n    <header className={classNames('header', { 'header--dark': isDarkMode })} data-testid={testid}>\n      <div className=\"header__search\">\n        <Link to=\"/feed\">\n          <LinkedInIcon\n            color=\"primary\"\n            className={classNames('header__logo', { 'header__logo--hidden': isSearchOpen })}\n          />\n        </Link>\n        <Search\n          setIsSearchOpen={setIsSearchOpen}\n          isSearchOpen={isSearchOpen}\n          testid=\"searchHeader\"\n          getHints={userHints}\n        />\n      </div>\n      <Navigation testid=\"navigationHeader\" isSearchOpen={isSearchOpen} />\n    </header>\n  );\n};\n\nHeader.defaultProps = {\n  testid: undefined\n};\n\nHeader.propTypes = {\n  testid: PropTypes.string\n};\n","export enum Posts {\r\n  newAmount = 4,\r\n  initialAmount = 5\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { db } from '../firebase';\r\nimport { FeedPostProps } from '../components/FeedPost/FeedPost';\r\n\r\ninterface GetPosts {\r\n  allPosts: FeedPostProps[];\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n}\r\n\r\nexport const useGetPosts = (): GetPosts => {\r\n  const [state, setState] = useState<GetPosts>({\r\n    allPosts: [],\r\n    isLoading: true,\r\n    isError: false\r\n  });\r\n\r\n  const getPosts = async () => {\r\n    try {\r\n      const snapshot = await db.collection('posts').orderBy('timestamp', 'desc').get();\r\n      const allPosts = snapshot.docs.map(post => ({ ...post.data(), testid: post.id })) as FeedPostProps[];\r\n      setState({ ...state, allPosts, isLoading: false });\r\n    } catch (error) {\r\n      setState({ ...state, isError: true, isLoading: false });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPosts();\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n","import { FeedPostProps } from '../components/FeedPost/FeedPost';\r\n\r\nexport const postsFilter = (follows: string[], posts: FeedPostProps[]): FeedPostProps[] =>\r\n  posts.filter(post => follows.includes(post.ownerUid));\r\n","import React, { useRef, useState, MutableRefObject } from 'react';\nimport moment from 'moment';\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport AvatarPlaceholder from '../../assets/images/avatar_placeholder.png';\nimport { useGetUserData } from '../../actions/useGetUserData';\nimport { useIsContentOverflowing } from '../../actions/useIsContentOverflowing';\nimport { useDarkMode } from '../../context/DarkModeProvider';\nimport './FeedPost.scss';\n\nexport interface FeedPostProps {\n  ownerUid: string;\n  content: string;\n  timestamp: firebase.default.firestore.Timestamp;\n  testid?: string;\n}\n\nexport const FeedPost: React.FC<FeedPostProps> = ({ ownerUid, content, timestamp, testid }: FeedPostProps) => {\n  const [seeMore, setSeeMore] = useState(false);\n  const { isDarkMode } = useDarkMode();\n  const ref = useRef() as MutableRefObject<HTMLParagraphElement>;\n  const isContentOverflowing = useIsContentOverflowing(ref);\n  const timePassed = moment.unix(timestamp.seconds).fromNow();\n  const {\n    userData: { avatar, displayName, headline }\n  } = useGetUserData(ownerUid);\n\n  return (\n    <article className={classNames('feedPost', { 'feedPost--dark': isDarkMode })}>\n      <Link className=\"feedPost__user\" data-testid={`\"feedPost__user--${testid}`} to={`/user/${ownerUid}`}>\n        <img className=\"feedPost__avatar\" src={avatar || AvatarPlaceholder} alt={`${displayName}'s avatar`} />\n        <div className={classNames('feedPost__info', { 'feedPost__info--dark': isDarkMode })}>\n          <span className=\"feedPost__name\">{displayName}</span>\n          <span>{headline}</span>\n        </div>\n      </Link>\n      <p ref={ref} className={`feedPost__content feedPost__content--see__${!seeMore && 'less'}`}>\n        {content.trim()}\n      </p>\n      {isContentOverflowing && !seeMore && (\n        <button\n          data-testid={`\"feedPost__seeButton--${testid}`}\n          type=\"button\"\n          className={`feedPost__seeButton feedPost__seeButton--see__${!seeMore && 'less'}`}\n          onClick={() => {\n            setSeeMore(!seeMore);\n          }}\n        >\n          ...see more\n        </button>\n      )}\n      <p className=\"feedPost__timestamp\">{timePassed}</p>\n    </article>\n  );\n};\n\nFeedPost.defaultProps = {\n  testid: ''\n};\n","import { useState, useEffect, MutableRefObject } from 'react';\n\nexport const useIsContentOverflowing = (ref: MutableRefObject<HTMLElement>): boolean => {\n  const [isContentOverflowing, setIsContentOverflowing] = useState(false);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsContentOverflowing(ref.current.offsetHeight < ref.current.scrollHeight);\n    };\n    window.addEventListener('resize', handleResize);\n    handleResize();\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  return isContentOverflowing;\n};\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { IconButton } from '@material-ui/core';\r\nimport { useGetPosts } from '../../actions/useGetPosts';\r\nimport { postsFilter } from '../../actions/postsFilter';\r\nimport { FeedPost } from '../FeedPost/FeedPost';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { Posts } from '../../constants/Posts';\r\nimport './MyPosts.scss';\r\n\r\ninterface MyPostsProps {\r\n  userUid: string;\r\n}\r\n\r\nexport const MyPosts: React.FC<MyPostsProps> = ({ userUid }) => {\r\n  const { allPosts, isLoading, isError } = useGetPosts();\r\n  const userPosts = postsFilter([userUid], allPosts);\r\n  const [postIndex, setPostIndex] = useState(Posts.initialAmount);\r\n  const isMorePosts = postIndex <= userPosts.length;\r\n\r\n  return (\r\n    <WithLoader isLoading={isLoading}>\r\n      <WithError isError={isError} errorMessage=\"Error has occurred please try again...\">\r\n        <article className=\"myPosts\">\r\n          {userPosts.slice(0, postIndex).map(({ content, ownerUid, timestamp, testid }) => (\r\n            <FeedPost content={content} ownerUid={ownerUid} timestamp={timestamp} testid={testid} />\r\n          ))}\r\n          {isMorePosts && (\r\n            <div className=\"myPosts__wrapper\">\r\n              <IconButton\r\n                className=\"myPosts__showMore\"\r\n                onClick={() => {\r\n                  setPostIndex(postIndex + Posts.newAmount);\r\n                }}\r\n              >\r\n                <ExpandMoreIcon />\r\n              </IconButton>\r\n            </div>\r\n          )}\r\n        </article>\r\n      </WithError>\r\n    </WithLoader>\r\n  );\r\n};\r\n\r\nMyPosts.propTypes = {\r\n  userUid: PropTypes.string.isRequired\r\n};\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from '../context/AuthProvider';\r\nimport { db } from '../firebase';\r\nimport { User } from '../shared/interfaces/UserInterfaces';\r\n\r\ninterface GetUser {\r\n  users: User[];\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n}\r\n\r\nexport const useGetUsers = (): GetUser => {\r\n  const [state, setState] = useState<GetUser>({\r\n    users: [],\r\n    isLoading: true,\r\n    isError: false\r\n  });\r\n  const currentUser = useContext(AuthContext);\r\n\r\n  const getUsers = async () => {\r\n    try {\r\n      const snapshot = await db.collection('users').orderBy('displayName', 'asc').get();\r\n      const users = snapshot.docs.map(user => user.data()).filter(user => user.id !== currentUser?.uid) as User[];\r\n      setState({ ...state, users, isLoading: false });\r\n    } catch (error) {\r\n      setState({ ...state, isLoading: false, isError: true });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUsers();\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { Link } from 'react-router-dom';\r\nimport { Avatar, Button, Grow } from '@material-ui/core';\r\nimport { followAction } from '../../actions/followAction';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './UserCard.scss';\r\n\r\ninterface UserCardProps {\r\n  avatar?: string;\r\n  displayName: string;\r\n  headline?: string;\r\n  followed?: boolean;\r\n  id: string;\r\n  testid?: string;\r\n}\r\n\r\nexport const UserCard: React.FC<UserCardProps> = ({ avatar, displayName, headline, followed, id, testid }) => {\r\n  const [isFollowed, setIsFollowed] = useState(followed);\r\n  const { isDarkMode } = useDarkMode();\r\n\r\n  const handleClick = () => {\r\n    if (!isFollowed) {\r\n      followAction(id, displayName, 'follow');\r\n    } else {\r\n      followAction(id, displayName, 'unfollow');\r\n    }\r\n    setIsFollowed(!isFollowed);\r\n  };\r\n\r\n  return (\r\n    <Grow in timeout={500}>\r\n      <section className={classNames('userCard', { 'userCard--dark': isDarkMode })} data-testid={`${testid}${id}`}>\r\n        <Link\r\n          className={classNames('userCard__info', { 'userCard__info--dark': isDarkMode })}\r\n          data-testid={`\"userCard__displayName--${testid}`}\r\n          to={`/user/${id}`}\r\n        >\r\n          <Avatar className=\"userCard__avatar\" src={avatar} />\r\n          <div className=\"userCard__bio\">\r\n            <span className=\"userCard__displayName\">{displayName}</span>\r\n            <span className=\"userCard__headline\">{headline}</span>\r\n          </div>\r\n        </Link>\r\n        {followed !== undefined && (\r\n          <Button\r\n            onClick={handleClick}\r\n            variant={isFollowed ? 'contained' : 'outlined'}\r\n            color=\"primary\"\r\n            className={classNames(\r\n              'userCard__button',\r\n              { 'userCard__button--darkFollowed': isFollowed && isDarkMode },\r\n              { 'userCard__button--darkUnfollowed': !isFollowed && isDarkMode }\r\n            )}\r\n          >\r\n            {isFollowed ? 'Followed' : 'Follow'}\r\n          </Button>\r\n        )}\r\n      </section>\r\n    </Grow>\r\n  );\r\n};\r\n\r\nUserCard.defaultProps = {\r\n  avatar: '',\r\n  followed: false,\r\n  testid: undefined,\r\n  headline: ''\r\n};\r\n\r\nUserCard.propTypes = {\r\n  avatar: PropTypes.string,\r\n  displayName: PropTypes.string.isRequired,\r\n  followed: PropTypes.bool,\r\n  headline: PropTypes.string,\r\n  id: PropTypes.string.isRequired,\r\n  testid: PropTypes.string\r\n};\r\n","import { useState, useEffect, useContext } from 'react';\nimport { db } from '../firebase';\nimport { AuthContext } from '../context/AuthProvider';\n\ninterface GetUserFollows {\n  userFollows: string[];\n  isLoading: boolean;\n  isError: boolean;\n}\n\nexport const useGetUserFollows = (): GetUserFollows => {\n  const user = useContext(AuthContext);\n  const [state, setState] = useState<GetUserFollows>({\n    userFollows: [],\n    isLoading: true,\n    isError: false\n  });\n\n  const getUserFollows = async () => {\n    try {\n      const snapshot = await db.collection('users').doc(user?.uid).collection('followed').get();\n      const followedIds = snapshot.docs.map(followed => followed.id);\n      setState({ ...state, userFollows: followedIds, isLoading: false });\n    } catch (error) {\n      setState({ ...state, isError: true, isLoading: false });\n    }\n  };\n  useEffect(() => {\n    getUserFollows();\n  }, []);\n\n  return state;\n};\n","import React, { useEffect, useState } from 'react';\r\nimport { Grow } from '@material-ui/core';\r\nimport { useGetUserFollowers } from '../../actions/useGetUserFollowers';\r\nimport { useGetUsers } from '../../actions/useGetUsers';\r\nimport { User } from '../../shared/interfaces/UserInterfaces';\r\nimport { UserCard } from '../UserCard/UserCard';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport { useGetUserFollows } from '../../actions/useGetUserFollows';\r\n\r\nexport const ShowFollowers: React.FC = () => {\r\n  const { userFollowers, isLoading: isFollowersLoading, isError: isFollowersError } = useGetUserFollowers();\r\n  const { userFollows } = useGetUserFollows();\r\n  const { users, isLoading, isError } = useGetUsers();\r\n  const [followersUsers, setFollowersUsers] = useState<User[]>();\r\n\r\n  const getFollowedUsersInfo = () => users.filter(user => userFollowers.includes(user.id));\r\n\r\n  useEffect(() => {\r\n    setFollowersUsers(getFollowedUsersInfo());\r\n  }, [isLoading, isFollowersLoading]);\r\n\r\n  return (\r\n    <WithLoader isLoading={isLoading || isFollowersLoading}>\r\n      <WithError isError={isFollowersError || isError} errorMessage=\"Error has occurred please try again...\">\r\n        <Grow in timeout={500}>\r\n          <div className=\"followedUsers\">\r\n            {followersUsers?.map(({ displayName, avatar, headline, id }) => {\r\n              if (userFollows.includes(id)) {\r\n                return (\r\n                  <UserCard key={id} displayName={displayName} avatar={avatar} id={id} headline={headline} followed />\r\n                );\r\n              }\r\n              return (\r\n                <UserCard\r\n                  key={id}\r\n                  displayName={displayName}\r\n                  avatar={avatar}\r\n                  id={id}\r\n                  headline={headline}\r\n                  followed={false}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </Grow>\r\n      </WithError>\r\n    </WithLoader>\r\n  );\r\n};\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { db } from '../firebase';\r\nimport { AuthContext } from '../context/AuthProvider';\r\n\r\ninterface GetUserFollows {\r\n  userFollowers: string[];\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n}\r\n\r\nexport const useGetUserFollowers = (): GetUserFollows => {\r\n  const user = useContext(AuthContext);\r\n  const [state, setState] = useState<GetUserFollows>({\r\n    userFollowers: [],\r\n    isLoading: true,\r\n    isError: false\r\n  });\r\n\r\n  const getUserFollows = async () => {\r\n    try {\r\n      const snapshot = await db.collection('users').doc(user?.uid).collection('followers').get();\r\n      const followedIds = snapshot.docs.map(followers => followers.id);\r\n      setState({ ...state, userFollowers: followedIds, isLoading: false });\r\n    } catch (error) {\r\n      setState({ ...state, isError: true, isLoading: false });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getUserFollows();\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Grow } from '@material-ui/core';\nimport { useGetUserFollows } from '../../actions/useGetUserFollows';\nimport { useGetUsers } from '../../actions/useGetUsers';\nimport { User } from '../../shared/interfaces/UserInterfaces';\nimport { UserCard } from '../UserCard/UserCard';\nimport { WithError } from '../WithError/WithError';\nimport { WithLoader } from '../WithLoader/WithLoader';\nimport './FollowedUsers.scss';\n\ninterface FollowedUsersProps {\n  testid?: string;\n}\n\nexport const FollowedUsers: React.FC<FollowedUsersProps> = ({ testid }) => {\n  const { userFollows, isLoading: isFollowsLoading, isError: isFollowsError } = useGetUserFollows();\n  const { users, isLoading, isError } = useGetUsers();\n  const [followedUsers, setFollowedUsers] = useState<User[]>();\n\n  const getFollowedUsersInfo = () => users.filter(user => userFollows.includes(user.id));\n\n  useEffect(() => {\n    setFollowedUsers(getFollowedUsersInfo());\n  }, [isLoading, isFollowsLoading]);\n\n  return (\n    <WithLoader isLoading={isLoading || isFollowsLoading}>\n      <WithError isError={isFollowsError || isError} errorMessage=\"Error has occurred please try again...\">\n        <Grow in timeout={500}>\n          <div data-testid={testid} className=\"followedUsers\">\n            {followedUsers?.map(({ displayName, avatar, headline, id }) => (\n              <UserCard key={id} displayName={displayName} avatar={avatar} id={id} headline={headline} followed />\n            ))}\n          </div>\n        </Grow>\n      </WithError>\n    </WithLoader>\n  );\n};\n\nFollowedUsers.defaultProps = {\n  testid: undefined\n};\n\nFollowedUsers.propTypes = {\n  testid: PropTypes.string\n};\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { IconButton, Grow } from '@material-ui/core';\nimport { useGetUserFollows } from '../../actions/useGetUserFollows';\nimport { useGetUsers } from '../../actions/useGetUsers';\nimport { User } from '../../shared/interfaces/UserInterfaces';\nimport { UserCard } from '../UserCard/UserCard';\nimport { WithError } from '../WithError/WithError';\nimport { WithLoader } from '../WithLoader/WithLoader';\nimport './RecommendedUsers.scss';\n\ninterface RecommendedUsersProps {\n  testid?: string;\n}\n\nexport const RecommendedUsers: React.FC<RecommendedUsersProps> = ({ testid }) => {\n  const { userFollows, isLoading: isFollowsLoading, isError: isFollowsError } = useGetUserFollows();\n  const { users, isLoading, isError } = useGetUsers();\n  const [recommendedUsers, setRecommendedUsers] = useState<User[]>([]);\n\n  const getRecommendedUsersInfo = () =>\n    users\n      .filter(user => !userFollows.includes(user.id))\n      .sort(() => Math.random() - 0.5)\n      .slice(0, 8);\n\n  const getMoreRecommendedUsersInfo = () =>\n    users\n      .filter(user => !userFollows.includes(user.id) && !recommendedUsers?.includes(user))\n      .sort(() => Math.random() - 0.5)\n      .slice(0, 8);\n\n  useEffect(() => {\n    setRecommendedUsers(getRecommendedUsersInfo());\n  }, [isLoading, isFollowsLoading]);\n\n  return (\n    <WithLoader isLoading={isLoading || isFollowsLoading}>\n      <WithError isError={isFollowsError || isError} errorMessage=\"Error has occurred please try again...\">\n        <div className=\"recommendedUsers\">\n          <Grow in timeout={500}>\n            <div data-testid={testid} className=\"recommendedUsers__wrapper\">\n              {recommendedUsers.map(({ displayName, avatar, headline, id }) => (\n                <UserCard key={id} displayName={displayName} headline={headline} avatar={avatar} id={id} />\n              ))}\n            </div>\n          </Grow>\n          {recommendedUsers.length !== [...recommendedUsers, ...getMoreRecommendedUsersInfo()].length && (\n            <IconButton onClick={() => setRecommendedUsers([...recommendedUsers, ...getMoreRecommendedUsersInfo()])}>\n              <ExpandMoreIcon fontSize=\"large\" />\n            </IconButton>\n          )}\n        </div>\n      </WithError>\n    </WithLoader>\n  );\n};\n\nRecommendedUsers.defaultProps = {\n  testid: undefined\n};\n\nRecommendedUsers.propTypes = {\n  testid: PropTypes.string\n};\n","import React, { useState, useContext } from 'react';\nimport classNames from 'classnames';\nimport { TextField, Avatar, Button } from '@material-ui/core';\nimport { setPost } from '../../actions/setPost';\nimport { AuthContext } from '../../context/AuthProvider';\nimport { customToast } from '../../actions/customToast';\nimport { useDarkMode } from '../../context/DarkModeProvider';\nimport './CreatePost.scss';\n\nexport const CreatePost: React.FC = () => {\n  const [postText, setPostText] = useState('');\n  const { isDarkMode } = useDarkMode();\n  const currentUser = useContext(AuthContext);\n  const MAX_INPUT_LENGTH = 300;\n\n  const isNicknameValid = postText.trim() !== '';\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setPostText(event.target.value);\n  };\n\n  const handleSubmit = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    event.preventDefault();\n    if (isNicknameValid) {\n      setPost({\n        ownerUid: currentUser?.uid as string,\n        content: postText,\n        displayName: currentUser?.displayName as string,\n        avatar: currentUser?.photoURL as string\n      });\n    } else {\n      customToast('error', \"Post text can't be empty\", false);\n    }\n    setPostText('');\n  };\n\n  return (\n    <article data-testid=\"createPost\" className={classNames('create-post', { 'create-post--dark': isDarkMode })}>\n      <div className=\"share-box\">\n        <Avatar className=\"avatar\" src={currentUser?.photoURL || ''} />\n        <TextField\n          multiline\n          placeholder=\"What do you want to say?\"\n          value={postText}\n          onChange={handleChange}\n          className={classNames('share-box__text', { 'share-box__text--dark': isDarkMode })}\n          data-testid=\"textPost\"\n          inputProps={{ maxLength: MAX_INPUT_LENGTH }}\n        />\n      </div>\n      <Button\n        type=\"button\"\n        variant=\"contained\"\n        color=\"primary\"\n        size=\"small\"\n        className={classNames('share-box__add-post', { 'share-box__add-post--dark': isDarkMode })}\n        data-testid=\"addPost\"\n        onClick={handleSubmit}\n      >\n        Add Post\n      </Button>\n    </article>\n  );\n};\n","import * as firebase from 'firebase';\nimport { db } from '../firebase';\nimport { customToast } from './customToast';\n\ninterface SetPostProps {\n  ownerUid: string;\n  displayName: string;\n  avatar?: string;\n  content: string;\n}\n\nexport const setPost = ({ ownerUid, content, avatar, displayName }: SetPostProps): void => {\n  try {\n    db.collection('posts')\n      .add({\n        ownerUid,\n        content,\n        avatar,\n        timestamp: firebase.default.firestore.FieldValue.serverTimestamp(),\n        displayName\n      })\n      .then(() => {\n        customToast('success', 'Post successfully added', false);\n      });\n  } catch (error) {\n    customToast('error', 'There was a problem with Adding a Post');\n  }\n};\n","import React, { useState, useEffect } from 'react';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { useGetPosts } from '../../actions/useGetPosts';\r\nimport { useGetUserFollows } from '../../actions/useGetUserFollows';\r\nimport { postsFilter } from '../../actions/postsFilter';\r\nimport { FeedPost, FeedPostProps } from '../FeedPost/FeedPost';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { Posts } from '../../constants/Posts';\r\nimport './FeedList.scss';\r\n\r\nexport const FeedList: React.FC = () => {\r\n  const [posts, setPosts] = useState<FeedPostProps[]>([]);\r\n  const [index, setIndex] = useState(Posts.initialAmount);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const { userFollows, isLoading: isFollowsLoading, isError: isFollowsError } = useGetUserFollows();\r\n  const { allPosts, isLoading: isPostsLoading, isError: isPostsError } = useGetPosts();\r\n  const userPosts = postsFilter(userFollows, allPosts);\r\n\r\n  const initializePosts = () => {\r\n    if (userPosts.length) {\r\n      setPosts(userPosts.slice(0, Posts.initialAmount));\r\n    }\r\n  };\r\n\r\n  const checkPostsAmount = () => {\r\n    if (userPosts.length <= Posts.initialAmount && allPosts.length) {\r\n      setHasMore(false);\r\n    }\r\n  };\r\n\r\n  const getMoreData = () => {\r\n    if (posts.length >= userPosts.length) {\r\n      setHasMore(false);\r\n      return;\r\n    }\r\n\r\n    setTimeout(() => {\r\n      setPosts(userPosts.slice(0, index + Posts.newAmount));\r\n      setIndex(index + Posts.newAmount);\r\n    }, 1000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    initializePosts();\r\n    checkPostsAmount();\r\n  }, [userFollows, allPosts]);\r\n\r\n  if (!userPosts.length && allPosts.length) {\r\n    return <WithError isError errorMessage=\"Follow users to see their posts!\" className=\"noPostsError\" />;\r\n  }\r\n\r\n  return (\r\n    <section className=\"feedList\" data-testid=\"feedList\">\r\n      <WithLoader isLoading={isFollowsLoading || isPostsLoading} className=\"feedList__loader\">\r\n        <WithError isError={isFollowsError || isPostsError} errorMessage=\"Error has occurred please try again...\">\r\n          <InfiniteScroll\r\n            dataLength={posts.length}\r\n            next={getMoreData}\r\n            hasMore={hasMore}\r\n            loader={\r\n              <div className=\"feedList__loader\">\r\n                <CircularProgress />\r\n              </div>\r\n            }\r\n            endMessage={<p className=\"feedList__endMessage\">Yay! You have seen it all</p>}\r\n            className=\"feedList__posts\"\r\n          >\r\n            {posts.map(({ testid, ownerUid, content, timestamp }) => (\r\n              <FeedPost\r\n                key={`${ownerUid},${timestamp.seconds}`}\r\n                testid={testid}\r\n                ownerUid={ownerUid}\r\n                content={content}\r\n                timestamp={timestamp}\r\n              />\r\n            ))}\r\n          </InfiniteScroll>\r\n        </WithError>\r\n      </WithLoader>\r\n    </section>\r\n  );\r\n};\r\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport { FormLayout } from '../pages/FormLayout/FormLayout';\nimport { Welcome } from '../pages/Welcome/Welcome';\nimport { DefaultRoute } from './DefaultRoute';\nimport { ProtectedRoute } from './ProtectedRoute';\nimport { SignupForm } from '../components/SignupForm/SignupForm';\nimport { LoginForm } from '../components/LoginForm/LoginForm';\nimport { UserPage } from '../pages/UserPage/UserPage';\nimport { MyNetwork } from '../pages/MyNetwork/MyNetwork';\nimport { Feed } from '../pages/Feed/Feed';\nimport { Notifications } from '../pages/Notifications/Notifications';\n\nexport const Routes = [\n  <Route exact path=\"/\" component={Welcome} />,\n  <Route exact path=\"/signUp\" render={() => <FormLayout formComponent={<SignupForm />} />} />,\n  <Route exact path=\"/signIn\" render={() => <FormLayout formComponent={<LoginForm />} />} />,\n  <ProtectedRoute path=\"/feed\" component={Feed} />,\n  <ProtectedRoute exact path=\"/network\" component={MyNetwork} />,\n  <ProtectedRoute exact path=\"/notifications\" component={Notifications} />,\n  <ProtectedRoute exact path=\"/user/:ownerUid\" component={UserPage} />,\n  <DefaultRoute />\n];\n","import React, { useContext, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport { Link, Redirect } from 'react-router-dom';\nimport { Button } from '@material-ui/core';\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\nimport { NotificationContext } from '../../context/NotificationProvider';\nimport { auth } from '../../firebase';\nimport './Welcome.scss';\n\nexport const Welcome: React.FC = () => {\n  const { currentUser } = auth;\n  const notifications = useContext(NotificationContext);\n\n  useEffect(() => {\n    if (notifications && notifications.data.length > 0 && notifications.unsubscriber) {\n      notifications.unsubscriber();\n    }\n  }, []);\n\n  if (currentUser) {\n    return <Redirect to=\"/feed\" />;\n  }\n\n  return (\n    <main className=\"welcomePage\">\n      <section className=\"hero\">\n        <ToastContainer className=\"hero__toastContainer\" />\n        <h1 className=\"hero__title\">\n          <span>Linked</span>\n          <LinkedInIcon className=\"hero__icon\" />\n        </h1>\n        <h2 className=\"hero__sub-title\">Welcome to your professional community</h2>\n        <div className=\"hero__links\">\n          <Link className=\"hero__link\" to=\"/signIn\">\n            <Button data-testid=\"signIn\" className=\"primary\" variant=\"outlined\" color=\"primary\" size=\"large\">\n              Sign in\n            </Button>\n          </Link>\n          <Link className=\"hero__link\" to=\"/signUp\">\n            <Button data-testid=\"signUp\" className=\"secondary\" variant=\"contained\" color=\"primary\" size=\"large\">\n              Sign up\n            </Button>\n          </Link>\n        </div>\n      </section>\n    </main>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport { CreatePost } from '../../components/CreatePost/CreatePost';\nimport { FeedList } from '../../components/FeedList/FeedList';\nimport { Header } from '../../components/Header/Header';\nimport { useDarkMode } from '../../context/DarkModeProvider';\nimport './Feed.scss';\n\nexport const Feed: React.FC = () => {\n  const { isDarkMode } = useDarkMode();\n\n  return (\n    <div className={classNames('feed', { 'feed--dark': isDarkMode })}>\n      <Header testid=\"feedPageHeader\" />\n      <div className=\"feed__createPost\">\n        <CreatePost />\n      </div>\n      <FeedList />\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport { Button } from '@material-ui/core';\nimport { Header } from '../../components/Header/Header';\nimport { FollowedUsers } from '../../components/FollowedUsers/FollowedUsers';\nimport { RecommendedUsers } from '../../components/RecommendedUsers/RecommendedUsers';\nimport { useDarkMode } from '../../context/DarkModeProvider';\nimport './MyNetwork.scss';\n\nexport const MyNetwork: React.FC = () => {\n  const [showRecommendedUsers, setShowRecommendedUsers] = useState(true);\n  const { isDarkMode } = useDarkMode();\n\n  return (\n    <div className={classNames('myNetwork', { 'myNetwork--dark': isDarkMode })} data-testid=\"myNetworkPage\">\n      <Header testid=\"myNetworkPageHeader\" />\n      <div className={classNames('myNetwork__container', { 'myNetwork__container--dark': isDarkMode })}>\n        <div className={classNames('myNetwork__buttons', { 'myNetwork__buttons--dark': isDarkMode })}>\n          <Button\n            size=\"large\"\n            variant=\"outlined\"\n            color=\"primary\"\n            data-testid=\"recommendedUsersButton\"\n            onClick={() => setShowRecommendedUsers(true)}\n            className={classNames(\n              'myNetwork__button',\n              { 'myNetwork__button--active': showRecommendedUsers },\n              { 'myNetwork__button--active--dark': isDarkMode && showRecommendedUsers }\n            )}\n          >\n            Recommended Users\n          </Button>\n          <Button\n            size=\"large\"\n            variant=\"outlined\"\n            color=\"primary\"\n            data-testid=\"followedUsersButton\"\n            onClick={() => setShowRecommendedUsers(false)}\n            className={classNames(\n              'myNetwork__button',\n              { 'myNetwork__button--active': !showRecommendedUsers },\n              { 'myNetwork__button--dark': isDarkMode },\n              { 'myNetwork__button--active--dark': isDarkMode && !showRecommendedUsers }\n            )}\n          >\n            Followed Users\n          </Button>\n        </div>\n        {showRecommendedUsers ? (\n          <RecommendedUsers testid=\"recommendedUsers\" />\n        ) : (\n          <FollowedUsers testid=\"followedUsers\" />\n        )}\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport classNames from 'classnames';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport { db } from '../../firebase';\r\nimport { UserDetails } from '../../components/UserDetails/UserDetails';\r\nimport { UserPageFieldForm } from '../../components/UserPageFieldForm/UserPageFieldForm';\r\nimport { UserPageField } from '../../components/UserPageField/UserPageField';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport { useIsUserFollowed } from '../../actions/useIsUserFollowed';\r\nimport { Header } from '../../components/Header/Header';\r\nimport { WithLoader } from '../../components/WithLoader/WithLoader';\r\nimport { UserPageFieldInterface, fields } from '../../shared/interfaces/ProfileFieldInterfaces';\r\nimport { MyPosts } from '../../components/MyPosts/MyPosts';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport { ShowFollowers } from '../../components/ShowFollowers/ShowFollowers';\r\nimport './UserPage.scss';\r\n\r\ntype UserPageParams = {\r\n  ownerUid: string;\r\n};\r\n\r\nexport const UserPage: React.FC = () => {\r\n  const [userData, setUserData] = useState<firebase.default.firestore.DocumentData>();\r\n  const [isAddField, setIsAddField] = useState(true);\r\n  const { isDarkMode } = useDarkMode();\r\n  const { ownerUid } = useParams<UserPageParams>();\r\n  const loggedInUser = useContext(AuthContext);\r\n  const isUserFollowed = useIsUserFollowed(loggedInUser?.uid, ownerUid);\r\n  const isUserFollowing = useIsUserFollowed(ownerUid, loggedInUser?.uid);\r\n  const [fieldEntries, setFieldEntries] = useState<UserPageFieldInterface<fields[]>>({\r\n    data: [],\r\n    isLoading: true,\r\n    isError: true\r\n  });\r\n  const [isUserPostsShowed, setIsUserPostsShowed] = useState(false);\r\n  const [showFollowed, setShowFollowed] = useState(false);\r\n  const isOwner = ownerUid === loggedInUser?.uid;\r\n\r\n  useEffect(() => {\r\n    db.collection('users')\r\n      .doc(ownerUid)\r\n      .get()\r\n      .then(doc => {\r\n        setUserData(doc.data());\r\n        setFieldEntries({ data: doc.data()?.profileFields, isLoading: false, isError: false });\r\n      })\r\n      // eslint-disable-next-line\r\n      .catch(error => console.error(error));\r\n  }, [ownerUid, isAddField, userData]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <section className={classNames('userPage', { 'userPage--dark': isDarkMode })}>\r\n        {userData ? (\r\n          <UserDetails\r\n            headline={userData?.headline}\r\n            ownerUid={ownerUid}\r\n            displayName={userData?.displayName}\r\n            avatar={userData?.avatar}\r\n            isMyUserDetails={isOwner}\r\n            isUserFollowedBy={isUserFollowed}\r\n            isUserFollowing={isUserFollowing}\r\n          />\r\n        ) : null}\r\n\r\n        <div className=\"userPage__button-wrapper\">\r\n          {!isUserPostsShowed && isOwner && (\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"contained\"\r\n              color={showFollowed ? 'secondary' : 'primary'}\r\n              className=\"userPage__showButton\"\r\n              onClick={() => {\r\n                setShowFollowed(!showFollowed);\r\n              }}\r\n            >\r\n              {showFollowed ? 'close followers' : 'followers'}\r\n            </Button>\r\n          )}\r\n\r\n          {!showFollowed && (\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"contained\"\r\n              color={isUserPostsShowed ? 'secondary' : 'primary'}\r\n              className=\"userPage__showButton\"\r\n              onClick={() => {\r\n                setIsUserPostsShowed(!isUserPostsShowed);\r\n              }}\r\n            >\r\n              {isUserPostsShowed ? 'Close user post' : `${isOwner ? 'Show my posts' : 'Show user posts'}`}\r\n            </Button>\r\n          )}\r\n        </div>\r\n        {isOwner && showFollowed && <ShowFollowers />}\r\n        {isUserPostsShowed ? (\r\n          <MyPosts userUid={isOwner ? (loggedInUser?.uid as string) : ownerUid} />\r\n        ) : (\r\n          <WithLoader isLoading={fieldEntries.isLoading}>\r\n            <>\r\n              {(fieldEntries.data || []).map((fieldEntry: fields, id: number) => (\r\n                <UserPageField\r\n                  // eslint-disable-next-line\r\n                  key={id}\r\n                  data={fieldEntry}\r\n                  isLoading={fieldEntries.isLoading}\r\n                  isError={fieldEntries.isError}\r\n                  isOwner={isOwner}\r\n                />\r\n              ))}\r\n              {!isAddField && isOwner && <UserPageFieldForm data={isAddField} setter={setIsAddField} />}\r\n              {isOwner && !showFollowed && (\r\n                <span className=\"userPage__ctaButton\">\r\n                  <Button\r\n                    type=\"button\"\r\n                    onClick={() => setIsAddField(!isAddField)}\r\n                    variant=\"outlined\"\r\n                    color={!isAddField ? 'secondary' : 'primary'}\r\n                  >\r\n                    {!isAddField ? 'Cancel' : 'Add Field'}\r\n                  </Button>\r\n                </span>\r\n              )}\r\n            </>\r\n          </WithLoader>\r\n        )}\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport { HashRouter as Router, Switch } from 'react-router-dom';\nimport { Routes } from './routes/Routes';\nimport { NotificationsProvider } from './context/NotificationProvider';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './styles/Globals.scss';\n\nconst App: React.FC = () => (\n  <Router basename={process.env.PUBLIC_URL}>\n    <NotificationsProvider>\n      <Switch>{Routes}</Switch>\n      <ToastContainer />\n    </NotificationsProvider>\n  </Router>\n);\n\nexport default App;\n","import React from 'react';\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport './ErrorFallback.scss';\n\nexport const ErrorFallback: React.FC = () => {\n  const reloadPage = () => {\n    window.location.reload();\n    return false;\n  };\n\n  return (\n    <article className=\"errorFallback\">\n      <h1 className=\"errorFallback__title\">\n        Something went wrong. Refresh the page.\n        <SentimentVeryDissatisfiedIcon className=\"errorFallback__icon--sad\" />\n      </h1>\n      <RefreshIcon className=\"errorFallback__icon\" onClick={reloadPage} />\n    </article>\n  );\n};\n","import React from 'react';\nimport { ErrorFallback } from '../../pages/ErrorFallback/ErrorFallback';\n\ninterface ErrorBoundaryProps {\n  children: React.ReactElement;\n}\n\nexport class GlobalErrorBoundary extends React.Component<ErrorBoundaryProps> {\n  // eslint-disable-next-line react/state-in-constructor\n  state = {\n    hasError: false\n  };\n\n  static getDerivedStateFromError(): { hasError: boolean } {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error: unknown, errorInfo: unknown): void {\n    // eslint-disable-next-line no-console\n    console.log(error, errorInfo);\n  }\n\n  render(): React.ReactElement {\n    const { hasError } = this.state;\n    const { children } = this.props;\n\n    if (hasError) {\n      return <ErrorFallback />;\n    }\n\n    return children;\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { AuthProvider } from './context/AuthProvider';\nimport { GlobalErrorBoundary } from './components/GlobalErrorBoundary/GlobalErrorBoundary';\nimport { DarkModeProvider } from './context/DarkModeProvider';\n\nReactDOM.render(\n  <React.StrictMode>\n    <GlobalErrorBoundary>\n      <DarkModeProvider>\n        <AuthProvider>\n          <App />\n        </AuthProvider>\n      </DarkModeProvider>\n    </GlobalErrorBoundary>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}