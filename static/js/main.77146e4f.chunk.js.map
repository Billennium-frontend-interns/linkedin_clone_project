{"version":3,"sources":["firebase.ts","actions/customToast.tsx","shared/components/Logo/Logo.tsx","pages/FormLayout/FormLayout.tsx","actions/signInWithGooglePopup.tsx","assets/images/btn_google_signin_light_normal_web.png","components/WithLoader/WithLoader.tsx","context/AuthProvider.tsx","routes/DefaultRoute.tsx","pages/LoginRequired/LoginRequired.tsx","routes/ProtectedRoute.tsx","shared/components/FormField/FormField.tsx","actions/signUpWithCredentails.tsx","components/SignupForm/SignupForm.tsx","components/SignupForm/useSignupFormValidation.tsx","components/SignupForm/useFormFieldsConfig.tsx","actions/signInWithCredentials.tsx","components/LoginForm/LoginForm.tsx","components/LoginForm/useLoginFormValidation.tsx","components/LoginForm/useFormLoginFieldsConfig.tsx","assets/images/avatar_placeholder.png","components/WithError/WithError.tsx","actions/editProfile.tsx","actions/updateAvatar.tsx","components/EditProfileForm/EditProfileForm.tsx","actions/useGetUserData.tsx","components/EditProfile/EditProfile.tsx","actions/followAction.tsx","components/UserDetails/UserDetails.tsx","actions/updateProfileFields.tsx","components/UserPageFieldForm/UserPageFieldForm.tsx","components/UserPageField/UserPageField.tsx","actions/useIsUserFollowed.tsx","components/SearchHint/SearchHint.tsx","components/Search/Search.tsx","components/DropdownsContent/HeaderDropdown.tsx","actions/signout.tsx","constants/Navigation.ts","components/Dropdown/Dropdown.tsx","components/NavigationIcon/NavigationIcon.tsx","components/Navigation/Navigation.tsx","constants/UserHints.ts","components/Header/Header.tsx","actions/useGetUserFollows.tsx","actions/useGetUsers.tsx","components/UserCard/UserCard.tsx","components/FollowedUsers/FollowedUsers.tsx","components/RecommendedUsers/RecommendedUsers.tsx","constants/Posts.ts","components/CreatePost/CreatePost.tsx","actions/setPost.tsx","utilities/date.ts","components/FeedPost/FeedPost.tsx","actions/useIsContentOverflowing.tsx","components/FeedList/FeedList.tsx","actions/useGetPosts.tsx","actions/postsFilter.tsx","routes/Routes.tsx","pages/Welcome/Welcome.tsx","pages/Feed/Feed.tsx","pages/MyNetwork/MyNetwork.tsx","pages/UserPage/UserPage.tsx","App.tsx","index.tsx"],"names":["firebaseConfig","apiKey","process","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","measurementId","REACT_APP_FIREBASE_MEASUREMENT_ID","firebaseApp","firebase","initializeApp","db","firestore","auth","provider","GoogleAuthProvider","storage","defaultOptions","autoClose","position","pauseOnFocusLoss","pauseOnHover","customToast","type","text","hideProgressBar","toast","info","success","error","Logo","variant","className","FormLayout","formComponent","history","useHistory","currentUser","to","window","screen","width","onClick","signInWithPopup","then","push","signInWithGooglePopup","src","alt","WithLoader","isLoading","children","testid","CircularProgress","AuthContext","createContext","undefined","AuthProvider","useState","setCurrentUser","pending","setPending","useEffect","onAuthStateChanged","user","Provider","value","DefaultRoute","useContext","path","render","LoginRequired","ProtectedRoute","exact","component","defaultProps","FormField","label","name","isError","errorText","onChange","TextField","helperText","inputProps","signUpWithCredentails","a","email","password","setError","createUserWithEmailAndPassword","updateProfile","displayName","collection","doc","uid","set","id","bio","followed","followers","message","SignupForm","repeatPassword","formData","setFormData","isErrorMessageVisible","setIsErrorMessageVisible","setIsLoading","signUpFormData","initialErrorData","validateForm","trim","length","useSignupFormValidation","formFieldsConfig","useMemo","errorMessageVisible","useFormFieldsConfig","handleChange","event","target","handleSubmit","preventDefault","onSubmit","map","Button","color","disabled","signInWithCredentials","signInWithEmailAndPassword","catch","LoginForm","LoginFormData","useLoginFormValidation","useFormLoginFieldsConfig","WithError","errorMessage","editProfile","userUid","newData","update","updateAvatar","file","url","ref","put","getDownloadURL","avatarUrl","avatar","photoURL","console","log","EditProfileForm","initialFormData","shouldDataChange","setShouldDataChange","userData","state","setState","getUserData","get","data","useGetUserData","isNicknameNotValid","isBioNotValid","files","rows","multiline","dropzoneText","dropzoneParagraphClass","acceptedFiles","filesLimit","showAlerts","onDrop","Modal","setAppElement","EditProfile","isOpen","setIsModalOpen","closeModal","onRequestClose","overlayClassName","followAction","receiverUid","action","currentUserUid","userRef","receiverRef","FieldValue","arrayUnion","arrayRemove","Error","UserDetails","ownerUid","isMyUserDetails","isUserFollowedBy","isUserFollowing","isFollowing","setIsFollowing","isEditModalOpen","setIsEditModalOpen","AvatarPlaceholder","height","handleClick","followButtonHandler","fontSize","updateProfileFields","profileField","profileFields","UserPageFieldForm","setter","fieldsData","setFieldsData","fieldInputs","setFieldInputs","formTitle","setFormTitle","titleError","setTitleError","fieldError","setFieldError","addField","field","checkKeyDown","code","Object","entries","every","content","fromEntries","filter","title","onKeyDown","e","placeholder","style","maxLength","role","UserPageField","fieldEntry","useIsUserFollowed","currentUserId","pageUserId","setValue","getFollows","follows","includes","SearchHint","Search","getHints","setIsSearchOpen","isSearchOpen","searchInput","setSearchInput","searchHints","setSearchHints","container","useRef","document","addEventListener","handleOutsideClick","current","contains","removeEventListener","classNames","hint","HeaderDropdown","Avatar","signOut","navigationItems","icon","HomeIcon","SupervisorAccountIcon","NotificationsIcon","Dropdown","DropdownOpener","isDropdownOpen","setIsDropdownOpen","dropdown","tabIndex","NavigationIcon","Icon","location","useLocation","pathname","Navigation","userHints","orderBy","snapshot","docs","startsWith","slice","Header","useGetUserFollows","userFollows","getUserFollows","useGetUsers","users","getUsers","UserCard","isFollowed","setIsFollowed","Grow","in","timeout","FollowedUsers","isFollowsLoading","isFollowsError","followedUsers","setFollowedUsers","RecommendedUsers","recommendedUsers","setRecommendedUsers","sort","Math","random","IconButton","Posts","CreatePost","postText","setPostText","isNicknameValid","timestamp","add","setPost","moment","format","size","FeedPost","seeMore","setSeeMore","isContentOverflowing","setIsContentOverflowing","handleResize","offsetHeight","scrollHeight","useIsContentOverflowing","timePassed","startOf","fromNow","FeedList","posts","setPosts","initialAmount","index","setIndex","hasMore","setHasMore","allPosts","getPosts","post","useGetPosts","isPostsLoading","isPostsError","userPosts","postsFilter","dataLength","next","setTimeout","newAmount","loader","endMessage","Routes","showRecommendedUsers","setShowRecommendedUsers","setUserData","isAddField","setIsAddField","useParams","loggedInUser","isUserFollowed","fieldEntries","setFieldEntries","getFields","setGetFields","App","basename","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.77146e4f.chunk.js","sourcesContent":["import firebase from 'firebase';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n};\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebaseApp.auth();\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\nconst storage = firebase.storage();\r\n\r\nexport { auth, provider, db, storage };\r\n","import { ReactText } from 'react';\r\nimport { toast, ToastOptions } from 'react-toastify';\r\n\r\ntype type = 'default' | 'info' | 'success' | 'error';\r\n\r\nconst defaultOptions: ToastOptions = {\r\n  autoClose: 2500,\r\n  position: 'bottom-right',\r\n  pauseOnFocusLoss: false,\r\n  pauseOnHover: false\r\n};\r\n\r\nexport const customToast = (type: type, text: string, hideProgressBar = true): ReactText => {\r\n  switch (type) {\r\n    case 'default':\r\n      return toast(text, { ...defaultOptions, hideProgressBar });\r\n    case 'info':\r\n      return toast.info(text, { ...defaultOptions, hideProgressBar });\r\n    case 'success':\r\n      return toast.success(text, { ...defaultOptions, hideProgressBar });\r\n    case 'error':\r\n      return toast.error(text, { ...defaultOptions, hideProgressBar });\r\n    default:\r\n      return toast(text, { ...defaultOptions, hideProgressBar });\r\n  }\r\n};\r\n","import React from 'react';\r\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\r\nimport './Logo.scss';\r\n\r\nexport interface LogoProps {\r\n  variant: 'small' | 'medium' | 'big';\r\n}\r\n\r\nexport const Logo: React.FC<LogoProps> = ({ variant }: LogoProps) => (\r\n  <p className={`logo logo--${variant}`}>\r\n    <span className=\"logo__text\">Linked</span>\r\n    <LinkedInIcon className=\"logo__icon\" />\r\n  </p>\r\n);\r\n","import React, { ReactNode } from 'react';\r\nimport { useHistory, Redirect } from 'react-router-dom';\r\nimport { signInWithGooglePopup } from '../../actions/signInWithGooglePopup';\r\nimport { Logo } from '../../shared/components/Logo/Logo';\r\nimport GoogleButtonImage from '../../assets/images/btn_google_signin_light_normal_web.png';\r\nimport { auth } from '../../firebase';\r\nimport './FormLayout.scss';\r\nimport '../../styles/FormStyles.scss';\r\n\r\ninterface FormLayoutProps {\r\n  formComponent: ReactNode;\r\n}\r\n\r\nexport const FormLayout: React.FC<FormLayoutProps> = ({ formComponent }: FormLayoutProps) => {\r\n  const history = useHistory();\r\n  const { currentUser } = auth;\r\n\r\n  if (currentUser) {\r\n    return <Redirect to=\"/feed\" />;\r\n  }\r\n\r\n  return (\r\n    <main className=\"formLayout__container\">\r\n      <Logo variant={window.screen.width < 281 ? 'small' : 'medium'} />\r\n      {formComponent}\r\n      <button\r\n        className=\"formLayout__signInGoogleButton\"\r\n        type=\"button\"\r\n        aria-label=\"Sign in with Google\"\r\n        onClick={() => signInWithGooglePopup({ history })}\r\n      >\r\n        <img src={GoogleButtonImage} alt=\"Sign in with google\" />\r\n      </button>\r\n    </main>\r\n  );\r\n};\r\n","import { History, LocationState } from 'history';\r\nimport { auth, provider } from '../firebase';\r\nimport { customToast } from './customToast';\r\n\r\ninterface SignInWithGoogle {\r\n  history: History<LocationState>;\r\n}\r\n\r\nexport const signInWithGooglePopup = ({ history }: SignInWithGoogle): void => {\r\n  auth.signInWithPopup(provider).then(() => {\r\n    history.push('/feed');\r\n    customToast('success', 'Successfully Sign In with Google');\r\n  });\r\n};\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { CircularProgress } from '@material-ui/core';\r\n\r\ninterface LoaderProps {\r\n  isLoading: boolean;\r\n  children?: React.ReactElement;\r\n  className?: string;\r\n  testid?: string;\r\n}\r\n\r\nexport const WithLoader: React.FC<LoaderProps> = ({ isLoading, children, className, testid }) => {\r\n  if (isLoading) {\r\n    return (\r\n      <div className={className} data-testid={testid}>\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!children) {\r\n    return null;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nWithLoader.propTypes = {\r\n  isLoading: PropTypes.bool.isRequired,\r\n  children: PropTypes.element.isRequired,\r\n  className: PropTypes.string,\r\n  testid: PropTypes.string\r\n};\r\n","import React, { useState, useEffect, createContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { WithLoader } from '../components/WithLoader/WithLoader';\r\nimport { auth } from '../firebase';\r\nimport '../styles/GlobalLoader.scss';\r\n\r\ninterface AuthProviderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const AuthContext = createContext<firebase.default.User | undefined | null>(undefined);\r\n\r\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState<firebase.default.User | null>(null);\r\n  const [pending, setPending] = useState(true);\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user);\r\n      setPending(false);\r\n    });\r\n  }, []);\r\n\r\n  if (pending) {\r\n    return <WithLoader isLoading className=\"globalLoader\" />;\r\n  }\r\n\r\n  return <AuthContext.Provider value={currentUser}>{children}</AuthContext.Provider>;\r\n};\r\n\r\nAuthProvider.propTypes = {\r\n  children: PropTypes.element.isRequired\r\n};\r\n","import React, { useContext } from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { AuthContext } from '../context/AuthProvider';\r\n\r\nexport const DefaultRoute: React.FC = () => {\r\n  const user = useContext(AuthContext);\r\n\r\n  return (\r\n    <Route\r\n      path=\"/\"\r\n      render={() => {\r\n        if (user === undefined) {\r\n          return <CircularProgress />;\r\n        }\r\n\r\n        if (user) {\r\n          return <Redirect to=\"/feed\" />;\r\n        }\r\n\r\n        return <Redirect to=\"/\" />;\r\n      }}\r\n    />\r\n  );\r\n};\r\n","import React from 'react';\r\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied';\r\nimport { Link } from 'react-router-dom';\r\nimport './LoginRequired.scss';\r\n\r\nexport const LoginRequired: React.FC = () => (\r\n  <article className=\"loginRequired\">\r\n    <h1 className=\"loginRequired__title\">To visit this page you need to login first!</h1>\r\n    <SentimentVeryDissatisfiedIcon className=\"loginRequired__icon\" />\r\n    <div className=\"loginRequired__wrapper\">\r\n      <p className=\"loginRequired__hint\">Already have an account?</p>\r\n      <Link to=\"/signin\" className=\"loginRequired__link\">\r\n        Sign in!\r\n      </Link>\r\n    </div>\r\n    <div className=\"loginRequired__wrapper\">\r\n      <p className=\"loginRequired__hint\">Don&apos;t have an account?</p>\r\n      <Link to=\"/signup\" className=\"loginRequired__link\">\r\n        Sign up!\r\n      </Link>\r\n    </div>\r\n  </article>\r\n);\r\n","import React, { useContext } from 'react';\r\nimport { Route, RouteProps } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { AuthContext } from '../context/AuthProvider';\r\nimport { LoginRequired } from '../pages/LoginRequired/LoginRequired';\r\n\r\nexport const ProtectedRoute: React.FC<RouteProps> = ({ exact, path, component }) => {\r\n  const user = useContext(AuthContext);\r\n\r\n  if (user) {\r\n    return <Route exact={exact} path={path} component={component} />;\r\n  }\r\n  return <LoginRequired />;\r\n};\r\n\r\nProtectedRoute.defaultProps = {\r\n  exact: true,\r\n  component: undefined\r\n};\r\n\r\nProtectedRoute.propTypes = {\r\n  exact: PropTypes.bool,\r\n  path: PropTypes.string.isRequired,\r\n  component: PropTypes.func\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { TextField } from '@material-ui/core';\r\nimport { FormFieldConfigInterface } from '../../interfaces/FormInterfaces';\r\n\r\nexport type FormFieldInterface = FormFieldConfigInterface & {\r\n  className?: string;\r\n  onClick: (event: React.MouseEvent<HTMLDivElement>) => void;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n};\r\n\r\nexport const FormField: React.FC<FormFieldInterface> = ({\r\n  label,\r\n  type,\r\n  name,\r\n  isError,\r\n  errorText,\r\n  value,\r\n  className,\r\n  onClick,\r\n  onChange\r\n}: FormFieldInterface) => (\r\n  <TextField\r\n    variant=\"standard\"\r\n    label={label}\r\n    type={type}\r\n    name={name}\r\n    error={isError}\r\n    helperText={errorText}\r\n    value={value}\r\n    className={className}\r\n    onClick={onClick}\r\n    onChange={onChange}\r\n    inputProps={{\r\n      'data-testid': name\r\n    }}\r\n  />\r\n);\r\n\r\nFormField.defaultProps = {\r\n  className: ''\r\n};\r\n\r\nFormField.propTypes = {\r\n  label: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  isError: PropTypes.bool.isRequired,\r\n  errorText: PropTypes.string.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n  onClick: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired\r\n};\r\n","import { History, LocationState } from 'history';\r\nimport { auth, db } from '../firebase';\r\nimport { ErrorInterface, SignupCredentials } from '../shared/interfaces/FormInterfaces';\r\nimport { customToast } from './customToast';\r\n\r\ntype SignUpWithCredentailsInterface = SignupCredentials & {\r\n  history: History<LocationState>;\r\n  setError: React.Dispatch<React.SetStateAction<ErrorInterface>>;\r\n};\r\n\r\nexport const signUpWithCredentails = async ({\r\n  email,\r\n  password,\r\n  name,\r\n  history,\r\n  setError\r\n}: SignUpWithCredentailsInterface): Promise<void> => {\r\n  try {\r\n    await auth.createUserWithEmailAndPassword(email, password);\r\n    await auth.currentUser?.updateProfile({\r\n      displayName: name\r\n    });\r\n    await db.collection('users').doc(auth.currentUser?.uid).set({\r\n      displayName: name,\r\n      id: auth.currentUser?.uid,\r\n      bio: ''\r\n    });\r\n    await db.collection('follows').doc(auth.currentUser?.uid).set({\r\n      followed: [],\r\n      followers: []\r\n    });\r\n    history.push('/feed');\r\n    customToast('success', 'Successfully Sign Up');\r\n  } catch (err) {\r\n    setError({\r\n      isError: true,\r\n      errorText: err.message\r\n    });\r\n  }\r\n};\r\n","import React, { useState, useMemo } from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { SignUpCredentialsInterface, ErrorMessageSignupVisibleInterface } from '../../shared/interfaces/FormInterfaces';\r\nimport { useSignupFormValidation } from './useSignupFormValidation';\r\nimport { useFormFieldsConfig } from './useFormFieldsConfig';\r\nimport { FormField } from '../../shared/components/FormField/FormField';\r\nimport { signUpWithCredentails } from '../../actions/signUpWithCredentails';\r\n\r\nexport const SignupForm: React.FC = () => {\r\n  const history = useHistory();\r\n  const [formData, setFormData] = useState<SignUpCredentialsInterface>({\r\n    name: '',\r\n    password: '',\r\n    repeatPassword: '',\r\n    email: ''\r\n  });\r\n  const [isErrorMessageVisible, setIsErrorMessageVisible] = useState<ErrorMessageSignupVisibleInterface>({\r\n    name: false,\r\n    email: false,\r\n    password: false,\r\n    repeatPassword: false\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { error, setError, validateForm } = useSignupFormValidation(formData);\r\n  const formFieldsConfig = useMemo(\r\n    () => useFormFieldsConfig(formData, isErrorMessageVisible),\r\n    [formData, isErrorMessageVisible]\r\n  );\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (event: React.ChangeEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    if (validateForm()) {\r\n      const { email, password, name } = formData;\r\n      await signUpWithCredentails({ email, password, name, history, setError });\r\n    }\r\n\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"formLayout__form\">\r\n      <h1 className=\"formLayout__text\">Sign up</h1>\r\n      <form className=\"form__container\" data-testid=\"signupForm\" onSubmit={handleSubmit}>\r\n        {formFieldsConfig.map(({ label, type, name, isError, errorText, value }) => (\r\n          <FormField\r\n            key={name}\r\n            label={label}\r\n            type={type}\r\n            name={name}\r\n            isError={isError}\r\n            errorText={errorText}\r\n            value={value}\r\n            className=\"form__input\"\r\n            // eslint-disable-next-line\r\n            onClick={(event: React.MouseEvent<HTMLDivElement>) =>\r\n              setIsErrorMessageVisible({ ...isErrorMessageVisible, [name]: true })\r\n            }\r\n            onChange={handleChange}\r\n          />\r\n        ))}\r\n        {error.isError && <p className=\"form__error\">{error.errorText}</p>}\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className=\"form__submit\"\r\n          type=\"submit\"\r\n          disabled={isLoading}\r\n          datatest-id=\"signup_button\"\r\n        >\r\n          Register\r\n        </Button>\r\n      </form>\r\n      <p className=\"hint\">\r\n        Already have an account?{' '}\r\n        <Link className=\"cta__button\" to=\"/signIn\">\r\n          Sign in!\r\n        </Link>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n","import { useState } from 'react';\r\nimport { SignUpCredentialsInterface, ErrorInterface } from '../../shared/interfaces/FormInterfaces';\r\nimport { ValidationInterface } from '../../shared/interfaces/ValidationInterfaces';\r\n\r\nexport const useSignupFormValidation = (signUpFormData: SignUpCredentialsInterface): ValidationInterface => {\r\n  const initialErrorData: ErrorInterface = {\r\n    isError: false,\r\n    errorText: ''\r\n  };\r\n  const [error, setError] = useState(initialErrorData);\r\n\r\n  const validateForm = (): boolean => {\r\n    const { name, email, password, repeatPassword } = signUpFormData;\r\n\r\n    const isAnyEmpty = () => {\r\n      if (name.trim() === '' || email.trim() === '' || password.trim() === '' || repeatPassword.trim() === '') {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    const isNicknameNotValid = () => {\r\n      if (name.length < 3 || name.length > 30) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    const isPasswordNotValid = () => {\r\n      if (password.length < 8) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    const isPasswordNotMatch = () => {\r\n      if (password !== repeatPassword) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    if (isAnyEmpty()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: \"Fields can't be empty\"\r\n      });\r\n      return false;\r\n    }\r\n\r\n    if (isNicknameNotValid()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: 'Nickname must be longer than 3 characters and shorter than 30 characters'\r\n      });\r\n      return false;\r\n    }\r\n\r\n    if (isPasswordNotValid()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: 'Password must be at least 8 characters'\r\n      });\r\n      return false;\r\n    }\r\n\r\n    if (isPasswordNotMatch()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: 'Passwords must match'\r\n      });\r\n      return false;\r\n    }\r\n\r\n    setError(initialErrorData);\r\n    return true;\r\n  };\r\n\r\n  return {\r\n    error,\r\n    setError,\r\n    validateForm\r\n  };\r\n};\r\n","import {\r\n  SignUpCredentialsInterface,\r\n  FormFieldConfigInterface,\r\n  ErrorMessageSignupVisibleInterface\r\n} from '../../shared/interfaces/FormInterfaces';\r\n\r\nexport const useFormFieldsConfig = (\r\n  formData: SignUpCredentialsInterface,\r\n  errorMessageVisible: ErrorMessageSignupVisibleInterface\r\n): FormFieldConfigInterface[] => [\r\n  {\r\n    label: 'Email',\r\n    type: 'email',\r\n    name: 'email',\r\n    isError: formData.email === '' && errorMessageVisible.email,\r\n    errorText: formData.email === '' && errorMessageVisible.email ? \"Email can't be empty\" : ' ',\r\n    value: formData.email\r\n  },\r\n  {\r\n    label: 'Password',\r\n    type: 'password',\r\n    name: 'password',\r\n    isError: formData.password === '' && errorMessageVisible.password,\r\n    errorText: formData.password === '' && errorMessageVisible.password ? \"Password can't be empty\" : ' ',\r\n    value: formData.password\r\n  },\r\n  {\r\n    label: 'Repeat password',\r\n    type: 'password',\r\n    name: 'repeatPassword',\r\n    isError: formData.repeatPassword === '' && errorMessageVisible.repeatPassword,\r\n    errorText:\r\n      formData.repeatPassword === '' && errorMessageVisible.repeatPassword ? \"Repeat Password can't be empty\" : ' ',\r\n    value: formData.repeatPassword\r\n  },\r\n  {\r\n    label: 'Nickname',\r\n    type: 'text',\r\n    name: 'name',\r\n    isError: formData.name === '' && errorMessageVisible.name,\r\n    errorText: formData.name === '' && errorMessageVisible.name ? \"Nickname can't be empty\" : ' ',\r\n    value: formData.name\r\n  }\r\n];\r\n","import { History, LocationState } from 'history';\r\nimport { auth } from '../firebase';\r\nimport { ErrorInterface } from '../shared/interfaces/FormInterfaces';\r\nimport { customToast } from './customToast';\r\n\r\ninterface signInWithCredentials {\r\n  email: string;\r\n  password: string;\r\n  setError: React.Dispatch<React.SetStateAction<ErrorInterface>>;\r\n  history: History<LocationState>;\r\n}\r\n\r\n// eslint-disable-next-line\r\nexport const signInWithCredentials = ({ email, password, setError, history }: signInWithCredentials): Promise<void> =>\r\n  auth\r\n    .signInWithEmailAndPassword(email, password)\r\n    .then(() => {\r\n      history.push('/feed');\r\n      customToast('success', 'Successfully Sign In');\r\n    })\r\n    .catch(error =>\r\n      setError({\r\n        isError: true,\r\n        errorText: error.message\r\n      })\r\n    );\r\n","import React, { useState, useMemo } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport { LoginCredentialsInterface, ErrorMessageLoginVisibleInterface } from '../../shared/interfaces/FormInterfaces';\r\nimport { useLoginFormValidation } from './useLoginFormValidation';\r\nimport { useFormLoginFieldsConfig } from './useFormLoginFieldsConfig';\r\nimport { FormField } from '../../shared/components/FormField/FormField';\r\nimport { signInWithCredentials } from '../../actions/signInWithCredentials';\r\n\r\nexport const LoginForm: React.FC = () => {\r\n  const history = useHistory();\r\n  const [formData, setFormData] = useState<LoginCredentialsInterface>({\r\n    password: '',\r\n    email: ''\r\n  });\r\n  const [isErrorMessageVisible, setIsErrorMessageVisible] = useState<ErrorMessageLoginVisibleInterface>({\r\n    email: false,\r\n    password: false\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { error, setError, validateForm } = useLoginFormValidation(formData);\r\n  const formFieldsConfig = useMemo(\r\n    () => useFormLoginFieldsConfig(formData, isErrorMessageVisible),\r\n    [formData, isErrorMessageVisible]\r\n  );\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (event: React.ChangeEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    if (validateForm()) {\r\n      const { email, password } = formData;\r\n      await signInWithCredentials({ email, password, setError, history });\r\n    }\r\n\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"formLayout__form\">\r\n      <h1 className=\"formLayout__text\">Sign in</h1>\r\n      <form className=\"form__container\" onSubmit={handleSubmit}>\r\n        {formFieldsConfig.map(({ label, type, name, isError, errorText, value }) => (\r\n          <FormField\r\n            key={name}\r\n            label={label}\r\n            type={type}\r\n            name={name}\r\n            isError={isError}\r\n            errorText={errorText}\r\n            className=\"form__input\"\r\n            // eslint-disable-next-line\r\n            onClick={(event: React.MouseEvent<HTMLDivElement>) => {\r\n              setIsErrorMessageVisible({ ...isErrorMessageVisible, [name]: true });\r\n            }}\r\n            value={value}\r\n            onChange={handleChange}\r\n          />\r\n        ))}\r\n        {error.isError && <p className=\"form__error\">{error.errorText}</p>}\r\n        <Button\r\n          data-testid=\"signin_button\"\r\n          className=\"form__submit\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          disabled={isLoading}\r\n          type=\"submit\"\r\n        >\r\n          Sign in\r\n        </Button>\r\n      </form>\r\n      <p className=\"hint\">\r\n        Don&apos;t have an account?\r\n        <Link to=\"/signUp\" className=\"cta__button\">\r\n          Sign up!\r\n        </Link>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n","import { useState } from 'react';\r\nimport { LoginCredentialsInterface, ErrorInterface } from '../../shared/interfaces/FormInterfaces';\r\nimport { ValidationInterface } from '../../shared/interfaces/ValidationInterfaces';\r\n\r\nexport const useLoginFormValidation = (LoginFormData: LoginCredentialsInterface): ValidationInterface => {\r\n  const initialErrorData: ErrorInterface = {\r\n    isError: false,\r\n    errorText: ''\r\n  };\r\n  const [error, setError] = useState(initialErrorData);\r\n\r\n  const validateForm = (): boolean => {\r\n    const { email, password } = LoginFormData;\r\n\r\n    const isAnyEmpty = () => email.trim() === '' || password.trim() === '';\r\n\r\n    if (isAnyEmpty()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: \"Fields can't be empty\"\r\n      });\r\n      return false;\r\n    }\r\n\r\n    setError(initialErrorData);\r\n    return true;\r\n  };\r\n\r\n  return {\r\n    error,\r\n    setError,\r\n    validateForm\r\n  };\r\n};\r\n","import {\r\n  ErrorMessageLoginVisibleInterface,\r\n  LoginCredentialsInterface,\r\n  FormFieldConfigInterface\r\n} from '../../shared/interfaces/FormInterfaces';\r\n\r\nexport const useFormLoginFieldsConfig = (\r\n  formData: LoginCredentialsInterface,\r\n  errorMessageVisible: ErrorMessageLoginVisibleInterface\r\n): FormFieldConfigInterface[] => [\r\n  {\r\n    label: 'E-mail',\r\n    type: 'email',\r\n    name: 'email',\r\n    isError: formData.email === '' && errorMessageVisible.email,\r\n    errorText: formData.email === '' && errorMessageVisible.email ? \"Email can't be empty\" : ' ',\r\n    value: formData.email\r\n  },\r\n  {\r\n    label: 'Password',\r\n    type: 'password',\r\n    name: 'password',\r\n    isError: formData.password === '' && errorMessageVisible.password,\r\n    errorText: formData.password === '' && errorMessageVisible.password ? \"Password can't be empty\" : ' ',\r\n    value: formData.password\r\n  }\r\n];\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\ninterface ErrorProps {\r\n  isError: boolean;\r\n  errorMessage: string;\r\n  children?: React.ReactElement;\r\n  className?: string;\r\n  testid?: string;\r\n}\r\n\r\nexport const WithError: React.FC<ErrorProps> = ({ isError, errorMessage, children, className, testid }) => {\r\n  if (isError) {\r\n    return (\r\n      <p className={className} data-testid={testid}>\r\n        {errorMessage}\r\n      </p>\r\n    );\r\n  }\r\n\r\n  if (!children) {\r\n    return null;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nWithError.propTypes = {\r\n  isError: PropTypes.bool.isRequired,\r\n  errorMessage: PropTypes.string.isRequired,\r\n  children: PropTypes.element,\r\n  className: PropTypes.string,\r\n  testid: PropTypes.string\r\n};\r\n","import { auth, db } from '../firebase';\r\nimport { User } from '../shared/interfaces/UserInterfaces';\r\nimport { customToast } from './customToast';\r\n\r\nexport const editProfile = async (userUid: string, newData: User): Promise<void> => {\r\n  try {\r\n    await auth.currentUser?.updateProfile(newData);\r\n    await db\r\n      .collection('users')\r\n      .doc(userUid)\r\n      .update(newData)\r\n      .then(() => customToast('success', 'Profilsuccessfully edited'));\r\n  } catch (error) {\r\n    // eslint-disable-next-line\r\n    customToast('error', 'There was a problem with Editing Your Profile');\r\n  }\r\n};\r\n","import { auth, db, storage } from '../firebase';\r\n\r\nexport const updateAvatar = async (userUid: string, file: File): Promise<void> => {\r\n  try {\r\n    const url = `users/${userUid}/profile.jpg`;\r\n    await storage.ref(url).put(file);\r\n    const avatarUrl = await storage.ref(url).getDownloadURL();\r\n    await db.collection('users').doc(userUid).update({\r\n      avatar: avatarUrl\r\n    });\r\n    await auth.currentUser?.updateProfile({\r\n      photoURL: avatarUrl\r\n    });\r\n  } catch (error) {\r\n    // eslint-disable-next-line\r\n    console.log(error);\r\n  }\r\n};\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { DropzoneArea } from 'material-ui-dropzone';\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport { useGetUserData } from '../../actions/useGetUserData';\r\nimport { editProfile } from '../../actions/editProfile';\r\nimport { updateAvatar } from '../../actions/updateAvatar';\r\nimport { User } from '../../shared/interfaces/UserInterfaces';\r\nimport './EditProfileForm.scss';\r\n\r\nexport const EditProfileForm: React.FC = () => {\r\n  const MIN_NICKNAME_CHARACTERS = 3;\r\n  const MAX_NICKNAME_CHARACTERS = 30;\r\n  const MAX_BIO_CHARACTERS = 300;\r\n  const initialFormData = {\r\n    displayName: '',\r\n    bio: ''\r\n  };\r\n  const currentUser = useContext(AuthContext);\r\n  const [shouldDataChange, setShouldDataChange] = useState(false);\r\n  const [formData, setFormData] = useState(initialFormData);\r\n\r\n  const { userData, isLoading, isError } = useGetUserData(currentUser?.uid as string);\r\n\r\n  useEffect(() => {\r\n    setFormData(userData);\r\n    return () => setFormData(initialFormData);\r\n  }, [userData]);\r\n\r\n  const isNicknameNotValid =\r\n    formData.displayName.trim() === '' ||\r\n    formData.displayName.length < MIN_NICKNAME_CHARACTERS ||\r\n    formData.displayName.length > MAX_NICKNAME_CHARACTERS;\r\n  const isBioNotValid = formData.bio.length >= MAX_BIO_CHARACTERS;\r\n\r\n  const validateForm = (): boolean => !isNicknameNotValid && !isBioNotValid;\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n    setFormData({ ...formData, [name]: value });\r\n    setShouldDataChange(true);\r\n  };\r\n\r\n  const handleSubmit = (event: React.ChangeEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    if (validateForm()) {\r\n      if (event.target.avatar.files[0]) {\r\n        updateAvatar(currentUser?.uid as string, event.target.avatar.files[0]);\r\n      }\r\n      editProfile(currentUser?.uid as string, formData as User);\r\n      setShouldDataChange(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <WithLoader isLoading={isLoading}>\r\n      <WithError isError={isError} errorMessage=\"Something went wrong please try again...\">\r\n        <form className=\"editForm\" onSubmit={handleSubmit}>\r\n          <TextField\r\n            className=\"editForm__field\"\r\n            variant=\"outlined\"\r\n            label=\"Enter new name\"\r\n            type=\"text\"\r\n            name=\"displayName\"\r\n            id=\"displayName\"\r\n            error={isNicknameNotValid}\r\n            helperText={\r\n              isNicknameNotValid ? 'Nickname must be longer than 3 characters and shorter than 30 characters' : ''\r\n            }\r\n            value={formData.displayName}\r\n            onChange={handleChange}\r\n            data-testid=\"displayName\"\r\n          />\r\n          <TextField\r\n            className=\"editForm__field\"\r\n            variant=\"outlined\"\r\n            label=\"Enter new Bio\"\r\n            type=\"text\"\r\n            name=\"bio\"\r\n            id=\"bio\"\r\n            error={isBioNotValid}\r\n            helperText={isBioNotValid ? 'Bio must be shorter than 300 characters' : ''}\r\n            value={formData.bio}\r\n            onChange={handleChange}\r\n            rows={2}\r\n            multiline\r\n            data-testid=\"bio\"\r\n          />\r\n          <DropzoneArea\r\n            dropzoneText=\"Enter new avatar\"\r\n            dropzoneParagraphClass=\"dropzone__text\"\r\n            acceptedFiles={['image/*']}\r\n            filesLimit={1}\r\n            showAlerts={false}\r\n            onDrop={() => setShouldDataChange(true)}\r\n            inputProps={{\r\n              id: 'avatar',\r\n              name: 'avatar'\r\n            }}\r\n          />\r\n          <Button variant=\"contained\" color=\"primary\" type=\"submit\" disabled={!shouldDataChange}>\r\n            Edit\r\n          </Button>\r\n        </form>\r\n      </WithError>\r\n    </WithLoader>\r\n  );\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { User } from '../shared/interfaces/UserInterfaces';\r\nimport { db } from '../firebase';\r\n\r\ninterface GetUserData {\r\n  userData: User;\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n}\r\n\r\nexport const useGetUserData = (userUid: string): GetUserData => {\r\n  const [state, setState] = useState<GetUserData>({\r\n    userData: {\r\n      displayName: '',\r\n      bio: '',\r\n      avatar: '',\r\n      id: ''\r\n    },\r\n    isLoading: true,\r\n    isError: false\r\n  });\r\n\r\n  const getUserData = async () => {\r\n    try {\r\n      const userData = (await db.collection('users').doc(userUid).get()).data();\r\n      setState({ ...state, isLoading: false, userData: userData as User });\r\n    } catch (error) {\r\n      setState({ ...state, isError: true, isLoading: false });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUserData();\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Modal from 'react-modal';\r\nimport { Button } from '@material-ui/core';\r\nimport { EditProfileForm } from '../EditProfileForm/EditProfileForm';\r\nimport './EditProfile.scss';\r\n\r\nModal.setAppElement('#root');\r\n\r\ninterface EditProfileProps {\r\n  isOpen: boolean;\r\n  setIsModalOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport const EditProfile: React.FC<EditProfileProps> = ({ isOpen, setIsModalOpen }) => {\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"modal\"\r\n      isOpen={isOpen}\r\n      onRequestClose={closeModal}\r\n      overlayClassName=\"overlay\"\r\n      data-testId=\"editProfileModal\"\r\n    >\r\n      <p className=\"modal__title\">Edit your profile</p>\r\n      <EditProfileForm />\r\n      <Button variant=\"contained\" color=\"secondary\" type=\"button\" onClick={closeModal}>\r\n        Close\r\n      </Button>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nEditProfile.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setIsModalOpen: PropTypes.func.isRequired\r\n};\r\n","import * as firebase from 'firebase';\r\nimport { auth, db } from '../firebase';\r\nimport { customToast } from './customToast';\r\n\r\ntype action = 'follow' | 'unfollow';\r\n\r\nexport const followAction = async (receiverUid: string, displayName: string, action: action): Promise<void> => {\r\n  const currentUserUid = auth.currentUser?.uid;\r\n  const userRef = db.collection('follows').doc(currentUserUid);\r\n  const receiverRef = db.collection('follows').doc(receiverUid);\r\n  switch (action) {\r\n    case 'follow':\r\n      try {\r\n        await userRef.update({\r\n          followed: firebase.default.firestore.FieldValue.arrayUnion(receiverUid)\r\n        });\r\n        await receiverRef.update({\r\n          followers: firebase.default.firestore.FieldValue.arrayUnion(currentUserUid)\r\n        });\r\n        customToast('default', `Followed ${displayName} `);\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n        console.log(error);\r\n      }\r\n      break;\r\n    case 'unfollow':\r\n      try {\r\n        await userRef.update({\r\n          followed: firebase.default.firestore.FieldValue.arrayRemove(receiverUid)\r\n        });\r\n        await receiverRef.update({\r\n          followers: firebase.default.firestore.FieldValue.arrayRemove(currentUserUid)\r\n        });\r\n        customToast('default', `Unfollowed ${displayName} `);\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n        console.log(error);\r\n      }\r\n      break;\r\n    default:\r\n      throw new Error();\r\n  }\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport AvatarPlaceholder from '../../assets/images/avatar_placeholder.png';\r\nimport { EditProfile } from '../EditProfile/EditProfile';\r\nimport { followAction } from '../../actions/followAction';\r\nimport './UserDetails.scss';\r\n\r\ninterface UserDetailsProps {\r\n  ownerUid: string;\r\n  displayName: string;\r\n  bio?: string;\r\n  avatar: string;\r\n  isMyUserDetails: boolean;\r\n  isUserFollowedBy: boolean;\r\n  isUserFollowing: boolean;\r\n}\r\n\r\nexport const UserDetails: React.FC<UserDetailsProps> = ({\r\n  ownerUid,\r\n  displayName,\r\n  bio,\r\n  avatar,\r\n  isMyUserDetails,\r\n  isUserFollowedBy,\r\n  isUserFollowing\r\n}: UserDetailsProps) => {\r\n  const [isFollowing, setIsFollowing] = useState(isUserFollowing);\r\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n\r\n  const handleClick = (action: 'follow' | 'unfollow') => {\r\n    followAction(ownerUid, displayName, action);\r\n    setIsFollowing(!isFollowing);\r\n  };\r\n\r\n  const followButtonHandler = () => {\r\n    const action = isFollowing ? 'unfollow' : 'follow';\r\n    const text = isUserFollowedBy ? 'follow back' : 'follow';\r\n\r\n    return (\r\n      <button type=\"button\" className=\"userDetails__followButton\" onClick={() => handleClick(action)}>\r\n        {isFollowing ? 'unfollow' : text}\r\n      </button>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <section className=\"userDetails\">\r\n      <img\r\n        className=\"userDetails__avatar\"\r\n        src={avatar || AvatarPlaceholder}\r\n        alt=\"User Avatar\"\r\n        width=\"164px\"\r\n        height=\"164px\"\r\n      />\r\n      <div className=\"userDetails__info\">\r\n        <header className=\"userDetails__name\">\r\n          {displayName}{' '}\r\n          {isMyUserDetails ? (\r\n            <span aria-label=\"editButton\" className=\"userDetails__edit\">\r\n              <Button\r\n                onClick={() => {\r\n                  setIsEditModalOpen(true);\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </Button>\r\n            </span>\r\n          ) : (\r\n            followButtonHandler()\r\n          )}\r\n        </header>\r\n        {isUserFollowedBy && (\r\n          <p className=\"userDetails__flare\">\r\n            <CheckCircleIcon fontSize=\"inherit\" /> User is following you\r\n          </p>\r\n        )}\r\n        <p className=\"userDetails__bio\">{bio}</p>\r\n      </div>\r\n      <EditProfile isOpen={isEditModalOpen} setIsModalOpen={setIsEditModalOpen} />\r\n    </section>\r\n  );\r\n};\r\n\r\nUserDetails.defaultProps = {\r\n  bio: ''\r\n};\r\n","import * as firebase from 'firebase';\r\nimport { auth, db } from '../firebase';\r\nimport { fields } from '../shared/interfaces/ProfileFieldInterfaces';\r\n\r\nexport const updateProfileFields = async (profileField: fields): Promise<void> => {\r\n  const currentUserUid = auth.currentUser?.uid;\r\n  const userRef = db.collection('users').doc(currentUserUid);\r\n  try {\r\n    await userRef.update({\r\n      profileFields: firebase.default.firestore.FieldValue.arrayUnion(profileField)\r\n    });\r\n  } catch (error) {\r\n    // eslint-disable-next-line\r\n    console.log(error);\r\n  }\r\n};\r\n","import React, { useState } from 'react';\r\nimport { TextField, Button } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { updateProfileFields } from '../../actions/updateProfileFields';\r\nimport { contentField } from '../../shared/interfaces/ProfileFieldInterfaces';\r\nimport './UserPageFieldForm.scss';\r\n\r\ntype fieldType = {\r\n  name: string;\r\n  value: string;\r\n};\r\ninterface UserPageFieldFormProps {\r\n  data: boolean;\r\n  setter: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport const UserPageFieldForm: React.FC<UserPageFieldFormProps> = ({ data, setter }: UserPageFieldFormProps) => {\r\n  const MAX_FIELDS_THRESHOLD = 12;\r\n  const MAX_INPUT_LENGTH = 100;\r\n  const [fieldsData, setFieldsData] = useState<contentField>({});\r\n  const [fieldInputs, setFieldInputs] = useState<fieldType[]>([]);\r\n  const [formTitle, setFormTitle] = useState('');\r\n  const [titleError, setTitleError] = useState(false);\r\n  const [fieldError, setFieldError] = useState(false);\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    event.preventDefault();\r\n    const { name, value } = event.target;\r\n    setFieldsData({ ...fieldsData, [name]: value });\r\n  };\r\n\r\n  const addField = () => {\r\n    const field = {\r\n      name: `field-${fieldInputs.length}`,\r\n      value: ''\r\n    };\r\n    const { name, value } = field;\r\n    setFieldInputs([...fieldInputs, field]);\r\n    setFieldsData({ ...fieldsData, [name]: value });\r\n  };\r\n\r\n  const checkKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (event.code === 'Enter') {\r\n      event.preventDefault();\r\n      addField();\r\n    }\r\n  };\r\n\r\n  const validate = (): boolean => {\r\n    if (formTitle === '') {\r\n      setTitleError(!titleError);\r\n      return true;\r\n    }\r\n    if (Object.entries(fieldsData).length === 0) {\r\n      addField();\r\n      return true;\r\n    }\r\n    if (Object.entries(fieldsData).every(field => field[1].trim() === '')) {\r\n      setFieldError(!fieldError);\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const handleSubmit = (event: React.ChangeEvent<HTMLFormElement>) => {\r\n    if (!validate()) {\r\n      const formData = {\r\n        content: Object.fromEntries(\r\n          Object.entries(fieldsData)\r\n            .map(([name, content]) => [name, content.trim()])\r\n            .filter(([, content]) => content !== '')\r\n        ),\r\n        title: formTitle\r\n      };\r\n      updateProfileFields(formData);\r\n      setter(!data);\r\n    }\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <article className=\"userPageFieldForm\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"userPageFieldForm__title\">\r\n          <TextField\r\n            error={titleError}\r\n            helperText={titleError && `Title can't be empty`}\r\n            onKeyDown={(e: React.KeyboardEvent<HTMLInputElement>) => checkKeyDown(e)}\r\n            onChange={event => setFormTitle(event.target.value)}\r\n            variant=\"outlined\"\r\n            placeholder=\"Title\"\r\n            name=\"title\"\r\n          />\r\n        </div>\r\n        <ul>\r\n          {fieldInputs.map(({ name }) => (\r\n            <li className=\"userPageFieldForm__field\">\r\n              <TextField\r\n                name={name}\r\n                value={fieldsData[name]}\r\n                error={fieldError}\r\n                helperText={fieldError && `At least one field must be filled`}\r\n                onKeyDown={(e: React.KeyboardEvent<HTMLInputElement>) => checkKeyDown(e)}\r\n                onChange={handleChange}\r\n                style={{ width: '100%' }}\r\n                inputProps={{ maxLength: MAX_INPUT_LENGTH }}\r\n              />\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        {fieldInputs.length < MAX_FIELDS_THRESHOLD && (\r\n          <button className=\"userPageFieldForm__addfield\" type=\"button\" onClick={addField}>\r\n            <AddIcon role=\"button\" aria-label=\"Add new field\" />\r\n          </button>\r\n        )}\r\n        <span className=\"userPageFieldForm__submitButtonWrapper\">\r\n          <Button className=\"userPageFieldForm__submitButton\" variant=\"contained\" color=\"primary\" type=\"submit\">\r\n            Confirm\r\n          </Button>\r\n        </span>\r\n      </form>\r\n    </article>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { UserPageFieldInterface, fields } from '../../shared/interfaces/ProfileFieldInterfaces';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport { WithError } from '../WithError/WithError';\r\nimport './UserPageField.scss';\r\n\r\nexport const UserPageField: React.FC<UserPageFieldInterface<fields>> = ({\r\n  data,\r\n  isLoading,\r\n  isError\r\n}: UserPageFieldInterface<fields>) => (\r\n  <WithLoader isLoading={isLoading}>\r\n    <WithError isError={isError} errorMessage=\"Couldn't get user data\">\r\n      <article className=\"userPageField\">\r\n        <h3 className=\"userPageField__title\">{data.title}</h3>\r\n        <ul>\r\n          {Object.entries(data.content).map(([, fieldEntry], id) => (\r\n            // eslint-disable-next-line\r\n            <li key={id} className=\"userPageField__entries\">\r\n              {fieldEntry}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </article>\r\n    </WithError>\r\n  </WithLoader>\r\n);\r\n\r\nUserPageField.propTypes = {\r\n  data: PropTypes.shape({\r\n    content: PropTypes.shape({\r\n      name: PropTypes.string.isRequired\r\n    }).isRequired,\r\n    title: PropTypes.string.isRequired\r\n  }).isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  isError: PropTypes.bool.isRequired\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { db } from '../firebase';\r\n\r\nexport const useIsUserFollowed = (currentUserId: string | undefined, pageUserId: string | undefined): boolean => {\r\n  const [value, setValue] = useState(true);\r\n\r\n  const getFollows = async () => {\r\n    try {\r\n      const follows = await db.collection('follows').doc(currentUserId).get();\r\n      setValue(follows.data()?.followers.includes(pageUserId));\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n      console.error(error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getFollows();\r\n  }, [currentUserId, pageUserId]);\r\n\r\n  return value;\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport './SearchHint.scss';\r\n\r\ninterface SearchHintProps {\r\n  displayName: string;\r\n  id: string;\r\n}\r\n\r\nexport const SearchHint: React.FC<SearchHintProps> = ({ displayName, id }) => (\r\n  <Link className=\"searchHint__link\" to={`/user/${id}`}>\r\n    <li className=\"searchHint\">{displayName}</li>\r\n  </Link>\r\n);\r\n\r\nSearchHint.propTypes = {\r\n  displayName: PropTypes.string.isRequired,\r\n  id: PropTypes.string.isRequired\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { SearchHint } from '../SearchHint/SearchHint';\r\nimport { userHint } from '../../shared/interfaces/UserInterfaces';\r\nimport './Search.scss';\r\n\r\ninterface SearchProps {\r\n  testid?: string;\r\n  getHints?: (set: React.Dispatch<React.SetStateAction<userHint[][]>>, value: string) => void;\r\n  setIsSearchOpen?: React.Dispatch<React.SetStateAction<boolean>>;\r\n  isSearchOpen?: boolean;\r\n}\r\n\r\nexport const Search: React.FC<SearchProps> = ({ testid, getHints, setIsSearchOpen, isSearchOpen }) => {\r\n  const [searchInput, setSearchInput] = useState('');\r\n  const [searchHints, setSearchHints] = useState<userHint[][]>([]);\r\n  const container = useRef() as React.MutableRefObject<HTMLInputElement>;\r\n\r\n  const closeInputOutside = (ref: React.MutableRefObject<HTMLInputElement>) => {\r\n    if (setIsSearchOpen) {\r\n      useEffect(() => {\r\n        const handleOutsideClick = (event: any) => {\r\n          if (ref.current && !ref.current.contains(event.target)) {\r\n            setIsSearchOpen(false);\r\n            document.removeEventListener('click', handleOutsideClick);\r\n          }\r\n        };\r\n        if (isSearchOpen) {\r\n          document.addEventListener('click', handleOutsideClick);\r\n        }\r\n      }, [isSearchOpen, ref]);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (getHints) {\r\n      getHints(setSearchHints, searchInput);\r\n    }\r\n  }, [searchInput]);\r\n\r\n  closeInputOutside(container);\r\n\r\n  return (\r\n    <div className={classNames('search', { 'search--hidden': isSearchOpen })} data-testid={testid}>\r\n      <div ref={container} className=\"search__container\">\r\n        <SearchIcon\r\n          onClick={() => {\r\n            if (setIsSearchOpen) {\r\n              setIsSearchOpen(true);\r\n            }\r\n          }}\r\n          className={classNames('search__icon', { 'search__icon--hidden': isSearchOpen })}\r\n        />\r\n        <input\r\n          value={searchInput}\r\n          onChange={event => setSearchInput(event.target.value)}\r\n          data-testid={`${testid}Input`}\r\n          placeholder=\"Search...\"\r\n          className={classNames('search__input', { 'search__input--hidden': isSearchOpen })}\r\n          type=\"text\"\r\n        />\r\n      </div>\r\n      <ul className={classNames('search__hints', { 'search__hints--hidden': isSearchOpen })}>\r\n        {searchHints.map(([hint]) => (\r\n          <SearchHint key={hint.id} displayName={hint.displayName} id={hint.id} />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nSearch.defaultProps = {\r\n  testid: undefined,\r\n  setIsSearchOpen: undefined,\r\n  isSearchOpen: false\r\n};\r\n\r\nSearch.propTypes = {\r\n  testid: PropTypes.string,\r\n  getHints: PropTypes.func.isRequired,\r\n  setIsSearchOpen: PropTypes.func,\r\n  isSearchOpen: PropTypes.bool\r\n};\r\n","import React, { useContext } from 'react';\r\nimport { Avatar, Button } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport { signOut } from '../../actions/signout';\r\nimport './HeaderDropdown.scss';\r\n\r\ninterface HeaderDropdownProps {\r\n  testid?: string;\r\n}\r\n\r\nexport const HeaderDropdown: React.FC<HeaderDropdownProps> = ({ testid }) => {\r\n  const user = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <ul className=\"headerDropdown\" data-testid={testid}>\r\n      <li className=\"headerDropdown__listItem\">\r\n        <Avatar src={user?.photoURL || ''} />\r\n      </li>\r\n      <li className=\"headerDropdown__listItem\">\r\n        <p>{user?.displayName || 'User'}</p>\r\n      </li>\r\n      <li className=\"headerDropdown__listItem\">\r\n        <Button\r\n          data-testid={`${testid}ViewProfile`}\r\n          onClick={() => history.push(`/user/${user?.uid}`)}\r\n          className=\"headerDropdown__button\"\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n        >\r\n          View Profile\r\n        </Button>\r\n      </li>\r\n      <li className=\"headerDropdown__listItem\">\r\n        <Button\r\n          onClick={() => signOut({ history })}\r\n          data-testid={`${testid}SignOut`}\r\n          className=\"headerDropdown__button\"\r\n          variant=\"outlined\"\r\n        >\r\n          Sign Out\r\n        </Button>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nHeaderDropdown.defaultProps = {\r\n  testid: undefined\r\n};\r\n\r\nHeaderDropdown.propTypes = {\r\n  testid: PropTypes.string\r\n};\r\n","import { History, LocationState } from 'history';\r\nimport { auth } from '../firebase';\r\nimport { customToast } from './customToast';\r\n\r\ninterface signOutProps {\r\n  history: History<LocationState>;\r\n}\r\n\r\nexport const signOut = ({ history }: signOutProps): void => {\r\n  auth\r\n    .signOut()\r\n    .then(() => {\r\n      history.push('/');\r\n      customToast('success', 'Successfully Sign Out');\r\n    })\r\n    .catch(() => customToast('error', 'There was a problem with Sign Out'));\r\n};\r\n","import HomeIcon from '@material-ui/icons/Home';\r\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nexport const navigationItems = [\r\n  { path: '/feed', icon: HomeIcon, title: 'Home' },\r\n  { path: '/network', icon: SupervisorAccountIcon, title: 'My Network' },\r\n  { path: '/notifications', icon: NotificationsIcon, title: 'Notifications' },\r\n  { path: '', icon: Avatar, title: 'Me' }\r\n];\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Dropdown.scss';\r\n\r\ninterface DropdownProps {\r\n  DropdownOpener: React.ReactNode;\r\n  children?: React.ReactNode;\r\n}\r\n\r\nexport const Dropdown: React.FC<DropdownProps> = ({ DropdownOpener, children }) => {\r\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n  const dropdown = useRef() as React.MutableRefObject<HTMLDivElement>;\r\n\r\n  const closeDropdownOutside = (ref: React.MutableRefObject<HTMLDivElement>) => {\r\n    useEffect(() => {\r\n      const handleOutsideClick = (event: any) => {\r\n        if (ref.current && !ref.current.contains(event.target)) {\r\n          setIsDropdownOpen(false);\r\n          document.removeEventListener('click', handleOutsideClick);\r\n        }\r\n      };\r\n      if (isDropdownOpen) {\r\n        document.addEventListener('click', handleOutsideClick);\r\n      }\r\n    }, [isDropdownOpen, ref]);\r\n  };\r\n\r\n  closeDropdownOutside(dropdown);\r\n\r\n  return (\r\n    <div className=\"dropdown\">\r\n      <div\r\n        className=\"dropdown__opener\"\r\n        onClick={() => setIsDropdownOpen(true)}\r\n        onKeyDown={() => setIsDropdownOpen(true)}\r\n        role=\"button\"\r\n        tabIndex={0}\r\n      >\r\n        {DropdownOpener}\r\n      </div>\r\n      {isDropdownOpen && (\r\n        <div ref={dropdown} className=\"dropdown__container\">\r\n          {children}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nDropdown.propTypes = {\r\n  DropdownOpener: PropTypes.func.isRequired,\r\n  children: PropTypes.node.isRequired\r\n};\r\n","import React, { useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { OverridableComponent } from '@material-ui/core/OverridableComponent';\r\nimport { useLocation } from 'react-router-dom';\r\nimport classNames from 'classnames';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport './NavigationIcon.scss';\r\n\r\ninterface NavigationIconProps {\r\n  Icon: OverridableComponent<any>;\r\n  title: string;\r\n  path?: string;\r\n  testid?: string;\r\n}\r\n\r\nexport const NavigationIcon: React.FC<NavigationIconProps> = ({ Icon, title, path, testid }) => {\r\n  const location = useLocation();\r\n  const user = useContext(AuthContext);\r\n\r\n  return (\r\n    <div\r\n      data-testid={testid}\r\n      className={classNames('navigationIcon', { 'navigationIcon--active': path === location.pathname })}\r\n    >\r\n      <Icon className=\"navigationIcon__icon\" src={user?.photoURL} />\r\n      <p className=\"navigationIcon__title\">{title}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nNavigationIcon.defaultProps = {\r\n  path: '',\r\n  testid: undefined\r\n};\r\n\r\nNavigationIcon.propTypes = {\r\n  Icon: PropTypes.func.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  path: PropTypes.string,\r\n  testid: PropTypes.string\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { HeaderDropdown } from '../DropdownsContent/HeaderDropdown';\r\nimport { navigationItems } from '../../constants/Navigation';\r\nimport { Dropdown } from '../Dropdown/Dropdown';\r\nimport { NavigationIcon } from '../NavigationIcon/NavigationIcon';\r\nimport './Navigation.scss';\r\n\r\ninterface NavigationProps {\r\n  testid?: string;\r\n  isSearchOpen?: boolean;\r\n}\r\n\r\nexport const Navigation: React.FC<NavigationProps> = ({ testid, isSearchOpen }) => (\r\n  <nav className={classNames('navigation', { 'navigation--hidden': isSearchOpen })} data-testid={testid}>\r\n    <ul className=\"navigation__wrapper\">\r\n      {navigationItems.map(({ title, path, icon }) => (\r\n        <li key={path}>\r\n          {path ? (\r\n            <Link className=\"navigation__link\" to={path}>\r\n              <NavigationIcon testid={`${testid}Link${title}`} title={title} path={path} Icon={icon} />\r\n            </Link>\r\n          ) : (\r\n            <Dropdown DropdownOpener={<NavigationIcon testid={`${testid}DropdownOpener`} title={title} Icon={icon} />}>\r\n              <HeaderDropdown testid={`${testid}Dropdown`} />\r\n            </Dropdown>\r\n          )}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  </nav>\r\n);\r\n\r\nNavigation.defaultProps = {\r\n  testid: undefined,\r\n  isSearchOpen: false\r\n};\r\n\r\nNavigation.propTypes = {\r\n  testid: PropTypes.string,\r\n  isSearchOpen: PropTypes.bool\r\n};\r\n","import { db } from '../firebase';\r\n\r\ntype userHint = {\r\n  displayName: string;\r\n  id: string;\r\n};\r\n\r\nexport const userHints: (set: React.Dispatch<React.SetStateAction<userHint[][]>>, value: string) => void = async (\r\n  set,\r\n  value\r\n) => {\r\n  const snapshot = await db.collection('users').orderBy('displayName', 'asc').get();\r\n  set(\r\n    snapshot.docs\r\n      .map(doc => [{ displayName: doc.data().displayName, id: doc.data().id }])\r\n      .filter(doc => doc[0].displayName.startsWith(value) && value)\r\n      .slice(0, 5)\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\r\nimport PropTypes from 'prop-types';\r\nimport { Search } from '../Search/Search';\r\nimport { Navigation } from '../Navigation/Navigation';\r\nimport { userHints } from '../../constants/UserHints';\r\nimport './Header.scss';\r\n\r\ninterface HeaderProps {\r\n  testid?: string;\r\n}\r\n\r\nexport const Header: React.FC<HeaderProps> = ({ testid }) => {\r\n  const [isSearchOpen, setIsSearchOpen] = useState(false);\r\n\r\n  return (\r\n    <header className=\"header\" data-testid={testid}>\r\n      <div className=\"header__search\">\r\n        <LinkedInIcon color=\"primary\" className=\"header__logo\" />\r\n        <Search\r\n          setIsSearchOpen={setIsSearchOpen}\r\n          isSearchOpen={isSearchOpen}\r\n          testid=\"searchHeader\"\r\n          getHints={userHints}\r\n        />\r\n      </div>\r\n      <Navigation testid=\"navigationHeader\" isSearchOpen={isSearchOpen} />\r\n    </header>\r\n  );\r\n};\r\n\r\nHeader.defaultProps = {\r\n  testid: undefined\r\n};\r\n\r\nHeader.propTypes = {\r\n  testid: PropTypes.string\r\n};\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { db } from '../firebase';\r\nimport { AuthContext } from '../context/AuthProvider';\r\nimport { UserFollows } from '../shared/interfaces/UserInterfaces';\r\n\r\ninterface GetUserFollows {\r\n  userFollows: string[];\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n}\r\n\r\nexport const useGetUserFollows = (): GetUserFollows => {\r\n  const currentUser = useContext(AuthContext);\r\n  const [state, setState] = useState<GetUserFollows>({\r\n    userFollows: [],\r\n    isLoading: true,\r\n    isError: false\r\n  });\r\n\r\n  const getUserFollows = async () => {\r\n    try {\r\n      const snapshot = await db.collection('follows').doc(currentUser?.uid).get();\r\n      const { followed } = snapshot.data() as UserFollows;\r\n      setState({ ...state, userFollows: followed, isLoading: false });\r\n    } catch (error) {\r\n      setState({ ...state, isError: true, isLoading: false });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUserFollows();\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from '../context/AuthProvider';\r\nimport { db } from '../firebase';\r\nimport { User } from '../shared/interfaces/UserInterfaces';\r\n\r\ninterface GetUser {\r\n  users: User[];\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n}\r\n\r\nexport const useGetUsers = (): GetUser => {\r\n  const [state, setState] = useState<GetUser>({\r\n    users: [],\r\n    isLoading: true,\r\n    isError: false\r\n  });\r\n  const currentUser = useContext(AuthContext);\r\n\r\n  const getUsers = async () => {\r\n    try {\r\n      const snapshot = await db.collection('users').orderBy('displayName', 'asc').get();\r\n      const users = snapshot.docs.map(user => user.data()).filter(user => user.id !== currentUser?.uid) as User[];\r\n      setState({ ...state, users, isLoading: false });\r\n    } catch (error) {\r\n      setState({ ...state, isLoading: false, isError: true });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUsers();\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport { Avatar, Button, Grow } from '@material-ui/core';\r\nimport { followAction } from '../../actions/followAction';\r\nimport './UserCard.scss';\r\n\r\ninterface UserCardProps {\r\n  avatar?: string;\r\n  displayName: string;\r\n  followed?: boolean;\r\n  id: string;\r\n  testid?: string;\r\n}\r\n\r\nexport const UserCard: React.FC<UserCardProps> = ({ avatar, displayName, followed, id, testid }) => {\r\n  const [isFollowed, setIsFollowed] = useState(followed);\r\n\r\n  const handleClick = () => {\r\n    if (!isFollowed) {\r\n      followAction(id, displayName, 'follow');\r\n    } else {\r\n      followAction(id, displayName, 'unfollow');\r\n    }\r\n    setIsFollowed(!isFollowed);\r\n  };\r\n\r\n  return (\r\n    <Grow in timeout={500}>\r\n      <section className=\"userCard\" data-testid={`${testid}${id}`}>\r\n        <div className=\"userCard__info\">\r\n          <Avatar className=\"userCard__avatar\" src={avatar} />\r\n          <Link className=\"userCard__displayName\" data-testid={`\"userCard__displayName--${testid}`} to={`/user/${id}`}>\r\n            <p>{displayName}</p>\r\n          </Link>\r\n        </div>\r\n        <Button onClick={handleClick} variant=\"outlined\" color=\"primary\" className=\"userCard__button\">\r\n          {isFollowed ? 'Followed' : 'Follow'}\r\n        </Button>\r\n      </section>\r\n    </Grow>\r\n  );\r\n};\r\n\r\nUserCard.defaultProps = {\r\n  avatar: '',\r\n  followed: false,\r\n  testid: undefined\r\n};\r\n\r\nUserCard.propTypes = {\r\n  avatar: PropTypes.string,\r\n  displayName: PropTypes.string.isRequired,\r\n  followed: PropTypes.bool,\r\n  id: PropTypes.string.isRequired,\r\n  testid: PropTypes.string\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Grow } from '@material-ui/core';\r\nimport { useGetUserFollows } from '../../actions/useGetUserFollows';\r\nimport { useGetUsers } from '../../actions/useGetUsers';\r\nimport { User } from '../../shared/interfaces/UserInterfaces';\r\nimport { UserCard } from '../UserCard/UserCard';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport './FollowedUsers.scss';\r\n\r\ninterface FollowedUsersProps {\r\n  testid?: string;\r\n}\r\n\r\nexport const FollowedUsers: React.FC<FollowedUsersProps> = ({ testid }) => {\r\n  const { userFollows, isLoading: isFollowsLoading, isError: isFollowsError } = useGetUserFollows();\r\n  const { users, isLoading, isError } = useGetUsers();\r\n  const [followedUsers, setFollowedUsers] = useState<User[]>();\r\n\r\n  const getFollowedUsersInfo = () => users.filter(user => userFollows.includes(user.id));\r\n\r\n  useEffect(() => {\r\n    setFollowedUsers(getFollowedUsersInfo());\r\n  }, [isLoading, isFollowsLoading]);\r\n\r\n  return (\r\n    <WithLoader isLoading={isLoading || isFollowsLoading}>\r\n      <WithError isError={isFollowsError || isError} errorMessage=\"Error has occurred please try again...\">\r\n        <Grow in timeout={500}>\r\n          <div data-testid={testid} className=\"followedUsers\">\r\n            {followedUsers?.map(({ displayName, avatar, id }) => (\r\n              <UserCard key={id} displayName={displayName} avatar={avatar} id={id} followed />\r\n            ))}\r\n          </div>\r\n        </Grow>\r\n      </WithError>\r\n    </WithLoader>\r\n  );\r\n};\r\n\r\nFollowedUsers.defaultProps = {\r\n  testid: undefined\r\n};\r\n\r\nFollowedUsers.propTypes = {\r\n  testid: PropTypes.string\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { IconButton, Grow } from '@material-ui/core';\r\nimport { useGetUserFollows } from '../../actions/useGetUserFollows';\r\nimport { useGetUsers } from '../../actions/useGetUsers';\r\nimport { User } from '../../shared/interfaces/UserInterfaces';\r\nimport { UserCard } from '../UserCard/UserCard';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport './RecommendedUsers.scss';\r\n\r\ninterface RecommendedUsersProps {\r\n  testid?: string;\r\n}\r\n\r\nexport const RecommendedUsers: React.FC<RecommendedUsersProps> = ({ testid }) => {\r\n  const { userFollows, isLoading: isFollowsLoading, isError: isFollowsError } = useGetUserFollows();\r\n  const { users, isLoading, isError } = useGetUsers();\r\n  const [recommendedUsers, setRecommendedUsers] = useState<User[]>([]);\r\n\r\n  const getRecommendedUsersInfo = () =>\r\n    users\r\n      .filter(user => !userFollows.includes(user.id))\r\n      .sort(() => Math.random() - 0.5)\r\n      .slice(0, 8);\r\n\r\n  const getMoreRecommendedUsersInfo = () =>\r\n    users\r\n      .filter(user => !userFollows.includes(user.id) && !recommendedUsers?.includes(user))\r\n      .sort(() => Math.random() - 0.5)\r\n      .slice(0, 8);\r\n\r\n  useEffect(() => {\r\n    setRecommendedUsers(getRecommendedUsersInfo());\r\n  }, [isLoading, isFollowsLoading]);\r\n\r\n  return (\r\n    <WithLoader isLoading={isLoading || isFollowsLoading}>\r\n      <WithError isError={isFollowsError || isError} errorMessage=\"Error has occurred please try again...\">\r\n        <div className=\"recommendedUsers\">\r\n          <Grow in timeout={500}>\r\n            <div data-testid={testid} className=\"recommendedUsers__wrapper\">\r\n              {recommendedUsers.map(({ displayName, avatar, id }) => (\r\n                <UserCard key={id} displayName={displayName} avatar={avatar} id={id} />\r\n              ))}\r\n            </div>\r\n          </Grow>\r\n          <IconButton onClick={() => setRecommendedUsers([...recommendedUsers, ...getMoreRecommendedUsersInfo()])}>\r\n            <ExpandMoreIcon fontSize=\"large\" />\r\n          </IconButton>\r\n        </div>\r\n      </WithError>\r\n    </WithLoader>\r\n  );\r\n};\r\n\r\nRecommendedUsers.defaultProps = {\r\n  testid: undefined\r\n};\r\n\r\nRecommendedUsers.propTypes = {\r\n  testid: PropTypes.string\r\n};\r\n","export enum Posts {\r\n  newAmount = 4,\r\n  initialAmount = 5\r\n}\r\n","import React, { useState, useContext } from 'react';\r\nimport { TextField, Avatar, Button } from '@material-ui/core';\r\nimport { generateDate } from '../../utilities/date';\r\nimport { setPost } from '../../actions/setPost';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport { customToast } from '../../actions/customToast';\r\nimport './CreatePost.scss';\r\n\r\nexport const CreatePost: React.FC = () => {\r\n  const [postText, setPostText] = useState('');\r\n  const currentUser = useContext(AuthContext);\r\n\r\n  const isNicknameValid = postText.trim() !== '';\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setPostText(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = (event: React.ChangeEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    if (isNicknameValid) {\r\n      setPost({\r\n        ownerUid: currentUser?.uid as string,\r\n        content: postText,\r\n        displayName: currentUser?.displayName as string,\r\n        timestamp: generateDate(),\r\n        avatar: currentUser?.photoURL as string\r\n      });\r\n    } else {\r\n      customToast('error', \"Post text can't be empty\", false);\r\n    }\r\n    setPostText('');\r\n  };\r\n\r\n  return (\r\n    <article data-testid=\"createPost\" className=\"create-post\">\r\n      <Avatar className=\"avatar\" src={currentUser?.photoURL || ''} />\r\n      <form className=\"share-box\" onSubmit={handleSubmit}>\r\n        <TextField\r\n          multiline\r\n          placeholder=\"What do you want to say?\"\r\n          value={postText}\r\n          onChange={handleChange}\r\n          className=\"share-box__text\"\r\n          data-testid=\"textPost\"\r\n        />\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          type=\"submit\"\r\n          className=\"share-box__add-post\"\r\n          data-testid=\"addPost\"\r\n        >\r\n          Add Post\r\n        </Button>\r\n      </form>\r\n    </article>\r\n  );\r\n};\r\n","import { db } from '../firebase';\r\nimport { customToast } from './customToast';\r\n\r\ninterface FeedPostProps {\r\n  ownerUid: string;\r\n  displayName: string;\r\n  avatar?: string;\r\n  content: string;\r\n  timestamp: string;\r\n}\r\n\r\nexport const setPost = ({ ownerUid, content, avatar, timestamp, displayName }: FeedPostProps): void => {\r\n  try {\r\n    db.collection('posts')\r\n      .add({ ownerUid, content, avatar, timestamp, displayName })\r\n      .then(() => {\r\n        customToast('success', 'Post successfully added', false);\r\n      });\r\n  } catch (error) {\r\n    customToast('error', 'There was a problem with Adding a Post');\r\n  }\r\n};\r\n","import moment from 'moment';\r\n\r\nexport const generateDate = (): string => moment().format('YYYY-MM-DD HH:mm:ss');\r\n","import React, { useRef, useState, MutableRefObject } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport { useIsContentOverflowing } from '../../actions/useIsContentOverflowing';\r\nimport AvatarPlaceholder from '../../assets/images/avatar_placeholder.png';\r\nimport './FeedPost.scss';\r\n\r\nexport interface FeedPostProps {\r\n  ownerUid: string;\r\n  displayName: string;\r\n  avatar?: string;\r\n  content: string;\r\n  timestamp: string;\r\n  testid?: string;\r\n}\r\n\r\nexport const FeedPost: React.FC<FeedPostProps> = ({\r\n  ownerUid,\r\n  displayName,\r\n  avatar,\r\n  content,\r\n  timestamp,\r\n  testid\r\n}: FeedPostProps) => {\r\n  const [seeMore, setSeeMore] = useState(false);\r\n  const ref = useRef() as MutableRefObject<HTMLParagraphElement>;\r\n  const isContentOverflowing = useIsContentOverflowing(ref);\r\n  const timePassed = moment(timestamp).startOf('hour').fromNow();\r\n\r\n  return (\r\n    <article className=\"feedPost\">\r\n      <Link className=\"feedPost__user\" data-testid={`\"feedPost__user--${testid}`} to={`/user/${ownerUid}`}>\r\n        <img className=\"feedPost__avatar\" src={avatar || AvatarPlaceholder} alt={`${displayName}'s avatar`} />\r\n        <p className=\"feedPost__name\">{displayName}</p>\r\n      </Link>\r\n      <p ref={ref} className={`feedPost__content feedPost__content--see__${!seeMore && 'less'}`}>\r\n        {content.trim()}\r\n      </p>\r\n      {isContentOverflowing && !seeMore && (\r\n        <button\r\n          data-testid={`\"feedPost__seeButton--${testid}`}\r\n          type=\"button\"\r\n          className={`feedPost__seeButton feedPost__seeButton--see__${!seeMore && 'less'}`}\r\n          onClick={() => {\r\n            setSeeMore(!seeMore);\r\n          }}\r\n        >\r\n          ...see more\r\n        </button>\r\n      )}\r\n      <p className=\"feedPost__timestamp\">{timePassed}</p>\r\n    </article>\r\n  );\r\n};\r\n\r\nFeedPost.defaultProps = {\r\n  testid: '',\r\n  avatar: AvatarPlaceholder\r\n};\r\n\r\nFeedPost.propTypes = {\r\n  ownerUid: PropTypes.string.isRequired,\r\n  displayName: PropTypes.string.isRequired,\r\n  avatar: PropTypes.string,\r\n  content: PropTypes.string.isRequired,\r\n  timestamp: PropTypes.string.isRequired,\r\n  testid: PropTypes.string\r\n};\r\n","import { useState, useEffect, MutableRefObject } from 'react';\r\n\r\nexport const useIsContentOverflowing = (ref: MutableRefObject<HTMLElement>): boolean => {\r\n  const [isContentOverflowing, setIsContentOverflowing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setIsContentOverflowing(ref.current.offsetHeight < ref.current.scrollHeight);\r\n    };\r\n    window.addEventListener('resize', handleResize);\r\n    handleResize();\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n  return isContentOverflowing;\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { useGetPosts } from '../../actions/useGetPosts';\r\nimport { useGetUserFollows } from '../../actions/useGetUserFollows';\r\nimport { postsFilter } from '../../actions/postsFilter';\r\nimport { FeedPost, FeedPostProps } from '../FeedPost/FeedPost';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { Posts } from '../../constants/Posts';\r\nimport './FeedList.scss';\r\n\r\nexport const FeedList: React.FC = () => {\r\n  const [posts, setPosts] = useState<FeedPostProps[]>([]);\r\n  const [index, setIndex] = useState(Posts.initialAmount);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const { userFollows, isLoading: isFollowsLoading, isError: isFollowsError } = useGetUserFollows();\r\n  const { allPosts, isLoading: isPostsLoading, isError: isPostsError } = useGetPosts();\r\n  const userPosts = postsFilter(userFollows, allPosts);\r\n\r\n  const initializePosts = () => {\r\n    if (userPosts.length) {\r\n      setPosts(userPosts.slice(0, Posts.initialAmount));\r\n    }\r\n  };\r\n\r\n  const checkPostsAmount = () => {\r\n    if (userPosts.length <= Posts.initialAmount && allPosts.length) {\r\n      setHasMore(false);\r\n    }\r\n  };\r\n\r\n  const getMoreData = () => {\r\n    if (posts.length >= userPosts.length) {\r\n      setHasMore(false);\r\n      return;\r\n    }\r\n\r\n    setTimeout(() => {\r\n      setPosts(userPosts.slice(0, index + Posts.newAmount));\r\n      setIndex(index + Posts.newAmount);\r\n    }, 1000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    initializePosts();\r\n    checkPostsAmount();\r\n  }, [userFollows, allPosts]);\r\n\r\n  if (!userPosts.length && allPosts.length) {\r\n    return <WithError isError errorMessage=\"Follow users to see their posts!\" className=\"noPostsError\" />;\r\n  }\r\n\r\n  return (\r\n    <section className=\"feedList\" data-testid=\"feedList\">\r\n      <WithLoader isLoading={isFollowsLoading || isPostsLoading} className=\"feedList__loader\">\r\n        <WithError isError={isFollowsError || isPostsError} errorMessage=\"Error has occurred please try again...\">\r\n          <InfiniteScroll\r\n            dataLength={posts.length}\r\n            next={getMoreData}\r\n            hasMore={hasMore}\r\n            loader={\r\n              <div className=\"feedList__loader\">\r\n                <CircularProgress />\r\n              </div>\r\n            }\r\n            endMessage={<p className=\"feedList__endMessage\">Yay! You have seen it all</p>}\r\n            className=\"feedList__posts\"\r\n          >\r\n            {posts.map(({ testid, ownerUid, displayName, content, avatar, timestamp }) => (\r\n              <FeedPost\r\n                key={testid}\r\n                testid={testid}\r\n                ownerUid={ownerUid}\r\n                displayName={displayName}\r\n                content={content}\r\n                avatar={avatar}\r\n                timestamp={timestamp}\r\n              />\r\n            ))}\r\n          </InfiniteScroll>\r\n        </WithError>\r\n      </WithLoader>\r\n    </section>\r\n  );\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { db } from '../firebase';\r\nimport { FeedPostProps } from '../components/FeedPost/FeedPost';\r\n\r\ninterface GetPosts {\r\n  allPosts: FeedPostProps[];\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n}\r\n\r\nexport const useGetPosts = (): GetPosts => {\r\n  const [state, setState] = useState<GetPosts>({\r\n    allPosts: [],\r\n    isLoading: true,\r\n    isError: false\r\n  });\r\n\r\n  const getPosts = async () => {\r\n    try {\r\n      const snapshot = await db.collection('posts').orderBy('timestamp', 'desc').get();\r\n      const allPosts = snapshot.docs.map(post => ({ ...post.data(), testid: post.id })) as FeedPostProps[];\r\n      setState({ ...state, allPosts, isLoading: false });\r\n    } catch (error) {\r\n      setState({ ...state, isError: true, isLoading: false });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPosts();\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n","import { FeedPostProps } from '../components/FeedPost/FeedPost';\r\n\r\nexport const postsFilter = (follows: string[], posts: FeedPostProps[]): FeedPostProps[] =>\r\n  posts.filter(post => follows.includes(post.ownerUid));\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { FormLayout } from '../pages/FormLayout/FormLayout';\r\nimport { Welcome } from '../pages/Welcome/Welcome';\r\nimport { DefaultRoute } from './DefaultRoute';\r\nimport { ProtectedRoute } from './ProtectedRoute';\r\nimport { SignupForm } from '../components/SignupForm/SignupForm';\r\nimport { LoginForm } from '../components/LoginForm/LoginForm';\r\nimport { UserPage } from '../pages/UserPage/UserPage';\r\nimport { MyNetwork } from '../pages/MyNetwork/MyNetwork';\r\nimport { Feed } from '../pages/Feed/Feed';\r\n\r\nexport const Routes = [\r\n  <Route exact path=\"/\" component={Welcome} />,\r\n  <Route exact path=\"/signUp\" render={() => <FormLayout formComponent={<SignupForm />} />} />,\r\n  <Route exact path=\"/signIn\" render={() => <FormLayout formComponent={<LoginForm />} />} />,\r\n  <ProtectedRoute path=\"/feed\" component={Feed} />,\r\n  <ProtectedRoute exact path=\"/network\" component={MyNetwork} />,\r\n  <ProtectedRoute exact path=\"/notification\" />,\r\n  <ProtectedRoute path=\"/user/:ownerUid\" component={UserPage} />,\r\n  <DefaultRoute />\r\n];\r\n","import React from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\r\nimport { auth } from '../../firebase';\r\nimport './Welcome.scss';\r\n\r\nexport const Welcome: React.FC = () => {\r\n  const { currentUser } = auth;\r\n\r\n  if (currentUser) {\r\n    return <Redirect to=\"/feed\" />;\r\n  }\r\n\r\n  return (\r\n    <main className=\"welcomePage\">\r\n      <section className=\"hero\">\r\n        <ToastContainer className=\"hero__toastContainer\" />\r\n        <h1 className=\"hero__title\">\r\n          <span>Linked</span>\r\n          <LinkedInIcon className=\"hero__icon\" />\r\n        </h1>\r\n        <h2 className=\"hero__sub-title\">Welcome to your professional community</h2>\r\n        <div className=\"hero__links\">\r\n          <Link className=\"hero__link\" to=\"/signIn\">\r\n            <Button data-testid=\"signIn\" className=\"primary\" variant=\"outlined\" color=\"primary\" size=\"large\">\r\n              Sign in\r\n            </Button>\r\n          </Link>\r\n          <Link className=\"hero__link\" to=\"/signUp\">\r\n            <Button data-testid=\"signUp\" className=\"secondary\" variant=\"contained\" color=\"primary\" size=\"large\">\r\n              Sign up\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n};","import React from 'react';\r\nimport { CreatePost } from '../../components/CreatePost/CreatePost';\r\nimport { FeedList } from '../../components/FeedList/FeedList';\r\nimport { Header } from '../../components/Header/Header';\r\nimport './Feed.scss';\r\n\r\nexport const Feed: React.FC = () => (\r\n  <div className=\"feed\">\r\n    <Header testid=\"feedPageHeader\" />\r\n    <div className=\"feed__createPost\">\r\n      <CreatePost />\r\n    </div>\r\n    <FeedList />\r\n  </div>\r\n);\r\n","import React, { useState } from 'react';\r\nimport classNames from 'classnames';\r\nimport { Button } from '@material-ui/core';\r\nimport { Header } from '../../components/Header/Header';\r\nimport { FollowedUsers } from '../../components/FollowedUsers/FollowedUsers';\r\nimport { RecommendedUsers } from '../../components/RecommendedUsers/RecommendedUsers';\r\nimport './MyNetwork.scss';\r\n\r\nexport const MyNetwork: React.FC = () => {\r\n  const [showRecommendedUsers, setShowRecommendedUsers] = useState(true);\r\n\r\n  return (\r\n    <div className=\"myNetwork\" data-testid=\"myNetworkPage\">\r\n      <Header testid=\"myNetworkPageHeader\" />\r\n      <div className=\"myNetwork__container\">\r\n        <div className=\"myNetwork__buttons\">\r\n          <Button\r\n            size=\"large\"\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            data-testid=\"recommendedUsersButton\"\r\n            onClick={() => setShowRecommendedUsers(true)}\r\n            className={classNames('myNetwork__button', { 'myNetwork__button--active': showRecommendedUsers })}\r\n          >\r\n            Recommended Users\r\n          </Button>\r\n          <Button\r\n            size=\"large\"\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            data-testid=\"followedUsersButton\"\r\n            onClick={() => setShowRecommendedUsers(false)}\r\n            className={classNames('myNetwork__button', { 'myNetwork__button--active': !showRecommendedUsers })}\r\n          >\r\n            Followed Users\r\n          </Button>\r\n        </div>\r\n        {showRecommendedUsers ? (\r\n          <RecommendedUsers testid=\"recommendedUsers\" />\r\n        ) : (\r\n          <FollowedUsers testid=\"followedUsers\" />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport { db } from '../../firebase';\r\nimport { UserDetails } from '../../components/UserDetails/UserDetails';\r\nimport { UserPageFieldForm } from '../../components/UserPageFieldForm/UserPageFieldForm';\r\nimport { UserPageField } from '../../components/UserPageField/UserPageField';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport { useIsUserFollowed } from '../../actions/useIsUserFollowed';\r\nimport { Header } from '../../components/Header/Header';\r\nimport { WithLoader } from '../../components/WithLoader/WithLoader';\r\nimport { UserPageFieldInterface, fields } from '../../shared/interfaces/ProfileFieldInterfaces';\r\nimport './UserPage.scss';\r\n\r\ntype UserPageParams = {\r\n  ownerUid: string;\r\n};\r\n\r\nexport const UserPage: React.FC = () => {\r\n  const [userData, setUserData] = useState<firebase.default.firestore.DocumentData>();\r\n  const [isAddField, setIsAddField] = useState(true);\r\n  const { ownerUid } = useParams<UserPageParams>();\r\n  const loggedInUser = useContext(AuthContext);\r\n  const isUserFollowed = useIsUserFollowed(loggedInUser?.uid, ownerUid);\r\n  const isUserFollowing = useIsUserFollowed(ownerUid, loggedInUser?.uid);\r\n  const [fieldEntries, setFieldEntries] = useState<UserPageFieldInterface<fields[]>>({\r\n    data: [],\r\n    isLoading: true,\r\n    isError: true\r\n  });\r\n  const [getFields, setGetFields] = useState(false);\r\n\r\n  useEffect(() => {\r\n    db.collection('users')\r\n      .doc(ownerUid)\r\n      .get()\r\n      .then(doc => {\r\n        setUserData(doc.data());\r\n        setFieldEntries({ data: doc.data()?.profileFields, isLoading: false, isError: false });\r\n      })\r\n      // eslint-disable-next-line\r\n      .catch(error => console.error(error));\r\n  }, [ownerUid, getFields]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <section className=\"userPage\">\r\n        {userData ? (\r\n          <UserDetails\r\n            bio={userData?.bio}\r\n            ownerUid={ownerUid}\r\n            displayName={userData?.displayName}\r\n            avatar={userData?.avatar}\r\n            isMyUserDetails={loggedInUser?.uid === ownerUid}\r\n            isUserFollowedBy={isUserFollowed}\r\n            isUserFollowing={isUserFollowing}\r\n          />\r\n        ) : null}\r\n        <WithLoader isLoading={fieldEntries.isLoading}>\r\n          <>\r\n            {(fieldEntries.data || []).map((fieldEntry: fields, id: number) => (\r\n              <UserPageField\r\n                // eslint-disable-next-line\r\n                key={id}\r\n                data={fieldEntry}\r\n                isLoading={fieldEntries.isLoading}\r\n                isError={fieldEntries.isError}\r\n              />\r\n            ))}\r\n            {!isAddField && loggedInUser?.uid === ownerUid && (\r\n              <UserPageFieldForm data={getFields} setter={setGetFields} />\r\n            )}\r\n            {loggedInUser?.uid === ownerUid && (\r\n              <span className=\"userPage__ctaButton\">\r\n                <Button\r\n                  type=\"button\"\r\n                  onClick={() => setIsAddField(!isAddField)}\r\n                  variant=\"outlined\"\r\n                  color={!isAddField ? 'secondary' : 'primary'}\r\n                >\r\n                  {!isAddField ? 'Cancel' : 'Add Field'}\r\n                </Button>\r\n              </span>\r\n            )}\r\n          </>\r\n        </WithLoader>\r\n        <ToastContainer />\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { BrowserRouter as Router, Switch } from 'react-router-dom';\r\nimport { Routes } from './routes/Routes';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './styles/Globals.scss';\r\n\r\nconst App: React.FC = () => (\r\n  <Router basename={process.env.PUBLIC_URL}>\r\n    <Switch>{Routes}</Switch>\r\n    <ToastContainer />\r\n  </Router>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { AuthProvider } from './context/AuthProvider';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthProvider>\r\n      <App />\r\n    </AuthProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}