{"version":3,"sources":["firebase.ts","actions/customToast.tsx","shared/components/Logo/Logo.tsx","pages/FormLayout/FormLayout.tsx","actions/signInWithGooglePopup.tsx","assets/images/btn_google_signin_light_normal_web.png","components/WithLoader/WithLoader.tsx","context/AuthProvider.tsx","context/NotificationProvider.tsx","routes/DefaultRoute.tsx","pages/LoginRequired/LoginRequired.tsx","routes/ProtectedRoute.tsx","shared/components/FormField/FormField.tsx","actions/signUpWithCredentails.tsx","components/SignupForm/SignupForm.tsx","components/SignupForm/useSignupFormValidation.tsx","components/SignupForm/useFormFieldsConfig.tsx","actions/signInWithCredentials.tsx","components/LoginForm/LoginForm.tsx","components/LoginForm/useLoginFormValidation.tsx","components/LoginForm/useFormLoginFieldsConfig.tsx","assets/images/avatar_placeholder.png","components/WithError/WithError.tsx","actions/useGetUserData.tsx","actions/editProfile.tsx","actions/updateAvatar.tsx","components/EditProfileForm/EditProfileForm.tsx","components/EditProfile/EditProfile.tsx","actions/followAction.tsx","components/UserDetails/UserDetails.tsx","actions/updateProfileFields.tsx","components/UserPageFieldForm/UserPageFieldForm.tsx","components/UserPageField/UserPageField.tsx","actions/useIsUserFollowed.tsx","components/SearchHint/SearchHint.tsx","components/Search/Search.tsx","components/Notification/Notification.tsx","pages/Notifications/Notifications.tsx","components/DropdownsContent/HeaderDropdown.tsx","actions/signOut.tsx","constants/Navigation.ts","components/Dropdown/Dropdown.tsx","components/NavigationIcon/NavigationIcon.tsx","components/Navigation/Navigation.tsx","constants/UserHints.ts","components/Header/Header.tsx","actions/useGetUserFollows.tsx","actions/useGetUsers.tsx","components/UserCard/UserCard.tsx","components/FollowedUsers/FollowedUsers.tsx","components/RecommendedUsers/RecommendedUsers.tsx","constants/Posts.ts","components/CreatePost/CreatePost.tsx","actions/setPost.tsx","components/FeedPost/FeedPost.tsx","actions/useIsContentOverflowing.tsx","components/FeedList/FeedList.tsx","actions/useGetPosts.tsx","actions/postsFilter.tsx","routes/Routes.tsx","pages/Welcome/Welcome.tsx","pages/Feed/Feed.tsx","pages/MyNetwork/MyNetwork.tsx","pages/UserPage/UserPage.tsx","App.tsx","pages/ErrorFallback/ErrorFallback.tsx","components/GlobalErrorBoundary/GlobalErrorBoundary.tsx","index.tsx"],"names":["firebaseApp","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","provider","GoogleAuthProvider","storage","defaultOptions","autoClose","position","pauseOnFocusLoss","pauseOnHover","customToast","type","text","hideProgressBar","toast","info","success","error","Logo","variant","className","FormLayout","formComponent","history","useHistory","currentUser","to","window","screen","width","onClick","signInWithPopup","then","push","signInWithGooglePopup","src","alt","WithLoader","isLoading","children","testid","CircularProgress","AuthContext","createContext","undefined","AuthProvider","useState","setCurrentUser","pending","setPending","useEffect","onAuthStateChanged","user","Provider","value","NotificationContext","data","unsubscriber","Error","NotificationsProvider","changes","setChanges","useContext","uid","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","DefaultRoute","path","render","LoginRequired","ProtectedRoute","exact","component","defaultProps","FormField","label","name","isError","errorText","onChange","TextField","helperText","inputProps","signUpWithCredentails","a","email","password","setError","createUserWithEmailAndPassword","updateProfile","displayName","set","id","bio","message","SignupForm","repeatPassword","formData","setFormData","isErrorMessageVisible","setIsErrorMessageVisible","setIsLoading","signUpFormData","initialErrorData","validateForm","trim","length","useSignupFormValidation","formFieldsConfig","useMemo","errorMessageVisible","useFormFieldsConfig","handleChange","event","target","handleSubmit","preventDefault","onSubmit","map","Button","color","disabled","signInWithCredentials","signInWithEmailAndPassword","catch","LoginForm","LoginFormData","useLoginFormValidation","useFormLoginFieldsConfig","WithError","errorMessage","useGetUserData","userUid","userData","avatar","state","setState","getUserData","get","editProfile","newData","update","updateAvatar","file","url","ref","put","getDownloadURL","avatarUrl","photoURL","console","log","EditProfileForm","initialFormData","shouldDataChange","setShouldDataChange","isNicknameNotValid","isBioNotValid","files","rows","multiline","dropzoneText","dropzoneParagraphClass","acceptedFiles","filesLimit","showAlerts","onDrop","Modal","setAppElement","EditProfile","isOpen","setIsModalOpen","closeModal","onRequestClose","overlayClassName","followAction","receiverUid","action","currentUserUid","userRef","receiverRef","timestamp","FieldValue","serverTimestamp","seen","delete","UserDetails","ownerUid","isMyUserDetails","isUserFollowedBy","isUserFollowing","isFollowing","setIsFollowing","isEditModalOpen","setIsEditModalOpen","AvatarPlaceholder","height","handleClick","followButtonHandler","fontSize","updateProfileFields","profileField","profileFields","arrayUnion","UserPageFieldForm","setter","fieldsData","setFieldsData","fieldInputs","setFieldInputs","formTitle","setFormTitle","titleError","setTitleError","fieldError","setFieldError","addField","field","checkKeyDown","code","Object","entries","every","content","fromEntries","filter","title","onKeyDown","e","placeholder","style","maxLength","role","UserPageField","fieldEntry","useIsUserFollowed","currentUserId","pageUserId","setValue","getFollows","follows","exists","SearchHint","Search","getHints","setIsSearchOpen","isSearchOpen","searchInput","setSearchInput","searchHints","setSearchHints","container","useRef","document","addEventListener","handleOutsideClick","current","contains","removeEventListener","classNames","hint","Notification","userId","followerId","followingSince","moment","unix","seconds","fromNow","Avatar","Notifications","notifications","HeaderDropdown","signOut","navigationItems","icon","HomeIcon","SupervisorAccountIcon","NotificationsIcon","badge","Dropdown","DropdownOpener","isDropdownOpen","setIsDropdownOpen","dropdown","tabIndex","React","createElement","NavigationIcon","Icon","badgeContent","location","useLocation","pathname","Badge","Navigation","amount","setAmount","userHints","startsWith","slice","Header","useGetUserFollows","userFollows","getUserFollows","followedIds","followed","useGetUsers","users","getUsers","UserCard","isFollowed","setIsFollowed","Grow","in","timeout","FollowedUsers","isFollowsLoading","isFollowsError","followedUsers","setFollowedUsers","includes","RecommendedUsers","recommendedUsers","setRecommendedUsers","sort","Math","random","IconButton","Posts","CreatePost","postText","setPostText","isNicknameValid","add","setPost","size","FeedPost","seeMore","setSeeMore","isContentOverflowing","setIsContentOverflowing","handleResize","offsetHeight","scrollHeight","useIsContentOverflowing","timePassed","FeedList","posts","setPosts","initialAmount","index","setIndex","hasMore","setHasMore","allPosts","getPosts","post","useGetPosts","isPostsLoading","isPostsError","userPosts","postsFilter","dataLength","next","setTimeout","newAmount","loader","endMessage","Routes","showRecommendedUsers","setShowRecommendedUsers","setUserData","isAddField","setIsAddField","useParams","loggedInUser","isUserFollowed","fieldEntries","setFieldEntries","getFields","setGetFields","App","basename","ErrorFallback","reload","GlobalErrorBoundary","hasError","errorInfo","this","props","Component","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2bdfa113.chunk.js","sourcesContent":["import firebase from 'firebase';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n};\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebaseApp.auth();\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\nconst storage = firebase.storage();\r\n\r\nexport { auth, provider, db, storage };\r\n","import { ReactText } from 'react';\r\nimport { toast, ToastOptions } from 'react-toastify';\r\n\r\ntype type = 'default' | 'info' | 'success' | 'error';\r\n\r\nconst defaultOptions: ToastOptions = {\r\n  autoClose: 2500,\r\n  position: 'bottom-right',\r\n  pauseOnFocusLoss: false,\r\n  pauseOnHover: false\r\n};\r\n\r\nexport const customToast = (type: type, text: string, hideProgressBar = true): ReactText => {\r\n  switch (type) {\r\n    case 'default':\r\n      return toast(text, { ...defaultOptions, hideProgressBar });\r\n    case 'info':\r\n      return toast.info(text, { ...defaultOptions, hideProgressBar });\r\n    case 'success':\r\n      return toast.success(text, { ...defaultOptions, hideProgressBar });\r\n    case 'error':\r\n      return toast.error(text, { ...defaultOptions, hideProgressBar });\r\n    default:\r\n      return toast(text, { ...defaultOptions, hideProgressBar });\r\n  }\r\n};\r\n","import React from 'react';\r\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\r\nimport './Logo.scss';\r\n\r\nexport interface LogoProps {\r\n  variant: 'small' | 'medium' | 'big';\r\n}\r\n\r\nexport const Logo: React.FC<LogoProps> = ({ variant }: LogoProps) => (\r\n  <p className={`logo logo--${variant}`}>\r\n    <span className=\"logo__text\">Linked</span>\r\n    <LinkedInIcon className=\"logo__icon\" />\r\n  </p>\r\n);\r\n","import React, { ReactNode } from 'react';\r\nimport { useHistory, Redirect } from 'react-router-dom';\r\nimport { signInWithGooglePopup } from '../../actions/signInWithGooglePopup';\r\nimport { Logo } from '../../shared/components/Logo/Logo';\r\nimport GoogleButtonImage from '../../assets/images/btn_google_signin_light_normal_web.png';\r\nimport { auth } from '../../firebase';\r\nimport './FormLayout.scss';\r\nimport '../../styles/FormStyles.scss';\r\n\r\ninterface FormLayoutProps {\r\n  formComponent: ReactNode;\r\n}\r\n\r\nexport const FormLayout: React.FC<FormLayoutProps> = ({ formComponent }: FormLayoutProps) => {\r\n  const history = useHistory();\r\n  const { currentUser } = auth;\r\n\r\n  if (currentUser) {\r\n    return <Redirect to=\"/feed\" />;\r\n  }\r\n\r\n  return (\r\n    <main className=\"formLayout__container\">\r\n      <Logo variant={window.screen.width < 281 ? 'small' : 'medium'} />\r\n      {formComponent}\r\n      <button\r\n        className=\"formLayout__signInGoogleButton\"\r\n        type=\"button\"\r\n        aria-label=\"Sign in with Google\"\r\n        onClick={() => signInWithGooglePopup({ history })}\r\n      >\r\n        <img src={GoogleButtonImage} alt=\"Sign in with google\" />\r\n      </button>\r\n    </main>\r\n  );\r\n};\r\n","import { History, LocationState } from 'history';\r\nimport { auth, provider } from '../firebase';\r\nimport { customToast } from './customToast';\r\n\r\ninterface SignInWithGoogle {\r\n  history: History<LocationState>;\r\n}\r\n\r\nexport const signInWithGooglePopup = ({ history }: SignInWithGoogle): void => {\r\n  auth.signInWithPopup(provider).then(() => {\r\n    history.push('/feed');\r\n    customToast('success', 'Successfully Sign In with Google');\r\n  });\r\n};\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { CircularProgress } from '@material-ui/core';\r\n\r\ninterface LoaderProps {\r\n  isLoading: boolean;\r\n  children?: React.ReactElement;\r\n  className?: string;\r\n  testid?: string;\r\n}\r\n\r\nexport const WithLoader: React.FC<LoaderProps> = ({ isLoading, children, className, testid }) => {\r\n  if (isLoading) {\r\n    return (\r\n      <div className={className} data-testid={testid}>\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!children) {\r\n    return null;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nWithLoader.propTypes = {\r\n  isLoading: PropTypes.bool.isRequired,\r\n  children: PropTypes.element.isRequired,\r\n  className: PropTypes.string,\r\n  testid: PropTypes.string\r\n};\r\n","import React, { useState, useEffect, createContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { WithLoader } from '../components/WithLoader/WithLoader';\r\nimport { auth } from '../firebase';\r\nimport '../styles/GlobalLoader.scss';\r\n\r\ninterface AuthProviderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const AuthContext = createContext<firebase.default.User | undefined | null>(undefined);\r\n\r\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState<firebase.default.User | null>(null);\r\n  const [pending, setPending] = useState(true);\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user);\r\n      setPending(false);\r\n    });\r\n  }, []);\r\n\r\n  if (pending) {\r\n    return <WithLoader isLoading className=\"globalLoader\" />;\r\n  }\r\n\r\n  return <AuthContext.Provider value={currentUser}>{children}</AuthContext.Provider>;\r\n};\r\n\r\nAuthProvider.propTypes = {\r\n  children: PropTypes.element.isRequired\r\n};\r\n","import React, { createContext, useEffect, useState, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { db } from '../firebase';\r\nimport { AuthContext } from './AuthProvider';\r\n\r\nexport type NotificationsStateType = {\r\n  data: firebase.default.firestore.DocumentData[];\r\n  unsubscriber: () => unknown;\r\n};\r\n\r\ninterface INotifications {\r\n  children: JSX.Element | JSX.Element[];\r\n}\r\n\r\nexport const NotificationContext = createContext<NotificationsStateType | undefined>({\r\n  data: [],\r\n  unsubscriber: () => {\r\n    throw new Error('unsubscriber must be overriden');\r\n  }\r\n});\r\n\r\nexport const NotificationsProvider: React.FC<INotifications> = ({ children }) => {\r\n  const [changes, setChanges] = useState<NotificationsStateType>({\r\n    data: [],\r\n    unsubscriber: () => {\r\n      throw new Error('unsubscriber must be overriden');\r\n    }\r\n  });\r\n  const user = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    if (user && user.uid) {\r\n      const unsubscribe = db\r\n        .collection('users')\r\n        .doc(user.uid)\r\n        .collection('followers')\r\n        .orderBy('timestamp', 'desc')\r\n        .onSnapshot(snapshot => {\r\n          setChanges({ data: snapshot.docs, unsubscriber: unsubscribe });\r\n        });\r\n    }\r\n  }, [user]);\r\n\r\n  return <NotificationContext.Provider value={changes}>{children}</NotificationContext.Provider>;\r\n};\r\n\r\nNotificationsProvider.propTypes = {\r\n  children: PropTypes.element.isRequired\r\n};\r\n","import React, { useContext } from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { AuthContext } from '../context/AuthProvider';\r\n\r\nexport const DefaultRoute: React.FC = () => {\r\n  const user = useContext(AuthContext);\r\n\r\n  return (\r\n    <Route\r\n      path=\"/\"\r\n      render={() => {\r\n        if (user === undefined) {\r\n          return <CircularProgress />;\r\n        }\r\n\r\n        if (user) {\r\n          return <Redirect to=\"/feed\" />;\r\n        }\r\n\r\n        return <Redirect to=\"/\" />;\r\n      }}\r\n    />\r\n  );\r\n};\r\n","import React from 'react';\r\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied';\r\nimport { Link } from 'react-router-dom';\r\nimport './LoginRequired.scss';\r\n\r\nexport const LoginRequired: React.FC = () => (\r\n  <article className=\"loginRequired\">\r\n    <h1 className=\"loginRequired__title\">To visit this page you need to login first!</h1>\r\n    <SentimentVeryDissatisfiedIcon className=\"loginRequired__icon\" />\r\n    <div className=\"loginRequired__wrapper\">\r\n      <p className=\"loginRequired__hint\">Already have an account?</p>\r\n      <Link to=\"/signin\" className=\"loginRequired__link\">\r\n        Sign in!\r\n      </Link>\r\n    </div>\r\n    <div className=\"loginRequired__wrapper\">\r\n      <p className=\"loginRequired__hint\">Don&apos;t have an account?</p>\r\n      <Link to=\"/signup\" className=\"loginRequired__link\">\r\n        Sign up!\r\n      </Link>\r\n    </div>\r\n  </article>\r\n);\r\n","import React, { useContext } from 'react';\r\nimport { Route, RouteProps } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { AuthContext } from '../context/AuthProvider';\r\nimport { LoginRequired } from '../pages/LoginRequired/LoginRequired';\r\n\r\nexport const ProtectedRoute: React.FC<RouteProps> = ({ exact, path, component }) => {\r\n  const user = useContext(AuthContext);\r\n\r\n  if (user) {\r\n    return <Route exact={exact} path={path} component={component} />;\r\n  }\r\n  return <LoginRequired />;\r\n};\r\n\r\nProtectedRoute.defaultProps = {\r\n  exact: true,\r\n  component: undefined\r\n};\r\n\r\nProtectedRoute.propTypes = {\r\n  exact: PropTypes.bool,\r\n  path: PropTypes.string.isRequired,\r\n  component: PropTypes.func\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { TextField } from '@material-ui/core';\r\nimport { FormFieldConfigInterface } from '../../interfaces/FormInterfaces';\r\n\r\nexport type FormFieldInterface = FormFieldConfigInterface & {\r\n  className?: string;\r\n  onClick: (event: React.MouseEvent<HTMLDivElement>) => void;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n};\r\n\r\nexport const FormField: React.FC<FormFieldInterface> = ({\r\n  label,\r\n  type,\r\n  name,\r\n  isError,\r\n  errorText,\r\n  value,\r\n  className,\r\n  onClick,\r\n  onChange\r\n}: FormFieldInterface) => (\r\n  <TextField\r\n    variant=\"standard\"\r\n    label={label}\r\n    type={type}\r\n    name={name}\r\n    error={isError}\r\n    helperText={errorText}\r\n    value={value}\r\n    className={className}\r\n    onClick={onClick}\r\n    onChange={onChange}\r\n    inputProps={{\r\n      'data-testid': name\r\n    }}\r\n  />\r\n);\r\n\r\nFormField.defaultProps = {\r\n  className: ''\r\n};\r\n\r\nFormField.propTypes = {\r\n  label: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  isError: PropTypes.bool.isRequired,\r\n  errorText: PropTypes.string.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n  onClick: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired\r\n};\r\n","import { History, LocationState } from 'history';\r\nimport { auth, db } from '../firebase';\r\nimport { ErrorInterface, SignupCredentials } from '../shared/interfaces/FormInterfaces';\r\nimport { customToast } from './customToast';\r\n\r\ntype SignUpWithCredentailsInterface = SignupCredentials & {\r\n  history: History<LocationState>;\r\n  setError: React.Dispatch<React.SetStateAction<ErrorInterface>>;\r\n};\r\n\r\nexport const signUpWithCredentails = async ({\r\n  email,\r\n  password,\r\n  name,\r\n  history,\r\n  setError\r\n}: SignUpWithCredentailsInterface): Promise<void> => {\r\n  try {\r\n    await auth.createUserWithEmailAndPassword(email, password);\r\n    await auth.currentUser?.updateProfile({\r\n      displayName: name\r\n    });\r\n    await db.collection('users').doc(auth.currentUser?.uid).set({\r\n      displayName: name,\r\n      id: auth.currentUser?.uid,\r\n      bio: ''\r\n    });\r\n    history.push('/feed');\r\n    customToast('success', 'Successfully Sign Up');\r\n  } catch (err) {\r\n    setError({\r\n      isError: true,\r\n      errorText: err.message\r\n    });\r\n  }\r\n};\r\n","import React, { useState, useMemo } from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { SignUpCredentialsInterface, ErrorMessageSignupVisibleInterface } from '../../shared/interfaces/FormInterfaces';\r\nimport { useSignupFormValidation } from './useSignupFormValidation';\r\nimport { useFormFieldsConfig } from './useFormFieldsConfig';\r\nimport { FormField } from '../../shared/components/FormField/FormField';\r\nimport { signUpWithCredentails } from '../../actions/signUpWithCredentails';\r\n\r\nexport const SignupForm: React.FC = () => {\r\n  const history = useHistory();\r\n  const [formData, setFormData] = useState<SignUpCredentialsInterface>({\r\n    name: '',\r\n    password: '',\r\n    repeatPassword: '',\r\n    email: ''\r\n  });\r\n  const [isErrorMessageVisible, setIsErrorMessageVisible] = useState<ErrorMessageSignupVisibleInterface>({\r\n    name: false,\r\n    email: false,\r\n    password: false,\r\n    repeatPassword: false\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { error, setError, validateForm } = useSignupFormValidation(formData);\r\n  const formFieldsConfig = useMemo(\r\n    () => useFormFieldsConfig(formData, isErrorMessageVisible),\r\n    [formData, isErrorMessageVisible]\r\n  );\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (event: React.ChangeEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    if (validateForm()) {\r\n      const { email, password, name } = formData;\r\n      await signUpWithCredentails({ email, password, name, history, setError });\r\n    }\r\n\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"formLayout__form\">\r\n      <h1 className=\"formLayout__text\">Sign up</h1>\r\n      <form className=\"form__container\" data-testid=\"signupForm\" onSubmit={handleSubmit}>\r\n        {formFieldsConfig.map(({ label, type, name, isError, errorText, value }) => (\r\n          <FormField\r\n            key={name}\r\n            label={label}\r\n            type={type}\r\n            name={name}\r\n            isError={isError}\r\n            errorText={errorText}\r\n            value={value}\r\n            className=\"form__input\"\r\n            // eslint-disable-next-line\r\n            onClick={(event: React.MouseEvent<HTMLDivElement>) =>\r\n              setIsErrorMessageVisible({ ...isErrorMessageVisible, [name]: true })\r\n            }\r\n            onChange={handleChange}\r\n          />\r\n        ))}\r\n        {error.isError && <p className=\"form__error\">{error.errorText}</p>}\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className=\"form__submit\"\r\n          type=\"submit\"\r\n          disabled={isLoading}\r\n          datatest-id=\"signup_button\"\r\n        >\r\n          Register\r\n        </Button>\r\n      </form>\r\n      <p className=\"hint\">\r\n        Already have an account?{' '}\r\n        <Link className=\"cta__button\" to=\"/signIn\">\r\n          Sign in!\r\n        </Link>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n","import { useState } from 'react';\r\nimport { SignUpCredentialsInterface, ErrorInterface } from '../../shared/interfaces/FormInterfaces';\r\nimport { ValidationInterface } from '../../shared/interfaces/ValidationInterfaces';\r\n\r\nexport const useSignupFormValidation = (signUpFormData: SignUpCredentialsInterface): ValidationInterface => {\r\n  const initialErrorData: ErrorInterface = {\r\n    isError: false,\r\n    errorText: ''\r\n  };\r\n  const [error, setError] = useState(initialErrorData);\r\n\r\n  const validateForm = (): boolean => {\r\n    const { name, email, password, repeatPassword } = signUpFormData;\r\n\r\n    const isAnyEmpty = () => {\r\n      if (name.trim() === '' || email.trim() === '' || password.trim() === '' || repeatPassword.trim() === '') {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    const isNicknameNotValid = () => {\r\n      if (name.length < 3 || name.length > 30) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    const isPasswordNotValid = () => {\r\n      if (password.length < 8) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    const isPasswordNotMatch = () => {\r\n      if (password !== repeatPassword) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    if (isAnyEmpty()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: \"Fields can't be empty\"\r\n      });\r\n      return false;\r\n    }\r\n\r\n    if (isNicknameNotValid()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: 'Nickname must be longer than 3 characters and shorter than 30 characters'\r\n      });\r\n      return false;\r\n    }\r\n\r\n    if (isPasswordNotValid()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: 'Password must be at least 8 characters'\r\n      });\r\n      return false;\r\n    }\r\n\r\n    if (isPasswordNotMatch()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: 'Passwords must match'\r\n      });\r\n      return false;\r\n    }\r\n\r\n    setError(initialErrorData);\r\n    return true;\r\n  };\r\n\r\n  return {\r\n    error,\r\n    setError,\r\n    validateForm\r\n  };\r\n};\r\n","import {\r\n  SignUpCredentialsInterface,\r\n  FormFieldConfigInterface,\r\n  ErrorMessageSignupVisibleInterface\r\n} from '../../shared/interfaces/FormInterfaces';\r\n\r\nexport const useFormFieldsConfig = (\r\n  formData: SignUpCredentialsInterface,\r\n  errorMessageVisible: ErrorMessageSignupVisibleInterface\r\n): FormFieldConfigInterface[] => [\r\n  {\r\n    label: 'Email',\r\n    type: 'email',\r\n    name: 'email',\r\n    isError: formData.email === '' && errorMessageVisible.email,\r\n    errorText: formData.email === '' && errorMessageVisible.email ? \"Email can't be empty\" : ' ',\r\n    value: formData.email\r\n  },\r\n  {\r\n    label: 'Password',\r\n    type: 'password',\r\n    name: 'password',\r\n    isError: formData.password === '' && errorMessageVisible.password,\r\n    errorText: formData.password === '' && errorMessageVisible.password ? \"Password can't be empty\" : ' ',\r\n    value: formData.password\r\n  },\r\n  {\r\n    label: 'Repeat password',\r\n    type: 'password',\r\n    name: 'repeatPassword',\r\n    isError: formData.repeatPassword === '' && errorMessageVisible.repeatPassword,\r\n    errorText:\r\n      formData.repeatPassword === '' && errorMessageVisible.repeatPassword ? \"Repeat Password can't be empty\" : ' ',\r\n    value: formData.repeatPassword\r\n  },\r\n  {\r\n    label: 'Nickname',\r\n    type: 'text',\r\n    name: 'name',\r\n    isError: formData.name === '' && errorMessageVisible.name,\r\n    errorText: formData.name === '' && errorMessageVisible.name ? \"Nickname can't be empty\" : ' ',\r\n    value: formData.name\r\n  }\r\n];\r\n","import { History, LocationState } from 'history';\r\nimport { auth } from '../firebase';\r\nimport { ErrorInterface } from '../shared/interfaces/FormInterfaces';\r\nimport { customToast } from './customToast';\r\n\r\ninterface signInWithCredentials {\r\n  email: string;\r\n  password: string;\r\n  setError: React.Dispatch<React.SetStateAction<ErrorInterface>>;\r\n  history: History<LocationState>;\r\n}\r\n\r\n// eslint-disable-next-line\r\nexport const signInWithCredentials = ({ email, password, setError, history }: signInWithCredentials): Promise<void> =>\r\n  auth\r\n    .signInWithEmailAndPassword(email, password)\r\n    .then(() => {\r\n      history.push('/feed');\r\n      customToast('success', 'Successfully Sign In');\r\n    })\r\n    .catch(error => {\r\n      setError({\r\n        isError: true,\r\n        errorText: error.message\r\n      });\r\n    });\r\n","import React, { useState, useMemo } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport { LoginCredentialsInterface, ErrorMessageLoginVisibleInterface } from '../../shared/interfaces/FormInterfaces';\r\nimport { useLoginFormValidation } from './useLoginFormValidation';\r\nimport { useFormLoginFieldsConfig } from './useFormLoginFieldsConfig';\r\nimport { FormField } from '../../shared/components/FormField/FormField';\r\nimport { signInWithCredentials } from '../../actions/signInWithCredentials';\r\n\r\nexport const LoginForm: React.FC = () => {\r\n  const history = useHistory();\r\n  const [formData, setFormData] = useState<LoginCredentialsInterface>({\r\n    password: '',\r\n    email: ''\r\n  });\r\n  const [isErrorMessageVisible, setIsErrorMessageVisible] = useState<ErrorMessageLoginVisibleInterface>({\r\n    email: false,\r\n    password: false\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { error, setError, validateForm } = useLoginFormValidation(formData);\r\n  const formFieldsConfig = useMemo(\r\n    () => useFormLoginFieldsConfig(formData, isErrorMessageVisible),\r\n    [formData, isErrorMessageVisible]\r\n  );\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (event: React.ChangeEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    if (validateForm()) {\r\n      const { email, password } = formData;\r\n      await signInWithCredentials({ email, password, setError, history });\r\n    }\r\n\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"formLayout__form\">\r\n      <h1 className=\"formLayout__text\">Sign in</h1>\r\n      <form className=\"form__container\" onSubmit={handleSubmit}>\r\n        {formFieldsConfig.map(({ label, type, name, isError, errorText, value }) => (\r\n          <FormField\r\n            key={name}\r\n            label={label}\r\n            type={type}\r\n            name={name}\r\n            isError={isError}\r\n            errorText={errorText}\r\n            className=\"form__input\"\r\n            // eslint-disable-next-line\r\n            onClick={(event: React.MouseEvent<HTMLDivElement>) => {\r\n              setIsErrorMessageVisible({ ...isErrorMessageVisible, [name]: true });\r\n            }}\r\n            value={value}\r\n            onChange={handleChange}\r\n          />\r\n        ))}\r\n        {error.isError && <p className=\"form__error\">{error.errorText}</p>}\r\n        <Button\r\n          data-testid=\"signin_button\"\r\n          className=\"form__submit\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          disabled={isLoading}\r\n          type=\"submit\"\r\n        >\r\n          Sign in\r\n        </Button>\r\n      </form>\r\n      <p className=\"hint\">\r\n        Don&apos;t have an account?\r\n        <Link to=\"/signUp\" className=\"cta__button\">\r\n          Sign up!\r\n        </Link>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n","import { useState } from 'react';\r\nimport { LoginCredentialsInterface, ErrorInterface } from '../../shared/interfaces/FormInterfaces';\r\nimport { ValidationInterface } from '../../shared/interfaces/ValidationInterfaces';\r\n\r\nexport const useLoginFormValidation = (LoginFormData: LoginCredentialsInterface): ValidationInterface => {\r\n  const initialErrorData: ErrorInterface = {\r\n    isError: false,\r\n    errorText: ''\r\n  };\r\n  const [error, setError] = useState(initialErrorData);\r\n\r\n  const validateForm = (): boolean => {\r\n    const { email, password } = LoginFormData;\r\n\r\n    const isAnyEmpty = () => email.trim() === '' || password.trim() === '';\r\n\r\n    if (isAnyEmpty()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: \"Fields can't be empty\"\r\n      });\r\n      return false;\r\n    }\r\n\r\n    setError(initialErrorData);\r\n    return true;\r\n  };\r\n\r\n  return {\r\n    error,\r\n    setError,\r\n    validateForm\r\n  };\r\n};\r\n","import {\r\n  ErrorMessageLoginVisibleInterface,\r\n  LoginCredentialsInterface,\r\n  FormFieldConfigInterface\r\n} from '../../shared/interfaces/FormInterfaces';\r\n\r\nexport const useFormLoginFieldsConfig = (\r\n  formData: LoginCredentialsInterface,\r\n  errorMessageVisible: ErrorMessageLoginVisibleInterface\r\n): FormFieldConfigInterface[] => [\r\n  {\r\n    label: 'E-mail',\r\n    type: 'email',\r\n    name: 'email',\r\n    isError: formData.email === '' && errorMessageVisible.email,\r\n    errorText: formData.email === '' && errorMessageVisible.email ? \"Email can't be empty\" : ' ',\r\n    value: formData.email\r\n  },\r\n  {\r\n    label: 'Password',\r\n    type: 'password',\r\n    name: 'password',\r\n    isError: formData.password === '' && errorMessageVisible.password,\r\n    errorText: formData.password === '' && errorMessageVisible.password ? \"Password can't be empty\" : ' ',\r\n    value: formData.password\r\n  }\r\n];\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\ninterface ErrorProps {\r\n  isError: boolean;\r\n  errorMessage: string;\r\n  children?: React.ReactElement;\r\n  className?: string;\r\n  testid?: string;\r\n}\r\n\r\nexport const WithError: React.FC<ErrorProps> = ({ isError, errorMessage, children, className, testid }) => {\r\n  if (isError) {\r\n    return (\r\n      <p className={className} data-testid={testid}>\r\n        {errorMessage}\r\n      </p>\r\n    );\r\n  }\r\n\r\n  if (!children) {\r\n    return null;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nWithError.propTypes = {\r\n  isError: PropTypes.bool.isRequired,\r\n  errorMessage: PropTypes.string.isRequired,\r\n  children: PropTypes.element,\r\n  className: PropTypes.string,\r\n  testid: PropTypes.string\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { User } from '../shared/interfaces/UserInterfaces';\r\nimport { db } from '../firebase';\r\n\r\ninterface GetUserData {\r\n  userData: User;\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n}\r\n\r\nexport const useGetUserData = (userUid: string): GetUserData => {\r\n  const [state, setState] = useState<GetUserData>({\r\n    userData: {\r\n      displayName: '',\r\n      bio: '',\r\n      avatar: '',\r\n      id: ''\r\n    },\r\n    isLoading: true,\r\n    isError: false\r\n  });\r\n\r\n  const getUserData = async () => {\r\n    try {\r\n      const userData = (await db.collection('users').doc(userUid).get()).data();\r\n      setState({ ...state, isLoading: false, userData: userData as User });\r\n    } catch (error) {\r\n      setState({ ...state, isError: true, isLoading: false });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUserData();\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n","import { auth, db } from '../firebase';\r\nimport { User } from '../shared/interfaces/UserInterfaces';\r\nimport { customToast } from './customToast';\r\n\r\nexport const editProfile = async (userUid: string, newData: User): Promise<void> => {\r\n  try {\r\n    await auth.currentUser?.updateProfile(newData);\r\n    await db\r\n      .collection('users')\r\n      .doc(userUid)\r\n      .update(newData)\r\n      .then(() => customToast('success', 'Profil successfully edited'));\r\n  } catch (error) {\r\n    // eslint-disable-next-line\r\n    customToast('error', 'There was a problem with Editing Your Profile');\r\n  }\r\n};\r\n","import { auth, db, storage } from '../firebase';\r\n\r\nexport const updateAvatar = async (userUid: string, file: File): Promise<void> => {\r\n  try {\r\n    const url = `users/${userUid}/profile.jpg`;\r\n    await storage.ref(url).put(file);\r\n    const avatarUrl = await storage.ref(url).getDownloadURL();\r\n    await db.collection('users').doc(userUid).update({\r\n      avatar: avatarUrl\r\n    });\r\n    await auth.currentUser?.updateProfile({\r\n      photoURL: avatarUrl\r\n    });\r\n  } catch (error) {\r\n    // eslint-disable-next-line\r\n    console.log(error);\r\n  }\r\n};\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { DropzoneArea } from 'material-ui-dropzone';\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport { useGetUserData } from '../../actions/useGetUserData';\r\nimport { editProfile } from '../../actions/editProfile';\r\nimport { updateAvatar } from '../../actions/updateAvatar';\r\nimport { User } from '../../shared/interfaces/UserInterfaces';\r\nimport './EditProfileForm.scss';\r\n\r\nexport const EditProfileForm: React.FC = () => {\r\n  const MIN_NICKNAME_CHARACTERS = 3;\r\n  const MAX_NICKNAME_CHARACTERS = 30;\r\n  const MAX_BIO_CHARACTERS = 300;\r\n  const initialFormData = {\r\n    displayName: '',\r\n    bio: ''\r\n  };\r\n  const currentUser = useContext(AuthContext);\r\n  const [shouldDataChange, setShouldDataChange] = useState(false);\r\n  const [formData, setFormData] = useState(initialFormData);\r\n\r\n  const { userData, isLoading, isError } = useGetUserData(currentUser?.uid as string);\r\n\r\n  useEffect(() => {\r\n    setFormData(userData);\r\n    return () => setFormData(initialFormData);\r\n  }, [userData]);\r\n\r\n  const isNicknameNotValid =\r\n    formData.displayName.trim() === '' ||\r\n    formData.displayName.length < MIN_NICKNAME_CHARACTERS ||\r\n    formData.displayName.length > MAX_NICKNAME_CHARACTERS;\r\n  const isBioNotValid = formData.bio.length >= MAX_BIO_CHARACTERS;\r\n\r\n  const validateForm = (): boolean => !isNicknameNotValid && !isBioNotValid;\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n    setFormData({ ...formData, [name]: value });\r\n    setShouldDataChange(true);\r\n  };\r\n\r\n  const handleSubmit = (event: React.ChangeEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    if (validateForm()) {\r\n      if (event.target.avatar.files[0]) {\r\n        updateAvatar(currentUser?.uid as string, event.target.avatar.files[0]);\r\n      }\r\n      editProfile(currentUser?.uid as string, formData as User);\r\n      setShouldDataChange(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <WithLoader isLoading={isLoading}>\r\n      <WithError isError={isError} errorMessage=\"Something went wrong please try again...\">\r\n        <form className=\"editForm\" onSubmit={handleSubmit}>\r\n          <TextField\r\n            className=\"editForm__field\"\r\n            variant=\"outlined\"\r\n            label=\"Enter new name\"\r\n            type=\"text\"\r\n            name=\"displayName\"\r\n            id=\"displayName\"\r\n            error={isNicknameNotValid}\r\n            helperText={\r\n              isNicknameNotValid ? 'Nickname must be longer than 3 characters and shorter than 30 characters' : ''\r\n            }\r\n            value={formData.displayName}\r\n            onChange={handleChange}\r\n            data-testid=\"displayName\"\r\n          />\r\n          <TextField\r\n            className=\"editForm__field\"\r\n            variant=\"outlined\"\r\n            label=\"Enter new Bio\"\r\n            type=\"text\"\r\n            name=\"bio\"\r\n            id=\"bio\"\r\n            error={isBioNotValid}\r\n            helperText={isBioNotValid ? 'Bio must be shorter than 300 characters' : ''}\r\n            value={formData.bio}\r\n            onChange={handleChange}\r\n            rows={2}\r\n            multiline\r\n            data-testid=\"bio\"\r\n          />\r\n          <DropzoneArea\r\n            dropzoneText=\"Enter new avatar\"\r\n            dropzoneParagraphClass=\"dropzone__text\"\r\n            acceptedFiles={['image/*']}\r\n            filesLimit={1}\r\n            showAlerts={false}\r\n            onDrop={() => setShouldDataChange(true)}\r\n            inputProps={{\r\n              id: 'avatar',\r\n              name: 'avatar'\r\n            }}\r\n          />\r\n          <Button variant=\"contained\" color=\"primary\" type=\"submit\" disabled={!shouldDataChange}>\r\n            Edit\r\n          </Button>\r\n        </form>\r\n      </WithError>\r\n    </WithLoader>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Modal from 'react-modal';\r\nimport { Button } from '@material-ui/core';\r\nimport { EditProfileForm } from '../EditProfileForm/EditProfileForm';\r\nimport './EditProfile.scss';\r\n\r\nModal.setAppElement('#root');\r\n\r\ninterface EditProfileProps {\r\n  isOpen: boolean;\r\n  setIsModalOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport const EditProfile: React.FC<EditProfileProps> = ({ isOpen, setIsModalOpen }) => {\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"modal\"\r\n      isOpen={isOpen}\r\n      onRequestClose={closeModal}\r\n      overlayClassName=\"overlay\"\r\n      data-testId=\"editProfileModal\"\r\n    >\r\n      <p className=\"modal__title\">Edit your profile</p>\r\n      <EditProfileForm />\r\n      <Button variant=\"contained\" color=\"secondary\" type=\"button\" onClick={closeModal}>\r\n        Close\r\n      </Button>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nEditProfile.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setIsModalOpen: PropTypes.func.isRequired\r\n};\r\n","import * as firebase from 'firebase';\r\nimport { auth, db } from '../firebase';\r\nimport { customToast } from './customToast';\r\n\r\ntype action = 'follow' | 'unfollow';\r\n\r\nexport const followAction = async (receiverUid: string, displayName: string, action: action): Promise<void> => {\r\n  const currentUserUid = auth.currentUser?.uid;\r\n  const userRef = db.collection('users').doc(currentUserUid).collection('followed').doc(receiverUid);\r\n  const receiverRef = db.collection('users').doc(receiverUid).collection('followers').doc(currentUserUid);\r\n  switch (action) {\r\n    case 'follow':\r\n      try {\r\n        await userRef.set({\r\n          timestamp: firebase.default.firestore.FieldValue.serverTimestamp(),\r\n          seen: false\r\n        });\r\n        await receiverRef.set({\r\n          timestamp: firebase.default.firestore.FieldValue.serverTimestamp(),\r\n          seen: false\r\n        });\r\n        customToast('default', `Followed ${displayName} 😃`);\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n        console.log(error);\r\n      }\r\n      break;\r\n    case 'unfollow':\r\n      try {\r\n        await userRef.delete();\r\n        await receiverRef.delete();\r\n        customToast('default', `Unfollowed ${displayName} ☹️`);\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n        console.log(error);\r\n      }\r\n      break;\r\n    default:\r\n      throw new Error();\r\n  }\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport AvatarPlaceholder from '../../assets/images/avatar_placeholder.png';\r\nimport { EditProfile } from '../EditProfile/EditProfile';\r\nimport { followAction } from '../../actions/followAction';\r\nimport './UserDetails.scss';\r\n\r\ninterface UserDetailsProps {\r\n  ownerUid: string;\r\n  displayName: string;\r\n  bio?: string;\r\n  avatar: string;\r\n  isMyUserDetails: boolean;\r\n  isUserFollowedBy: boolean;\r\n  isUserFollowing: boolean;\r\n}\r\n\r\nexport const UserDetails: React.FC<UserDetailsProps> = ({\r\n  ownerUid,\r\n  displayName,\r\n  bio,\r\n  avatar,\r\n  isMyUserDetails,\r\n  isUserFollowedBy,\r\n  isUserFollowing\r\n}: UserDetailsProps) => {\r\n  const [isFollowing, setIsFollowing] = useState(isUserFollowing);\r\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n\r\n  const handleClick = (action: 'follow' | 'unfollow') => {\r\n    followAction(ownerUid, displayName, action);\r\n    setIsFollowing(!isFollowing);\r\n  };\r\n\r\n  const followButtonHandler = () => {\r\n    const action = isFollowing ? 'unfollow' : 'follow';\r\n    const text = isUserFollowedBy ? 'follow back' : 'follow';\r\n\r\n    return (\r\n      <button type=\"button\" className=\"userDetails__followButton\" onClick={() => handleClick(action)}>\r\n        {isFollowing ? 'unfollow' : text}\r\n      </button>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <section className=\"userDetails\">\r\n      <img\r\n        className=\"userDetails__avatar\"\r\n        src={avatar || AvatarPlaceholder}\r\n        alt=\"User Avatar\"\r\n        width=\"164px\"\r\n        height=\"164px\"\r\n      />\r\n      <div className=\"userDetails__info\">\r\n        <header className=\"userDetails__name\">\r\n          {displayName}{' '}\r\n          {isMyUserDetails ? (\r\n            <span aria-label=\"editButton\" className=\"userDetails__edit\">\r\n              <Button\r\n                onClick={() => {\r\n                  setIsEditModalOpen(true);\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </Button>\r\n            </span>\r\n          ) : (\r\n            followButtonHandler()\r\n          )}\r\n        </header>\r\n        {isUserFollowedBy && (\r\n          <p className=\"userDetails__flare\">\r\n            <CheckCircleIcon fontSize=\"inherit\" /> User is following you\r\n          </p>\r\n        )}\r\n        <p className=\"userDetails__bio\">{bio}</p>\r\n      </div>\r\n      <EditProfile isOpen={isEditModalOpen} setIsModalOpen={setIsEditModalOpen} />\r\n    </section>\r\n  );\r\n};\r\n\r\nUserDetails.defaultProps = {\r\n  bio: ''\r\n};\r\n","import * as firebase from 'firebase';\r\nimport { auth, db } from '../firebase';\r\nimport { fields } from '../shared/interfaces/ProfileFieldInterfaces';\r\n\r\nexport const updateProfileFields = async (profileField: fields): Promise<void> => {\r\n  const currentUserUid = auth.currentUser?.uid;\r\n  const userRef = db.collection('users').doc(currentUserUid);\r\n  try {\r\n    await userRef.update({\r\n      profileFields: firebase.default.firestore.FieldValue.arrayUnion(profileField)\r\n    });\r\n  } catch (error) {\r\n    // eslint-disable-next-line\r\n    console.log(error);\r\n  }\r\n};\r\n","import React, { useState } from 'react';\r\nimport { TextField, Button } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { updateProfileFields } from '../../actions/updateProfileFields';\r\nimport { contentField } from '../../shared/interfaces/ProfileFieldInterfaces';\r\nimport './UserPageFieldForm.scss';\r\n\r\ntype fieldType = {\r\n  name: string;\r\n  value: string;\r\n};\r\ninterface UserPageFieldFormProps {\r\n  data: boolean;\r\n  setter: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport const UserPageFieldForm: React.FC<UserPageFieldFormProps> = ({ data, setter }: UserPageFieldFormProps) => {\r\n  const MAX_FIELDS_THRESHOLD = 12;\r\n  const MAX_INPUT_LENGTH = 100;\r\n  const [fieldsData, setFieldsData] = useState<contentField>({});\r\n  const [fieldInputs, setFieldInputs] = useState<fieldType[]>([]);\r\n  const [formTitle, setFormTitle] = useState('');\r\n  const [titleError, setTitleError] = useState(false);\r\n  const [fieldError, setFieldError] = useState(false);\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    event.preventDefault();\r\n    const { name, value } = event.target;\r\n    setFieldsData({ ...fieldsData, [name]: value });\r\n  };\r\n\r\n  const addField = () => {\r\n    const field = {\r\n      name: `field-${fieldInputs.length}`,\r\n      value: ''\r\n    };\r\n    const { name, value } = field;\r\n    setFieldInputs([...fieldInputs, field]);\r\n    setFieldsData({ ...fieldsData, [name]: value });\r\n  };\r\n\r\n  const checkKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (event.code === 'Enter') {\r\n      event.preventDefault();\r\n      addField();\r\n    }\r\n  };\r\n\r\n  const validate = (): boolean => {\r\n    if (formTitle === '') {\r\n      setTitleError(!titleError);\r\n      return true;\r\n    }\r\n    if (Object.entries(fieldsData).length === 0) {\r\n      addField();\r\n      return true;\r\n    }\r\n    if (Object.entries(fieldsData).every(field => field[1].trim() === '')) {\r\n      setFieldError(!fieldError);\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const handleSubmit = (event: React.ChangeEvent<HTMLFormElement>) => {\r\n    if (!validate()) {\r\n      const formData = {\r\n        content: Object.fromEntries(\r\n          Object.entries(fieldsData)\r\n            .map(([name, content]) => [name, content.trim()])\r\n            .filter(([, content]) => content !== '')\r\n        ),\r\n        title: formTitle\r\n      };\r\n      updateProfileFields(formData);\r\n      setter(!data);\r\n    }\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <article className=\"userPageFieldForm\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"userPageFieldForm__title\">\r\n          <TextField\r\n            error={titleError}\r\n            helperText={titleError && `Title can't be empty`}\r\n            onKeyDown={(e: React.KeyboardEvent<HTMLInputElement>) => checkKeyDown(e)}\r\n            onChange={event => setFormTitle(event.target.value)}\r\n            variant=\"outlined\"\r\n            placeholder=\"Title\"\r\n            name=\"title\"\r\n          />\r\n        </div>\r\n        <ul>\r\n          {fieldInputs.map(({ name }) => (\r\n            <li className=\"userPageFieldForm__field\">\r\n              <TextField\r\n                name={name}\r\n                value={fieldsData[name]}\r\n                error={fieldError}\r\n                helperText={fieldError && `At least one field must be filled`}\r\n                onKeyDown={(e: React.KeyboardEvent<HTMLInputElement>) => checkKeyDown(e)}\r\n                onChange={handleChange}\r\n                style={{ width: '100%' }}\r\n                inputProps={{ maxLength: MAX_INPUT_LENGTH }}\r\n              />\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        {fieldInputs.length < MAX_FIELDS_THRESHOLD && (\r\n          <button className=\"userPageFieldForm__addfield\" type=\"button\" onClick={addField}>\r\n            <AddIcon role=\"button\" aria-label=\"Add new field\" />\r\n          </button>\r\n        )}\r\n        <span className=\"userPageFieldForm__submitButtonWrapper\">\r\n          <Button className=\"userPageFieldForm__submitButton\" variant=\"contained\" color=\"primary\" type=\"submit\">\r\n            Confirm\r\n          </Button>\r\n        </span>\r\n      </form>\r\n    </article>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { UserPageFieldInterface, fields } from '../../shared/interfaces/ProfileFieldInterfaces';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport { WithError } from '../WithError/WithError';\r\nimport './UserPageField.scss';\r\n\r\nexport const UserPageField: React.FC<UserPageFieldInterface<fields>> = ({\r\n  data,\r\n  isLoading,\r\n  isError\r\n}: UserPageFieldInterface<fields>) => (\r\n  <WithLoader isLoading={isLoading}>\r\n    <WithError isError={isError} errorMessage=\"Couldn't get user data\">\r\n      <article className=\"userPageField\">\r\n        <h3 className=\"userPageField__title\">{data.title}</h3>\r\n        <ul>\r\n          {Object.entries(data.content).map(([, fieldEntry], id) => (\r\n            // eslint-disable-next-line\r\n            <li key={id} className=\"userPageField__entries\">\r\n              {fieldEntry}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </article>\r\n    </WithError>\r\n  </WithLoader>\r\n);\r\n\r\nUserPageField.propTypes = {\r\n  data: PropTypes.shape({\r\n    content: PropTypes.shape({\r\n      name: PropTypes.string.isRequired\r\n    }).isRequired,\r\n    title: PropTypes.string.isRequired\r\n  }).isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  isError: PropTypes.bool.isRequired\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { db } from '../firebase';\r\n\r\nexport const useIsUserFollowed = (currentUserId: string | undefined, pageUserId: string | undefined): boolean => {\r\n  const [value, setValue] = useState(true);\r\n\r\n  const getFollows = async () => {\r\n    try {\r\n      const follows = await db.collection('users').doc(currentUserId).collection('followers').doc(pageUserId).get();\r\n      setValue(follows.exists);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n      console.error(error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getFollows();\r\n  }, [currentUserId, pageUserId]);\r\n\r\n  return value;\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport './SearchHint.scss';\r\n\r\ninterface SearchHintProps {\r\n  displayName: string;\r\n  id: string;\r\n}\r\n\r\nexport const SearchHint: React.FC<SearchHintProps> = ({ displayName, id }) => (\r\n  <Link className=\"searchHint__link\" to={`/user/${id}`}>\r\n    <li className=\"searchHint\">{displayName}</li>\r\n  </Link>\r\n);\r\n\r\nSearchHint.propTypes = {\r\n  displayName: PropTypes.string.isRequired,\r\n  id: PropTypes.string.isRequired\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { SearchHint } from '../SearchHint/SearchHint';\r\nimport { userHint } from '../../shared/interfaces/UserInterfaces';\r\nimport './Search.scss';\r\n\r\ninterface SearchProps {\r\n  testid?: string;\r\n  getHints?: (set: React.Dispatch<React.SetStateAction<userHint[][]>>, value: string) => void;\r\n  setIsSearchOpen?: React.Dispatch<React.SetStateAction<boolean>>;\r\n  isSearchOpen?: boolean;\r\n}\r\n\r\nexport const Search: React.FC<SearchProps> = ({ testid, getHints, setIsSearchOpen, isSearchOpen }) => {\r\n  const [searchInput, setSearchInput] = useState('');\r\n  const [searchHints, setSearchHints] = useState<userHint[][]>([]);\r\n  const container = useRef() as React.MutableRefObject<HTMLInputElement>;\r\n\r\n  const closeInputOutside = (ref: React.MutableRefObject<HTMLInputElement>) => {\r\n    if (setIsSearchOpen) {\r\n      useEffect(() => {\r\n        const handleOutsideClick = (event: any) => {\r\n          if (ref.current && !ref.current.contains(event.target)) {\r\n            setIsSearchOpen(false);\r\n            document.removeEventListener('click', handleOutsideClick);\r\n          }\r\n        };\r\n        if (isSearchOpen) {\r\n          document.addEventListener('click', handleOutsideClick);\r\n        }\r\n      }, [isSearchOpen, ref]);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (getHints) {\r\n      getHints(setSearchHints, searchInput);\r\n    }\r\n  }, [searchInput]);\r\n\r\n  closeInputOutside(container);\r\n\r\n  return (\r\n    <div className={classNames('search', { 'search--hidden': isSearchOpen })} data-testid={testid}>\r\n      <div ref={container} className=\"search__container\">\r\n        <SearchIcon\r\n          onClick={() => {\r\n            if (setIsSearchOpen) {\r\n              setIsSearchOpen(true);\r\n            }\r\n          }}\r\n          className={classNames('search__icon', { 'search__icon--hidden': isSearchOpen })}\r\n        />\r\n        <input\r\n          value={searchInput}\r\n          onChange={event => setSearchInput(event.target.value)}\r\n          data-testid={`${testid}Input`}\r\n          placeholder=\"Search...\"\r\n          className={classNames('search__input', { 'search__input--hidden': isSearchOpen })}\r\n          type=\"text\"\r\n        />\r\n      </div>\r\n      <ul className={classNames('search__hints', { 'search__hints--hidden': isSearchOpen })}>\r\n        {searchHints.map(([hint]) => (\r\n          <SearchHint key={hint.id} displayName={hint.displayName} id={hint.id} />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nSearch.defaultProps = {\r\n  testid: undefined,\r\n  setIsSearchOpen: undefined,\r\n  isSearchOpen: false\r\n};\r\n\r\nSearch.propTypes = {\r\n  testid: PropTypes.string,\r\n  getHints: PropTypes.func.isRequired,\r\n  setIsSearchOpen: PropTypes.func,\r\n  isSearchOpen: PropTypes.bool\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport moment from 'moment';\r\nimport { Avatar } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport { useGetUserData } from '../../actions/useGetUserData';\r\nimport './Notification.scss';\r\nimport { db } from '../../firebase';\r\n\r\ninterface NotificationProps {\r\n  followerId: string;\r\n  userId: string | undefined;\r\n  timestamp: firebase.default.firestore.Timestamp;\r\n}\r\n\r\nexport const Notification: React.FC<NotificationProps> = ({ userId, followerId, timestamp }: NotificationProps) => {\r\n  const followingSince = moment.unix(timestamp.seconds).fromNow();\r\n  const { userData } = useGetUserData(followerId);\r\n\r\n  useEffect(\r\n    // eslint-disable-next-line\r\n    () => (): any => db.collection('users').doc(userId).collection('followers').doc(followerId).update({ seen: true }),\r\n    []\r\n  );\r\n\r\n  return (\r\n    <article className=\"notificationCard\">\r\n      <Avatar\r\n        className=\"notificationCard__avatar\"\r\n        src={userData?.avatar}\r\n        alt=\"user avatar\"\r\n        variant=\"rounded\"\r\n        style={{ height: '64px', width: '64px' }}\r\n      />\r\n      <div className=\"notificationCard__text\">\r\n        <strong>\r\n          <Link className=\"notificationCard__link\" to={`user/${followerId}`}>\r\n            {userData?.displayName}\r\n          </Link>\r\n        </strong>\r\n        <p className=\"notificationCard__action\">followed you</p>\r\n        <p className=\"notificationCard__timestamp\">{followingSince}</p>\r\n      </div>\r\n    </article>\r\n  );\r\n};\r\n","import React, { useContext } from 'react';\r\nimport { NotificationContext, NotificationsStateType } from '../../context/NotificationProvider';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport { Notification } from '../../components/Notification/Notification';\r\n\r\nexport const Notifications: React.FC = () => {\r\n  const notifications = useContext<NotificationsStateType | undefined>(NotificationContext);\r\n  const user = useContext(AuthContext);\r\n\r\n  return (\r\n    <article className=\"notifications\">\r\n      {notifications?.data.filter((data: firebase.default.firestore.DocumentData) => data.data().seen === false)\r\n        .length === 0 ? (\r\n        <p>No new notifications</p>\r\n      ) : (\r\n        notifications?.data.map(\r\n          (data: firebase.default.firestore.DocumentData) =>\r\n            !data.data().seen && (\r\n              <Notification key={data.id} userId={user?.uid} followerId={data.id} timestamp={data.data().timestamp} />\r\n            )\r\n        )\r\n      )}\r\n    </article>\r\n  );\r\n};\r\n","import React, { useContext } from 'react';\r\nimport { Avatar, Button } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport { signOut } from '../../actions/signOut';\r\nimport './HeaderDropdown.scss';\r\n\r\ninterface HeaderDropdownProps {\r\n  testid?: string;\r\n}\r\n\r\nexport const HeaderDropdown: React.FC<HeaderDropdownProps> = ({ testid }) => {\r\n  const user = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <ul className=\"headerDropdown\" data-testid={testid}>\r\n      <li className=\"headerDropdown__listItem\">\r\n        <Avatar src={user?.photoURL || ''} />\r\n      </li>\r\n      <li className=\"headerDropdown__listItem\">\r\n        <p>{user?.displayName || 'User'}</p>\r\n      </li>\r\n      <li className=\"headerDropdown__listItem\">\r\n        <Button\r\n          data-testid={`${testid}ViewProfile`}\r\n          onClick={() => history.push(`/user/${user?.uid}`)}\r\n          className=\"headerDropdown__button\"\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n        >\r\n          View Profile\r\n        </Button>\r\n      </li>\r\n      <li className=\"headerDropdown__listItem\">\r\n        <Button\r\n          onClick={() => signOut({ history })}\r\n          data-testid={`${testid}SignOut`}\r\n          className=\"headerDropdown__button\"\r\n          variant=\"outlined\"\r\n        >\r\n          Sign Out\r\n        </Button>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nHeaderDropdown.defaultProps = {\r\n  testid: undefined\r\n};\r\n\r\nHeaderDropdown.propTypes = {\r\n  testid: PropTypes.string\r\n};\r\n","import { History, LocationState } from 'history';\r\nimport { auth } from '../firebase';\r\nimport { customToast } from './customToast';\r\n\r\ninterface signOutProps {\r\n  history: History<LocationState>;\r\n}\r\n\r\nexport const signOut = ({ history }: signOutProps): void => {\r\n  auth\r\n    .signOut()\r\n    .then(() => {\r\n      history.push('/');\r\n      customToast('success', 'Successfully Sign Out');\r\n    })\r\n    .catch(() => customToast('error', 'There was a problem with Sign Out'));\r\n};\r\n","import HomeIcon from '@material-ui/icons/Home';\r\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { Notifications } from '../pages/Notifications/Notifications';\r\nimport { HeaderDropdown } from '../components/DropdownsContent/HeaderDropdown';\r\n\r\nexport const navigationItems = [\r\n  { path: '/feed', icon: HomeIcon, title: 'Home', content: '' },\r\n  { path: '/network', icon: SupervisorAccountIcon, title: 'My Network', content: '' },\r\n  { path: '', icon: NotificationsIcon, title: 'Notifications', content: Notifications, badge: true },\r\n  { path: '', icon: Avatar, title: 'Me▼', content: HeaderDropdown }\r\n];\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Dropdown.scss';\r\n\r\ninterface DropdownProps {\r\n  DropdownOpener: React.ReactNode;\r\n  content: React.FC<unknown> | string;\r\n}\r\n\r\nexport const Dropdown: React.FC<DropdownProps> = ({ DropdownOpener, content }) => {\r\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n  const dropdown = useRef() as React.MutableRefObject<HTMLDivElement>;\r\n\r\n  const closeDropdownOutside = (ref: React.MutableRefObject<HTMLDivElement>) => {\r\n    useEffect(() => {\r\n      const handleOutsideClick = (event: any) => {\r\n        if (ref.current && !ref.current.contains(event.target)) {\r\n          setIsDropdownOpen(false);\r\n          document.removeEventListener('click', handleOutsideClick);\r\n        }\r\n      };\r\n      if (isDropdownOpen) {\r\n        document.addEventListener('click', handleOutsideClick);\r\n      }\r\n    }, [isDropdownOpen, ref]);\r\n  };\r\n\r\n  closeDropdownOutside(dropdown);\r\n\r\n  return (\r\n    <div className=\"dropdown\">\r\n      <div\r\n        className=\"dropdown__opener\"\r\n        onClick={() => setIsDropdownOpen(true)}\r\n        onKeyDown={() => setIsDropdownOpen(true)}\r\n        role=\"button\"\r\n        tabIndex={0}\r\n      >\r\n        {DropdownOpener}\r\n      </div>\r\n      {isDropdownOpen && (\r\n        <div ref={dropdown} className=\"dropdown__container\">\r\n          {React.createElement(content)}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nDropdown.propTypes = {\r\n  DropdownOpener: PropTypes.node.isRequired,\r\n  content: PropTypes.func.isRequired\r\n};\r\n","import React, { useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Badge } from '@material-ui/core';\r\nimport { OverridableComponent } from '@material-ui/core/OverridableComponent';\r\nimport { useLocation } from 'react-router-dom';\r\nimport classNames from 'classnames';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport './NavigationIcon.scss';\r\n\r\ninterface NavigationIconProps {\r\n  Icon: OverridableComponent<any>;\r\n  title: string;\r\n  path?: string;\r\n  testid?: string;\r\n  badgeContent?: number;\r\n}\r\n\r\nexport const NavigationIcon: React.FC<NavigationIconProps> = ({ Icon, title, path, testid, badgeContent }) => {\r\n  const location = useLocation();\r\n  const user = useContext(AuthContext);\r\n\r\n  return (\r\n    <div\r\n      data-testid={testid}\r\n      className={classNames('navigationIcon', { 'navigationIcon--active': path === location.pathname })}\r\n    >\r\n      {badgeContent ? (\r\n        <Badge badgeContent={badgeContent} color=\"primary\">\r\n          <Icon className=\"navigationIcon__icon\" src={user?.photoURL} />\r\n        </Badge>\r\n      ) : (\r\n        <Icon className=\"navigationIcon__icon\" src={user?.photoURL} />\r\n      )}\r\n\r\n      <p className=\"navigationIcon__title\">{title}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nNavigationIcon.defaultProps = {\r\n  path: '',\r\n  testid: undefined,\r\n  badgeContent: 0\r\n};\r\n\r\nNavigationIcon.propTypes = {\r\n  Icon: PropTypes.func.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  path: PropTypes.string,\r\n  testid: PropTypes.string,\r\n  badgeContent: PropTypes.number\r\n};\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { navigationItems } from '../../constants/Navigation';\r\nimport { Dropdown } from '../Dropdown/Dropdown';\r\nimport { NavigationIcon } from '../NavigationIcon/NavigationIcon';\r\nimport { NotificationContext } from '../../context/NotificationProvider';\r\nimport './Navigation.scss';\r\n\r\ninterface NavigationProps {\r\n  testid?: string;\r\n  isSearchOpen?: boolean;\r\n}\r\n\r\nexport const Navigation: React.FC<NavigationProps> = ({ testid, isSearchOpen }) => {\r\n  const [amount, setAmount] = useState<number>();\r\n  const notifications = useContext(NotificationContext);\r\n\r\n  useEffect(() => {\r\n    setAmount(notifications?.data.filter(data => data.data().seen === false).length);\r\n  }, [notifications]);\r\n\r\n  return (\r\n    <nav className={classNames('navigation', { 'navigation--hidden': isSearchOpen })} data-testid={testid}>\r\n      <ul className=\"navigation__wrapper\">\r\n        {navigationItems.map(({ title, path, icon, content, badge }) => (\r\n          <li key={title}>\r\n            {path ? (\r\n              <Link className=\"navigation__link\" to={path}>\r\n                <NavigationIcon testid={`${testid}Link${title}`} title={title} path={path} Icon={icon} />\r\n              </Link>\r\n            ) : (\r\n              <Dropdown\r\n                DropdownOpener={\r\n                  badge ? (\r\n                    <NavigationIcon\r\n                      badgeContent={amount}\r\n                      testid={`${testid}DropdownOpener`}\r\n                      title={title}\r\n                      Icon={icon}\r\n                    />\r\n                  ) : (\r\n                    <NavigationIcon testid={`${testid}DropdownOpener`} title={title} Icon={icon} />\r\n                  )\r\n                }\r\n                content={content}\r\n              />\r\n            )}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\nNavigation.defaultProps = {\r\n  testid: undefined,\r\n  isSearchOpen: false\r\n};\r\n\r\nNavigation.propTypes = {\r\n  testid: PropTypes.string,\r\n  isSearchOpen: PropTypes.bool\r\n};\r\n","import { db } from '../firebase';\r\n\r\ntype userHint = {\r\n  displayName: string;\r\n  id: string;\r\n};\r\n\r\nexport const userHints: (set: React.Dispatch<React.SetStateAction<userHint[][]>>, value: string) => void = async (\r\n  set,\r\n  value\r\n) => {\r\n  const snapshot = await db.collection('users').orderBy('displayName', 'asc').get();\r\n  set(\r\n    snapshot.docs\r\n      .map(doc => [{ displayName: doc.data().displayName, id: doc.data().id }])\r\n      .filter(doc => doc[0].displayName.startsWith(value) && value)\r\n      .slice(0, 5)\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\r\nimport PropTypes from 'prop-types';\r\nimport { Search } from '../Search/Search';\r\nimport { Navigation } from '../Navigation/Navigation';\r\nimport { userHints } from '../../constants/UserHints';\r\nimport './Header.scss';\r\n\r\ninterface HeaderProps {\r\n  testid?: string;\r\n}\r\n\r\nexport const Header: React.FC<HeaderProps> = ({ testid }) => {\r\n  const [isSearchOpen, setIsSearchOpen] = useState(false);\r\n\r\n  return (\r\n    <header className=\"header\" data-testid={testid}>\r\n      <div className=\"header__search\">\r\n        <LinkedInIcon color=\"primary\" className=\"header__logo\" />\r\n        <Search\r\n          setIsSearchOpen={setIsSearchOpen}\r\n          isSearchOpen={isSearchOpen}\r\n          testid=\"searchHeader\"\r\n          getHints={userHints}\r\n        />\r\n      </div>\r\n      <Navigation testid=\"navigationHeader\" isSearchOpen={isSearchOpen} />\r\n    </header>\r\n  );\r\n};\r\n\r\nHeader.defaultProps = {\r\n  testid: undefined\r\n};\r\n\r\nHeader.propTypes = {\r\n  testid: PropTypes.string\r\n};\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { db } from '../firebase';\r\nimport { AuthContext } from '../context/AuthProvider';\r\n\r\ninterface GetUserFollows {\r\n  userFollows: string[];\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n}\r\n\r\nexport const useGetUserFollows = (): GetUserFollows => {\r\n  const user = useContext(AuthContext);\r\n  const [state, setState] = useState<GetUserFollows>({\r\n    userFollows: [],\r\n    isLoading: true,\r\n    isError: false\r\n  });\r\n\r\n  const getUserFollows = async () => {\r\n    try {\r\n      const snapshot = await db.collection('users').doc(user?.uid).collection('followed').get();\r\n      const followedIds = snapshot.docs.map(followed => followed.id);\r\n      setState({ ...state, userFollows: followedIds, isLoading: false });\r\n    } catch (error) {\r\n      setState({ ...state, isError: true, isLoading: false });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getUserFollows();\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n","import { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../context/AuthProvider';\nimport { db } from '../firebase';\nimport { User } from '../shared/interfaces/UserInterfaces';\n\ninterface GetUser {\n  users: User[];\n  isLoading: boolean;\n  isError: boolean;\n}\n\nexport const useGetUsers = (): GetUser => {\n  const [state, setState] = useState<GetUser>({\n    users: [],\n    isLoading: true,\n    isError: false\n  });\n  const currentUser = useContext(AuthContext);\n\n  const getUsers = async () => {\n    try {\n      const snapshot = await db.collection('users').orderBy('displayName', 'asc').get();\n      const users = snapshot.docs.map(user => user.data()).filter(user => user.id !== currentUser?.uid) as User[];\n      setState({ ...state, users, isLoading: false });\n    } catch (error) {\n      setState({ ...state, isLoading: false, isError: true });\n    }\n  };\n\n  useEffect(() => {\n    getUsers();\n  }, []);\n\n  return state;\n};\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport { Avatar, Button, Grow } from '@material-ui/core';\r\nimport { followAction } from '../../actions/followAction';\r\nimport './UserCard.scss';\r\n\r\ninterface UserCardProps {\r\n  avatar?: string;\r\n  displayName: string;\r\n  followed?: boolean;\r\n  id: string;\r\n  testid?: string;\r\n}\r\n\r\nexport const UserCard: React.FC<UserCardProps> = ({ avatar, displayName, followed, id, testid }) => {\r\n  const [isFollowed, setIsFollowed] = useState(followed);\r\n\r\n  const handleClick = () => {\r\n    if (!isFollowed) {\r\n      followAction(id, displayName, 'follow');\r\n    } else {\r\n      followAction(id, displayName, 'unfollow');\r\n    }\r\n    setIsFollowed(!isFollowed);\r\n  };\r\n\r\n  return (\r\n    <Grow in timeout={500}>\r\n      <section className=\"userCard\" data-testid={`${testid}${id}`}>\r\n        <div className=\"userCard__info\">\r\n          <Avatar className=\"userCard__avatar\" src={avatar} />\r\n          <Link className=\"userCard__displayName\" data-testid={`\"userCard__displayName--${testid}`} to={`/user/${id}`}>\r\n            <p>{displayName}</p>\r\n          </Link>\r\n        </div>\r\n        <Button onClick={handleClick} variant=\"outlined\" color=\"primary\" className=\"userCard__button\">\r\n          {isFollowed ? 'Followed' : 'Follow'}\r\n        </Button>\r\n      </section>\r\n    </Grow>\r\n  );\r\n};\r\n\r\nUserCard.defaultProps = {\r\n  avatar: '',\r\n  followed: false,\r\n  testid: undefined\r\n};\r\n\r\nUserCard.propTypes = {\r\n  avatar: PropTypes.string,\r\n  displayName: PropTypes.string.isRequired,\r\n  followed: PropTypes.bool,\r\n  id: PropTypes.string.isRequired,\r\n  testid: PropTypes.string\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Grow } from '@material-ui/core';\r\nimport { useGetUserFollows } from '../../actions/useGetUserFollows';\r\nimport { useGetUsers } from '../../actions/useGetUsers';\r\nimport { User } from '../../shared/interfaces/UserInterfaces';\r\nimport { UserCard } from '../UserCard/UserCard';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport './FollowedUsers.scss';\r\n\r\ninterface FollowedUsersProps {\r\n  testid?: string;\r\n}\r\n\r\nexport const FollowedUsers: React.FC<FollowedUsersProps> = ({ testid }) => {\r\n  const { userFollows, isLoading: isFollowsLoading, isError: isFollowsError } = useGetUserFollows();\r\n  const { users, isLoading, isError } = useGetUsers();\r\n  const [followedUsers, setFollowedUsers] = useState<User[]>();\r\n\r\n  const getFollowedUsersInfo = () => users.filter(user => userFollows.includes(user.id));\r\n\r\n  useEffect(() => {\r\n    setFollowedUsers(getFollowedUsersInfo());\r\n  }, [isLoading, isFollowsLoading]);\r\n\r\n  return (\r\n    <WithLoader isLoading={isLoading || isFollowsLoading}>\r\n      <WithError isError={isFollowsError || isError} errorMessage=\"Error has occurred please try again...\">\r\n        <Grow in timeout={500}>\r\n          <div data-testid={testid} className=\"followedUsers\">\r\n            {followedUsers?.map(({ displayName, avatar, id }) => (\r\n              <UserCard key={id} displayName={displayName} avatar={avatar} id={id} followed />\r\n            ))}\r\n          </div>\r\n        </Grow>\r\n      </WithError>\r\n    </WithLoader>\r\n  );\r\n};\r\n\r\nFollowedUsers.defaultProps = {\r\n  testid: undefined\r\n};\r\n\r\nFollowedUsers.propTypes = {\r\n  testid: PropTypes.string\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { IconButton, Grow } from '@material-ui/core';\r\nimport { useGetUserFollows } from '../../actions/useGetUserFollows';\r\nimport { useGetUsers } from '../../actions/useGetUsers';\r\nimport { User } from '../../shared/interfaces/UserInterfaces';\r\nimport { UserCard } from '../UserCard/UserCard';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport './RecommendedUsers.scss';\r\n\r\ninterface RecommendedUsersProps {\r\n  testid?: string;\r\n}\r\n\r\nexport const RecommendedUsers: React.FC<RecommendedUsersProps> = ({ testid }) => {\r\n  const { userFollows, isLoading: isFollowsLoading, isError: isFollowsError } = useGetUserFollows();\r\n  const { users, isLoading, isError } = useGetUsers();\r\n  const [recommendedUsers, setRecommendedUsers] = useState<User[]>([]);\r\n\r\n  const getRecommendedUsersInfo = () =>\r\n    users\r\n      .filter(user => !userFollows.includes(user.id))\r\n      .sort(() => Math.random() - 0.5)\r\n      .slice(0, 8);\r\n\r\n  const getMoreRecommendedUsersInfo = () =>\r\n    users\r\n      .filter(user => !userFollows.includes(user.id) && !recommendedUsers?.includes(user))\r\n      .sort(() => Math.random() - 0.5)\r\n      .slice(0, 8);\r\n\r\n  useEffect(() => {\r\n    setRecommendedUsers(getRecommendedUsersInfo());\r\n  }, [isLoading, isFollowsLoading]);\r\n\r\n  return (\r\n    <WithLoader isLoading={isLoading || isFollowsLoading}>\r\n      <WithError isError={isFollowsError || isError} errorMessage=\"Error has occurred please try again...\">\r\n        <div className=\"recommendedUsers\">\r\n          <Grow in timeout={500}>\r\n            <div data-testid={testid} className=\"recommendedUsers__wrapper\">\r\n              {recommendedUsers.map(({ displayName, avatar, id }) => (\r\n                <UserCard key={id} displayName={displayName} avatar={avatar} id={id} />\r\n              ))}\r\n            </div>\r\n          </Grow>\r\n          <IconButton onClick={() => setRecommendedUsers([...recommendedUsers, ...getMoreRecommendedUsersInfo()])}>\r\n            <ExpandMoreIcon fontSize=\"large\" />\r\n          </IconButton>\r\n        </div>\r\n      </WithError>\r\n    </WithLoader>\r\n  );\r\n};\r\n\r\nRecommendedUsers.defaultProps = {\r\n  testid: undefined\r\n};\r\n\r\nRecommendedUsers.propTypes = {\r\n  testid: PropTypes.string\r\n};\r\n","export enum Posts {\r\n  newAmount = 4,\r\n  initialAmount = 5\r\n}\r\n","import React, { useState, useContext } from 'react';\r\nimport { TextField, Avatar, Button } from '@material-ui/core';\r\nimport { setPost } from '../../actions/setPost';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport { customToast } from '../../actions/customToast';\r\nimport './CreatePost.scss';\r\n\r\nexport const CreatePost: React.FC = () => {\r\n  const [postText, setPostText] = useState('');\r\n  const currentUser = useContext(AuthContext);\r\n\r\n  const isNicknameValid = postText.trim() !== '';\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setPostText(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = (event: React.ChangeEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    if (isNicknameValid) {\r\n      setPost({\r\n        ownerUid: currentUser?.uid as string,\r\n        content: postText,\r\n        displayName: currentUser?.displayName as string,\r\n        avatar: currentUser?.photoURL as string\r\n      });\r\n    } else {\r\n      customToast('error', \"Post text can't be empty\", false);\r\n    }\r\n    setPostText('');\r\n  };\r\n\r\n  return (\r\n    <article data-testid=\"createPost\" className=\"create-post\">\r\n      <Avatar className=\"avatar\" src={currentUser?.photoURL || ''} />\r\n      <form className=\"share-box\" onSubmit={handleSubmit}>\r\n        <TextField\r\n          multiline\r\n          placeholder=\"What do you want to say?\"\r\n          value={postText}\r\n          onChange={handleChange}\r\n          className=\"share-box__text\"\r\n          data-testid=\"textPost\"\r\n        />\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          type=\"submit\"\r\n          className=\"share-box__add-post\"\r\n          data-testid=\"addPost\"\r\n        >\r\n          Add Post\r\n        </Button>\r\n      </form>\r\n    </article>\r\n  );\r\n};\r\n","import * as firebase from 'firebase';\r\nimport { db } from '../firebase';\r\nimport { customToast } from './customToast';\r\n\r\ninterface SetPostProps {\r\n  ownerUid: string;\r\n  displayName: string;\r\n  avatar?: string;\r\n  content: string;\r\n}\r\n\r\nexport const setPost = ({ ownerUid, content, avatar, displayName }: SetPostProps): void => {\r\n  try {\r\n    db.collection('posts')\r\n      .add({\r\n        ownerUid,\r\n        content,\r\n        avatar,\r\n        timestamp: firebase.default.firestore.FieldValue.serverTimestamp(),\r\n        displayName\r\n      })\r\n      .then(() => {\r\n        customToast('success', 'Post successfully added', false);\r\n      });\r\n  } catch (error) {\r\n    customToast('error', 'There was a problem with Adding a Post');\r\n  }\r\n};\r\n","import React, { useRef, useState, MutableRefObject } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport { useIsContentOverflowing } from '../../actions/useIsContentOverflowing';\r\nimport AvatarPlaceholder from '../../assets/images/avatar_placeholder.png';\r\nimport './FeedPost.scss';\r\n\r\nexport interface FeedPostProps {\r\n  ownerUid: string;\r\n  displayName: string;\r\n  avatar?: string;\r\n  content: string;\r\n  timestamp: firebase.default.firestore.Timestamp;\r\n  testid?: string;\r\n}\r\n\r\nexport const FeedPost: React.FC<FeedPostProps> = ({\r\n  ownerUid,\r\n  displayName,\r\n  avatar,\r\n  content,\r\n  timestamp,\r\n  testid\r\n}: FeedPostProps) => {\r\n  const [seeMore, setSeeMore] = useState(false);\r\n  const ref = useRef() as MutableRefObject<HTMLParagraphElement>;\r\n  const isContentOverflowing = useIsContentOverflowing(ref);\r\n  const timePassed = moment.unix(timestamp.seconds).fromNow();\r\n\r\n  return (\r\n    <article className=\"feedPost\">\r\n      <Link className=\"feedPost__user\" data-testid={`\"feedPost__user--${testid}`} to={`/user/${ownerUid}`}>\r\n        <img className=\"feedPost__avatar\" src={avatar || AvatarPlaceholder} alt={`${displayName}'s avatar`} />\r\n        <p className=\"feedPost__name\">{displayName}</p>\r\n      </Link>\r\n      <p ref={ref} className={`feedPost__content feedPost__content--see__${!seeMore && 'less'}`}>\r\n        {content.trim()}\r\n      </p>\r\n      {isContentOverflowing && !seeMore && (\r\n        <button\r\n          data-testid={`\"feedPost__seeButton--${testid}`}\r\n          type=\"button\"\r\n          className={`feedPost__seeButton feedPost__seeButton--see__${!seeMore && 'less'}`}\r\n          onClick={() => {\r\n            setSeeMore(!seeMore);\r\n          }}\r\n        >\r\n          ...see more\r\n        </button>\r\n      )}\r\n      <p className=\"feedPost__timestamp\">{timePassed}</p>\r\n    </article>\r\n  );\r\n};\r\n\r\nFeedPost.defaultProps = {\r\n  testid: '',\r\n  avatar: AvatarPlaceholder\r\n};\r\n","import { useState, useEffect, MutableRefObject } from 'react';\r\n\r\nexport const useIsContentOverflowing = (ref: MutableRefObject<HTMLElement>): boolean => {\r\n  const [isContentOverflowing, setIsContentOverflowing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setIsContentOverflowing(ref.current.offsetHeight < ref.current.scrollHeight);\r\n    };\r\n    window.addEventListener('resize', handleResize);\r\n    handleResize();\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n  return isContentOverflowing;\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { useGetPosts } from '../../actions/useGetPosts';\r\nimport { useGetUserFollows } from '../../actions/useGetUserFollows';\r\nimport { postsFilter } from '../../actions/postsFilter';\r\nimport { FeedPost, FeedPostProps } from '../FeedPost/FeedPost';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { Posts } from '../../constants/Posts';\r\nimport './FeedList.scss';\r\n\r\nexport const FeedList: React.FC = () => {\r\n  const [posts, setPosts] = useState<FeedPostProps[]>([]);\r\n  const [index, setIndex] = useState(Posts.initialAmount);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const { userFollows, isLoading: isFollowsLoading, isError: isFollowsError } = useGetUserFollows();\r\n  const { allPosts, isLoading: isPostsLoading, isError: isPostsError } = useGetPosts();\r\n  const userPosts = postsFilter(userFollows, allPosts);\r\n\r\n  const initializePosts = () => {\r\n    if (userPosts.length) {\r\n      setPosts(userPosts.slice(0, Posts.initialAmount));\r\n    }\r\n  };\r\n\r\n  const checkPostsAmount = () => {\r\n    if (userPosts.length <= Posts.initialAmount && allPosts.length) {\r\n      setHasMore(false);\r\n    }\r\n  };\r\n\r\n  const getMoreData = () => {\r\n    if (posts.length >= userPosts.length) {\r\n      setHasMore(false);\r\n      return;\r\n    }\r\n\r\n    setTimeout(() => {\r\n      setPosts(userPosts.slice(0, index + Posts.newAmount));\r\n      setIndex(index + Posts.newAmount);\r\n    }, 1000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    initializePosts();\r\n    checkPostsAmount();\r\n  }, [userFollows, allPosts]);\r\n\r\n  if (!userPosts.length && allPosts.length) {\r\n    return <WithError isError errorMessage=\"Follow users to see their posts!\" className=\"noPostsError\" />;\r\n  }\r\n\r\n  return (\r\n    <section className=\"feedList\" data-testid=\"feedList\">\r\n      <WithLoader isLoading={isFollowsLoading || isPostsLoading} className=\"feedList__loader\">\r\n        <WithError isError={isFollowsError || isPostsError} errorMessage=\"Error has occurred please try again...\">\r\n          <InfiniteScroll\r\n            dataLength={posts.length}\r\n            next={getMoreData}\r\n            hasMore={hasMore}\r\n            loader={\r\n              <div className=\"feedList__loader\">\r\n                <CircularProgress />\r\n              </div>\r\n            }\r\n            endMessage={<p className=\"feedList__endMessage\">Yay! You have seen it all</p>}\r\n            className=\"feedList__posts\"\r\n          >\r\n            {posts.map(({ testid, ownerUid, displayName, content, avatar, timestamp }) => (\r\n              <FeedPost\r\n                key={`${ownerUid},${timestamp.seconds}`}\r\n                testid={testid}\r\n                ownerUid={ownerUid}\r\n                displayName={displayName}\r\n                content={content}\r\n                avatar={avatar}\r\n                timestamp={timestamp}\r\n              />\r\n            ))}\r\n          </InfiniteScroll>\r\n        </WithError>\r\n      </WithLoader>\r\n    </section>\r\n  );\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { db } from '../firebase';\r\nimport { FeedPostProps } from '../components/FeedPost/FeedPost';\r\n\r\ninterface GetPosts {\r\n  allPosts: FeedPostProps[];\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n}\r\n\r\nexport const useGetPosts = (): GetPosts => {\r\n  const [state, setState] = useState<GetPosts>({\r\n    allPosts: [],\r\n    isLoading: true,\r\n    isError: false\r\n  });\r\n\r\n  const getPosts = async () => {\r\n    try {\r\n      const snapshot = await db.collection('posts').orderBy('timestamp', 'desc').get();\r\n      const allPosts = snapshot.docs.map(post => ({ ...post.data(), testid: post.id })) as FeedPostProps[];\r\n      setState({ ...state, allPosts, isLoading: false });\r\n    } catch (error) {\r\n      setState({ ...state, isError: true, isLoading: false });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPosts();\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n","import { FeedPostProps } from '../components/FeedPost/FeedPost';\r\n\r\nexport const postsFilter = (follows: string[], posts: FeedPostProps[]): FeedPostProps[] =>\r\n  posts.filter(post => follows.includes(post.ownerUid));\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { FormLayout } from '../pages/FormLayout/FormLayout';\r\nimport { Welcome } from '../pages/Welcome/Welcome';\r\nimport { DefaultRoute } from './DefaultRoute';\r\nimport { ProtectedRoute } from './ProtectedRoute';\r\nimport { SignupForm } from '../components/SignupForm/SignupForm';\r\nimport { LoginForm } from '../components/LoginForm/LoginForm';\r\nimport { UserPage } from '../pages/UserPage/UserPage';\r\nimport { MyNetwork } from '../pages/MyNetwork/MyNetwork';\r\nimport { Feed } from '../pages/Feed/Feed';\r\nimport { Notifications } from '../pages/Notifications/Notifications';\r\n\r\nexport const Routes = [\r\n  <Route exact path=\"/\" component={Welcome} />,\r\n  <Route exact path=\"/signUp\" render={() => <FormLayout formComponent={<SignupForm />} />} />,\r\n  <Route exact path=\"/signIn\" render={() => <FormLayout formComponent={<LoginForm />} />} />,\r\n  <ProtectedRoute path=\"/feed\" component={Feed} />,\r\n  <ProtectedRoute exact path=\"/network\" component={MyNetwork} />,\r\n  <ProtectedRoute exact path=\"/notifications\" component={Notifications} />,\r\n  <ProtectedRoute path=\"/user/:ownerUid\" component={UserPage} />,\r\n  <DefaultRoute />\r\n];\r\n","import React, { useContext, useEffect } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\r\nimport { NotificationContext } from '../../context/NotificationProvider';\r\nimport { auth } from '../../firebase';\r\nimport './Welcome.scss';\r\n\r\nexport const Welcome: React.FC = () => {\r\n  const { currentUser } = auth;\r\n  const notifications = useContext(NotificationContext);\r\n\r\n  useEffect(() => {\r\n    if (notifications && notifications.data.length > 0 && notifications.unsubscriber) {\r\n      notifications.unsubscriber();\r\n    }\r\n  }, []);\r\n\r\n  if (currentUser) {\r\n    return <Redirect to=\"/feed\" />;\r\n  }\r\n\r\n  return (\r\n    <main className=\"welcomePage\">\r\n      <section className=\"hero\">\r\n        <ToastContainer className=\"hero__toastContainer\" />\r\n        <h1 className=\"hero__title\">\r\n          <span>Linked</span>\r\n          <LinkedInIcon className=\"hero__icon\" />\r\n        </h1>\r\n        <h2 className=\"hero__sub-title\">Welcome to your professional community</h2>\r\n        <div className=\"hero__links\">\r\n          <Link className=\"hero__link\" to=\"/signIn\">\r\n            <Button data-testid=\"signIn\" className=\"primary\" variant=\"outlined\" color=\"primary\" size=\"large\">\r\n              Sign in\r\n            </Button>\r\n          </Link>\r\n          <Link className=\"hero__link\" to=\"/signUp\">\r\n            <Button data-testid=\"signUp\" className=\"secondary\" variant=\"contained\" color=\"primary\" size=\"large\">\r\n              Sign up\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { CreatePost } from '../../components/CreatePost/CreatePost';\r\nimport { FeedList } from '../../components/FeedList/FeedList';\r\nimport { Header } from '../../components/Header/Header';\r\nimport './Feed.scss';\r\n\r\nexport const Feed: React.FC = () => (\r\n  <div className=\"feed\">\r\n    <Header testid=\"feedPageHeader\" />\r\n    <div className=\"feed__createPost\">\r\n      <CreatePost />\r\n    </div>\r\n    <FeedList />\r\n  </div>\r\n);\r\n","import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport { Button } from '@material-ui/core';\nimport { Header } from '../../components/Header/Header';\nimport { FollowedUsers } from '../../components/FollowedUsers/FollowedUsers';\nimport { RecommendedUsers } from '../../components/RecommendedUsers/RecommendedUsers';\nimport './MyNetwork.scss';\n\nexport const MyNetwork: React.FC = () => {\n  const [showRecommendedUsers, setShowRecommendedUsers] = useState(true);\n\n  return (\n    <div className=\"myNetwork\" data-testid=\"myNetworkPage\">\n      <Header testid=\"myNetworkPageHeader\" />\n      <div className=\"myNetwork__container\">\n        <div className=\"myNetwork__buttons\">\n          <Button\n            size=\"large\"\n            variant=\"outlined\"\n            color=\"primary\"\n            data-testid=\"recommendedUsersButton\"\n            onClick={() => setShowRecommendedUsers(true)}\n            className={classNames('myNetwork__button', { 'myNetwork__button--active': showRecommendedUsers })}\n          >\n            Recommended Users\n          </Button>\n          <Button\n            size=\"large\"\n            variant=\"outlined\"\n            color=\"primary\"\n            data-testid=\"followedUsersButton\"\n            onClick={() => setShowRecommendedUsers(false)}\n            className={classNames('myNetwork__button', { 'myNetwork__button--active': !showRecommendedUsers })}\n          >\n            Followed Users\n          </Button>\n        </div>\n        {showRecommendedUsers ? (\n          <RecommendedUsers testid=\"recommendedUsers\" />\n        ) : (\n          <FollowedUsers testid=\"followedUsers\" />\n        )}\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport { db } from '../../firebase';\r\nimport { UserDetails } from '../../components/UserDetails/UserDetails';\r\nimport { UserPageFieldForm } from '../../components/UserPageFieldForm/UserPageFieldForm';\r\nimport { UserPageField } from '../../components/UserPageField/UserPageField';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport { useIsUserFollowed } from '../../actions/useIsUserFollowed';\r\nimport { Header } from '../../components/Header/Header';\r\nimport { WithLoader } from '../../components/WithLoader/WithLoader';\r\nimport { UserPageFieldInterface, fields } from '../../shared/interfaces/ProfileFieldInterfaces';\r\nimport './UserPage.scss';\r\n\r\ntype UserPageParams = {\r\n  ownerUid: string;\r\n};\r\n\r\nexport const UserPage: React.FC = () => {\r\n  const [userData, setUserData] = useState<firebase.default.firestore.DocumentData>();\r\n  const [isAddField, setIsAddField] = useState(true);\r\n  const { ownerUid } = useParams<UserPageParams>();\r\n  const loggedInUser = useContext(AuthContext);\r\n  const isUserFollowed = useIsUserFollowed(loggedInUser?.uid, ownerUid);\r\n  const isUserFollowing = useIsUserFollowed(ownerUid, loggedInUser?.uid);\r\n  const [fieldEntries, setFieldEntries] = useState<UserPageFieldInterface<fields[]>>({\r\n    data: [],\r\n    isLoading: true,\r\n    isError: true\r\n  });\r\n  const [getFields, setGetFields] = useState(false);\r\n\r\n  useEffect(() => {\r\n    db.collection('users')\r\n      .doc(ownerUid)\r\n      .get()\r\n      .then(doc => {\r\n        setUserData(doc.data());\r\n        setFieldEntries({ data: doc.data()?.profileFields, isLoading: false, isError: false });\r\n      })\r\n      // eslint-disable-next-line\r\n      .catch(error => console.error(error));\r\n  }, [ownerUid, getFields]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <section className=\"userPage\">\r\n        {userData ? (\r\n          <UserDetails\r\n            bio={userData?.bio}\r\n            ownerUid={ownerUid}\r\n            displayName={userData?.displayName}\r\n            avatar={userData?.avatar}\r\n            isMyUserDetails={loggedInUser?.uid === ownerUid}\r\n            isUserFollowedBy={isUserFollowed}\r\n            isUserFollowing={isUserFollowing}\r\n          />\r\n        ) : null}\r\n        <WithLoader isLoading={fieldEntries.isLoading}>\r\n          <>\r\n            {(fieldEntries.data || []).map((fieldEntry: fields, id: number) => (\r\n              <UserPageField\r\n                // eslint-disable-next-line\r\n                key={id}\r\n                data={fieldEntry}\r\n                isLoading={fieldEntries.isLoading}\r\n                isError={fieldEntries.isError}\r\n              />\r\n            ))}\r\n            {!isAddField && loggedInUser?.uid === ownerUid && (\r\n              <UserPageFieldForm data={getFields} setter={setGetFields} />\r\n            )}\r\n            {loggedInUser?.uid === ownerUid && (\r\n              <span className=\"userPage__ctaButton\">\r\n                <Button\r\n                  type=\"button\"\r\n                  onClick={() => setIsAddField(!isAddField)}\r\n                  variant=\"outlined\"\r\n                  color={!isAddField ? 'secondary' : 'primary'}\r\n                >\r\n                  {!isAddField ? 'Cancel' : 'Add Field'}\r\n                </Button>\r\n              </span>\r\n            )}\r\n          </>\r\n        </WithLoader>\r\n        <ToastContainer />\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { HashRouter as Router, Switch } from 'react-router-dom';\r\nimport { Routes } from './routes/Routes';\r\nimport { NotificationsProvider } from './context/NotificationProvider';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './styles/Globals.scss';\r\n\r\nconst App: React.FC = () => (\r\n  <Router basename={process.env.PUBLIC_URL}>\r\n    <NotificationsProvider>\r\n      <Switch>{Routes}</Switch>\r\n      <ToastContainer />\r\n    </NotificationsProvider>\r\n  </Router>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport './ErrorFallback.scss';\r\n\r\nexport const ErrorFallback: React.FC = () => {\r\n  const reloadPage = () => {\r\n    window.location.reload();\r\n    return false;\r\n  };\r\n\r\n  return (\r\n    <article className=\"errorFallback\">\r\n      <h1 className=\"errorFallback__title\">\r\n        Something went wrong. Refresh the page.\r\n        <SentimentVeryDissatisfiedIcon className=\"errorFallback__icon--sad\" />\r\n      </h1>\r\n      <RefreshIcon className=\"errorFallback__icon\" onClick={reloadPage} />\r\n    </article>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { ErrorFallback } from '../../pages/ErrorFallback/ErrorFallback';\r\n\r\ninterface ErrorBoundaryProps {\r\n  children: React.ReactElement;\r\n}\r\n\r\nexport class GlobalErrorBoundary extends React.Component<ErrorBoundaryProps> {\r\n  // eslint-disable-next-line react/state-in-constructor\r\n  state = {\r\n    hasError: false\r\n  };\r\n\r\n  static getDerivedStateFromError(): { hasError: boolean } {\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error: unknown, errorInfo: unknown): void {\r\n    // eslint-disable-next-line no-console\r\n    console.log(error, errorInfo);\r\n  }\r\n\r\n  render(): React.ReactElement {\r\n    const { hasError } = this.state;\r\n    const { children } = this.props;\r\n\r\n    if (hasError) {\r\n      return <ErrorFallback />;\r\n    }\r\n\r\n    return children;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { AuthProvider } from './context/AuthProvider';\r\nimport { GlobalErrorBoundary } from './components/GlobalErrorBoundary/GlobalErrorBoundary';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <GlobalErrorBoundary>\r\n      <AuthProvider>\r\n        <App />\r\n      </AuthProvider>\r\n    </GlobalErrorBoundary>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}