{"version":3,"sources":["firebase.ts","actions/customToast.tsx","shared/components/Logo/Logo.tsx","pages/FormLayout/FormLayout.tsx","actions/signInWithGooglePopup.tsx","assets/images/btn_google_signin_light_normal_web.png","components/WithLoader/WithLoader.tsx","context/AuthProvider.tsx","context/NotificationProvider.tsx","routes/DefaultRoute.tsx","pages/LoginRequired/LoginRequired.tsx","routes/ProtectedRoute.tsx","shared/components/FormField/FormField.tsx","actions/signUpWithCredentails.tsx","components/SignupForm/SignupForm.tsx","components/SignupForm/useSignupFormValidation.tsx","components/SignupForm/useFormFieldsConfig.tsx","actions/signInWithCredentials.tsx","components/LoginForm/LoginForm.tsx","components/LoginForm/useLoginFormValidation.tsx","components/LoginForm/useFormLoginFieldsConfig.tsx","assets/images/avatar_placeholder.png","components/WithError/WithError.tsx","actions/useGetUserData.tsx","actions/editProfile.tsx","actions/updateAvatar.tsx","context/DarkModeProvider.tsx","components/EditProfileForm/EditProfileForm.tsx","components/EditProfile/EditProfile.tsx","actions/followAction.tsx","components/UserDetails/UserDetails.tsx","actions/updateProfileFields.tsx","components/UserPageFieldForm/UserPageFieldForm.tsx","components/UserPageField/UserPageField.tsx","actions/useIsUserFollowed.tsx","components/SearchHint/SearchHint.tsx","components/Search/Search.tsx","components/Notification/Notification.tsx","pages/Notifications/Notifications.tsx","components/DropdownsContent/HeaderDropdown.tsx","actions/signOut.tsx","constants/Navigation.ts","components/Dropdown/Dropdown.tsx","components/NavigationIcon/NavigationIcon.tsx","components/Navigation/Navigation.tsx","constants/UserHints.ts","components/Header/Header.tsx","constants/Posts.ts","actions/useGetPosts.tsx","actions/postsFilter.tsx","components/FeedPost/FeedPost.tsx","actions/useIsContentOverflowing.tsx","components/MyPosts/MyPosts.tsx","actions/useGetUserFollows.tsx","actions/useGetUsers.tsx","components/UserCard/UserCard.tsx","components/FollowedUsers/FollowedUsers.tsx","components/RecommendedUsers/RecommendedUsers.tsx","components/CreatePost/CreatePost.tsx","actions/setPost.tsx","components/FeedList/FeedList.tsx","routes/Routes.tsx","pages/Welcome/Welcome.tsx","pages/Feed/Feed.tsx","pages/MyNetwork/MyNetwork.tsx","pages/UserPage/UserPage.tsx","App.tsx","pages/ErrorFallback/ErrorFallback.tsx","components/GlobalErrorBoundary/GlobalErrorBoundary.tsx","index.tsx"],"names":["firebaseApp","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","provider","GoogleAuthProvider","storage","defaultOptions","autoClose","position","pauseOnFocusLoss","pauseOnHover","customToast","type","text","hideProgressBar","toast","info","success","error","Logo","variant","className","FormLayout","formComponent","history","useHistory","currentUser","to","window","screen","width","onClick","signInWithPopup","then","push","signInWithGooglePopup","src","alt","WithLoader","isLoading","children","testid","CircularProgress","AuthContext","createContext","undefined","AuthProvider","useState","setCurrentUser","pending","setPending","useEffect","onAuthStateChanged","user","Provider","value","NotificationContext","data","unsubscriber","Error","NotificationsProvider","changes","setChanges","useContext","uid","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","DefaultRoute","path","render","LoginRequired","ProtectedRoute","exact","component","defaultProps","FormField","label","name","isError","errorText","onChange","TextField","helperText","inputProps","signUpWithCredentails","a","email","password","setError","createUserWithEmailAndPassword","updateProfile","displayName","set","id","headline","message","SignupForm","repeatPassword","formData","setFormData","isErrorMessageVisible","setIsErrorMessageVisible","setIsLoading","signUpFormData","initialErrorData","validateForm","trim","length","useSignupFormValidation","formFieldsConfig","useMemo","errorMessageVisible","useFormFieldsConfig","handleChange","event","target","handleSubmit","preventDefault","onSubmit","map","Button","color","disabled","signInWithCredentials","signInWithEmailAndPassword","catch","LoginForm","LoginFormData","useLoginFormValidation","useFormLoginFieldsConfig","WithError","errorMessage","useGetUserData","userUid","userData","avatar","state","setState","getUserData","get","editProfile","newData","update","updateAvatar","file","url","ref","put","getDownloadURL","avatarUrl","photoURL","console","log","DarkModeContext","DarkModeProvider","isDarkMode","setIsDarkMode","useProviderDarkMode","useDarkMode","darkMode","EditProfileForm","closeModal","initialFormData","shouldDataChange","setShouldDataChange","isNicknameNotValid","isHeadlineNotValid","files","classNames","rows","multiline","dropzoneText","dropzoneParagraphClass","acceptedFiles","filesLimit","showAlerts","onDrop","onDropRejected","Modal","setAppElement","EditProfile","isOpen","setIsModalOpen","onRequestClose","overlayClassName","IconButton","followAction","receiverUid","action","currentUserUid","userRef","receiverRef","timestamp","FieldValue","serverTimestamp","seen","delete","UserDetails","ownerUid","isMyUserDetails","isUserFollowedBy","isUserFollowing","isFollowing","setIsFollowing","isEditModalOpen","setIsEditModalOpen","AvatarPlaceholder","height","handleClick","followButtonHandler","fontSize","updateProfileFields","profileField","profileFields","arrayUnion","arrayRemove","UserPageFieldForm","setter","fieldsData","setFieldsData","fieldInputs","setFieldInputs","formTitle","setFormTitle","titleError","setTitleError","fieldError","setFieldError","fieldEntries","setFieldEntries","useParams","addField","field","checkKeyDown","code","entry","title","includes","Object","entries","every","content","fromEntries","filter","Boolean","onKeyDown","e","maxLength","placeholder","style","role","UserPageField","fieldEntry","useIsUserFollowed","currentUserId","pageUserId","setValue","getFollows","follows","exists","SearchHint","Avatar","Search","getHints","setIsSearchOpen","isSearchOpen","searchInput","setSearchInput","searchHints","setSearchHints","container","useRef","params","document","addEventListener","handleOutsideClick","current","contains","removeEventListener","minLength","debounceTimeout","hint","Notification","userId","followerId","followingSince","moment","unix","seconds","fromNow","Notifications","notifications","HeaderDropdown","signOut","navigationItems","icon","HomeIcon","SupervisorAccountIcon","NotificationsIcon","badge","Dropdown","DropdownOpener","isDropdownOpen","setIsDropdownOpen","dropdown","tabIndex","React","createElement","NavigationIcon","Icon","badgeContent","location","useLocation","pathname","Badge","Navigation","amount","setAmount","userHints","toUpperCase","slice","Header","Posts","useGetPosts","allPosts","getPosts","post","postsFilter","posts","FeedPost","seeMore","setSeeMore","isContentOverflowing","setIsContentOverflowing","handleResize","offsetHeight","scrollHeight","useIsContentOverflowing","timePassed","MyPosts","userPosts","initialAmount","postIndex","setPostIndex","isMorePosts","newAmount","useGetUserFollows","userFollows","getUserFollows","followedIds","followed","useGetUsers","users","getUsers","UserCard","isFollowed","setIsFollowed","Grow","in","timeout","FollowedUsers","isFollowsLoading","isFollowsError","followedUsers","setFollowedUsers","RecommendedUsers","recommendedUsers","setRecommendedUsers","getMoreRecommendedUsersInfo","sort","Math","random","CreatePost","postText","setPostText","isNicknameValid","size","add","setPost","FeedList","setPosts","index","setIndex","hasMore","setHasMore","isPostsLoading","isPostsError","dataLength","next","setTimeout","loader","endMessage","Routes","showRecommendedUsers","setShowRecommendedUsers","setUserData","isAddField","setIsAddField","loggedInUser","isUserFollowed","isUserPostsShowed","setIsUserPostsShowed","isOwner","App","basename","ErrorFallback","reload","GlobalErrorBoundary","hasError","errorInfo","this","props","Component","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.eb32819e.chunk.js","sourcesContent":["import firebase from 'firebase';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n};\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebaseApp.auth();\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\nconst storage = firebase.storage();\r\n\r\nexport { auth, provider, db, storage };\r\n","import { ReactText } from 'react';\r\nimport { toast, ToastOptions } from 'react-toastify';\r\n\r\ntype type = 'default' | 'info' | 'success' | 'error';\r\n\r\nconst defaultOptions: ToastOptions = {\r\n  autoClose: 2500,\r\n  position: 'bottom-right',\r\n  pauseOnFocusLoss: false,\r\n  pauseOnHover: false\r\n};\r\n\r\nexport const customToast = (type: type, text: string, hideProgressBar = true): ReactText => {\r\n  switch (type) {\r\n    case 'default':\r\n      return toast(text, { ...defaultOptions, hideProgressBar });\r\n    case 'info':\r\n      return toast.info(text, { ...defaultOptions, hideProgressBar });\r\n    case 'success':\r\n      return toast.success(text, { ...defaultOptions, hideProgressBar });\r\n    case 'error':\r\n      return toast.error(text, { ...defaultOptions, hideProgressBar });\r\n    default:\r\n      return toast(text, { ...defaultOptions, hideProgressBar });\r\n  }\r\n};\r\n","import React from 'react';\r\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\r\nimport './Logo.scss';\r\n\r\nexport interface LogoProps {\r\n  variant: 'small' | 'medium' | 'big';\r\n}\r\n\r\nexport const Logo: React.FC<LogoProps> = ({ variant }: LogoProps) => (\r\n  <p className={`logo logo--${variant}`}>\r\n    <span className=\"logo__text\">Linked</span>\r\n    <LinkedInIcon className=\"logo__icon\" />\r\n  </p>\r\n);\r\n","import React, { ReactNode } from 'react';\r\nimport { useHistory, Redirect } from 'react-router-dom';\r\nimport { signInWithGooglePopup } from '../../actions/signInWithGooglePopup';\r\nimport { Logo } from '../../shared/components/Logo/Logo';\r\nimport GoogleButtonImage from '../../assets/images/btn_google_signin_light_normal_web.png';\r\nimport { auth } from '../../firebase';\r\nimport './FormLayout.scss';\r\nimport '../../styles/FormStyles.scss';\r\n\r\ninterface FormLayoutProps {\r\n  formComponent: ReactNode;\r\n}\r\n\r\nexport const FormLayout: React.FC<FormLayoutProps> = ({ formComponent }: FormLayoutProps) => {\r\n  const history = useHistory();\r\n  const { currentUser } = auth;\r\n\r\n  if (currentUser) {\r\n    return <Redirect to=\"/feed\" />;\r\n  }\r\n\r\n  return (\r\n    <main className=\"formLayout__container\">\r\n      <Logo variant={window.screen.width < 281 ? 'small' : 'medium'} />\r\n      {formComponent}\r\n      <button\r\n        className=\"formLayout__signInGoogleButton\"\r\n        type=\"button\"\r\n        aria-label=\"Sign in with Google\"\r\n        onClick={() => signInWithGooglePopup({ history })}\r\n      >\r\n        <img src={GoogleButtonImage} alt=\"Sign in with google\" />\r\n      </button>\r\n    </main>\r\n  );\r\n};\r\n","import { History, LocationState } from 'history';\r\nimport { auth, provider } from '../firebase';\r\nimport { customToast } from './customToast';\r\n\r\ninterface SignInWithGoogle {\r\n  history: History<LocationState>;\r\n}\r\n\r\nexport const signInWithGooglePopup = ({ history }: SignInWithGoogle): void => {\r\n  auth.signInWithPopup(provider).then(() => {\r\n    history.push('/feed');\r\n    customToast('success', 'Successfully Sign In with Google');\r\n  });\r\n};\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { CircularProgress } from '@material-ui/core';\r\n\r\ninterface LoaderProps {\r\n  isLoading: boolean;\r\n  children?: React.ReactElement;\r\n  className?: string;\r\n  testid?: string;\r\n}\r\n\r\nexport const WithLoader: React.FC<LoaderProps> = ({ isLoading, children, className, testid }) => {\r\n  if (isLoading) {\r\n    return (\r\n      <div className={className} data-testid={testid}>\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!children) {\r\n    return null;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nWithLoader.propTypes = {\r\n  isLoading: PropTypes.bool.isRequired,\r\n  children: PropTypes.element.isRequired,\r\n  className: PropTypes.string,\r\n  testid: PropTypes.string\r\n};\r\n","import React, { useState, useEffect, createContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { WithLoader } from '../components/WithLoader/WithLoader';\r\nimport { auth } from '../firebase';\r\nimport '../styles/GlobalLoader.scss';\r\n\r\ninterface AuthProviderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const AuthContext = createContext<firebase.default.User | undefined | null>(undefined);\r\n\r\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState<firebase.default.User | null>(null);\r\n  const [pending, setPending] = useState(true);\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user);\r\n      setPending(false);\r\n    });\r\n  }, []);\r\n\r\n  if (pending) {\r\n    return <WithLoader isLoading className=\"globalLoader\" />;\r\n  }\r\n\r\n  return <AuthContext.Provider value={currentUser}>{children}</AuthContext.Provider>;\r\n};\r\n\r\nAuthProvider.propTypes = {\r\n  children: PropTypes.element.isRequired\r\n};\r\n","import React, { createContext, useEffect, useState, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { db } from '../firebase';\r\nimport { AuthContext } from './AuthProvider';\r\n\r\nexport type NotificationsStateType = {\r\n  data: firebase.default.firestore.DocumentData[];\r\n  unsubscriber: () => unknown;\r\n};\r\n\r\ninterface INotifications {\r\n  children: JSX.Element | JSX.Element[];\r\n}\r\n\r\nexport const NotificationContext = createContext<NotificationsStateType | undefined>({\r\n  data: [],\r\n  unsubscriber: () => {\r\n    throw new Error('unsubscriber must be overriden');\r\n  }\r\n});\r\n\r\nexport const NotificationsProvider: React.FC<INotifications> = ({ children }) => {\r\n  const [changes, setChanges] = useState<NotificationsStateType>({\r\n    data: [],\r\n    unsubscriber: () => {\r\n      throw new Error('unsubscriber must be overriden');\r\n    }\r\n  });\r\n  const user = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    if (user && user.uid) {\r\n      const unsubscribe = db\r\n        .collection('users')\r\n        .doc(user.uid)\r\n        .collection('followers')\r\n        .orderBy('timestamp', 'desc')\r\n        .onSnapshot(snapshot => {\r\n          setChanges({ data: snapshot.docs, unsubscriber: unsubscribe });\r\n        });\r\n    }\r\n  }, [user]);\r\n\r\n  return <NotificationContext.Provider value={changes}>{children}</NotificationContext.Provider>;\r\n};\r\n\r\nNotificationsProvider.propTypes = {\r\n  children: PropTypes.element.isRequired\r\n};\r\n","import React, { useContext } from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { AuthContext } from '../context/AuthProvider';\r\n\r\nexport const DefaultRoute: React.FC = () => {\r\n  const user = useContext(AuthContext);\r\n\r\n  return (\r\n    <Route\r\n      path=\"/\"\r\n      render={() => {\r\n        if (user === undefined) {\r\n          return <CircularProgress />;\r\n        }\r\n\r\n        if (user) {\r\n          return <Redirect to=\"/feed\" />;\r\n        }\r\n\r\n        return <Redirect to=\"/\" />;\r\n      }}\r\n    />\r\n  );\r\n};\r\n","import React from 'react';\r\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied';\r\nimport { Link } from 'react-router-dom';\r\nimport './LoginRequired.scss';\r\n\r\nexport const LoginRequired: React.FC = () => (\r\n  <article className=\"loginRequired\">\r\n    <h1 className=\"loginRequired__title\">To visit this page you need to login first!</h1>\r\n    <SentimentVeryDissatisfiedIcon className=\"loginRequired__icon\" />\r\n    <div className=\"loginRequired__wrapper\">\r\n      <p className=\"loginRequired__hint\">Already have an account?</p>\r\n      <Link to=\"/signin\" className=\"loginRequired__link\">\r\n        Sign in!\r\n      </Link>\r\n    </div>\r\n    <div className=\"loginRequired__wrapper\">\r\n      <p className=\"loginRequired__hint\">Don&apos;t have an account?</p>\r\n      <Link to=\"/signup\" className=\"loginRequired__link\">\r\n        Sign up!\r\n      </Link>\r\n    </div>\r\n  </article>\r\n);\r\n","import React, { useContext } from 'react';\r\nimport { Route, RouteProps } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { AuthContext } from '../context/AuthProvider';\r\nimport { LoginRequired } from '../pages/LoginRequired/LoginRequired';\r\n\r\nexport const ProtectedRoute: React.FC<RouteProps> = ({ exact, path, component }) => {\r\n  const user = useContext(AuthContext);\r\n\r\n  if (user) {\r\n    return <Route exact={exact} path={path} component={component} />;\r\n  }\r\n  return <LoginRequired />;\r\n};\r\n\r\nProtectedRoute.defaultProps = {\r\n  exact: true,\r\n  component: undefined\r\n};\r\n\r\nProtectedRoute.propTypes = {\r\n  exact: PropTypes.bool,\r\n  path: PropTypes.string.isRequired,\r\n  component: PropTypes.func\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { TextField } from '@material-ui/core';\r\nimport { FormFieldConfigInterface } from '../../interfaces/FormInterfaces';\r\n\r\nexport type FormFieldInterface = FormFieldConfigInterface & {\r\n  className?: string;\r\n  onClick: (event: React.MouseEvent<HTMLDivElement>) => void;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n};\r\n\r\nexport const FormField: React.FC<FormFieldInterface> = ({\r\n  label,\r\n  type,\r\n  name,\r\n  isError,\r\n  errorText,\r\n  value,\r\n  className,\r\n  onClick,\r\n  onChange\r\n}: FormFieldInterface) => (\r\n  <TextField\r\n    variant=\"standard\"\r\n    label={label}\r\n    type={type}\r\n    name={name}\r\n    error={isError}\r\n    helperText={errorText}\r\n    value={value}\r\n    className={className}\r\n    onClick={onClick}\r\n    onChange={onChange}\r\n    inputProps={{\r\n      'data-testid': name\r\n    }}\r\n  />\r\n);\r\n\r\nFormField.defaultProps = {\r\n  className: ''\r\n};\r\n\r\nFormField.propTypes = {\r\n  label: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  isError: PropTypes.bool.isRequired,\r\n  errorText: PropTypes.string.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n  onClick: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired\r\n};\r\n","import { History, LocationState } from 'history';\r\nimport { auth, db } from '../firebase';\r\nimport { ErrorInterface, SignupCredentials } from '../shared/interfaces/FormInterfaces';\r\nimport { customToast } from './customToast';\r\n\r\ntype SignUpWithCredentailsInterface = SignupCredentials & {\r\n  history: History<LocationState>;\r\n  setError: React.Dispatch<React.SetStateAction<ErrorInterface>>;\r\n};\r\n\r\nexport const signUpWithCredentails = async ({\r\n  email,\r\n  password,\r\n  name,\r\n  history,\r\n  setError\r\n}: SignUpWithCredentailsInterface): Promise<void> => {\r\n  try {\r\n    await auth.createUserWithEmailAndPassword(email, password);\r\n    await auth.currentUser?.updateProfile({\r\n      displayName: name\r\n    });\r\n    await db.collection('users').doc(auth.currentUser?.uid).set({\r\n      displayName: name,\r\n      id: auth.currentUser?.uid,\r\n      headline: ''\r\n    });\r\n    history.push('/feed');\r\n    customToast('success', 'Successfully Sign Up');\r\n  } catch (err) {\r\n    setError({\r\n      isError: true,\r\n      errorText: err.message\r\n    });\r\n  }\r\n};\r\n","import React, { useState, useMemo } from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { SignUpCredentialsInterface, ErrorMessageSignupVisibleInterface } from '../../shared/interfaces/FormInterfaces';\r\nimport { useSignupFormValidation } from './useSignupFormValidation';\r\nimport { useFormFieldsConfig } from './useFormFieldsConfig';\r\nimport { FormField } from '../../shared/components/FormField/FormField';\r\nimport { signUpWithCredentails } from '../../actions/signUpWithCredentails';\r\n\r\nexport const SignupForm: React.FC = () => {\r\n  const history = useHistory();\r\n  const [formData, setFormData] = useState<SignUpCredentialsInterface>({\r\n    name: '',\r\n    password: '',\r\n    repeatPassword: '',\r\n    email: ''\r\n  });\r\n  const [isErrorMessageVisible, setIsErrorMessageVisible] = useState<ErrorMessageSignupVisibleInterface>({\r\n    name: false,\r\n    email: false,\r\n    password: false,\r\n    repeatPassword: false\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { error, setError, validateForm } = useSignupFormValidation(formData);\r\n  const formFieldsConfig = useMemo(\r\n    () => useFormFieldsConfig(formData, isErrorMessageVisible),\r\n    [formData, isErrorMessageVisible]\r\n  );\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (event: React.ChangeEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    if (validateForm()) {\r\n      const { email, password, name } = formData;\r\n      await signUpWithCredentails({ email, password, name, history, setError });\r\n    }\r\n\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"formLayout__form\">\r\n      <h1 className=\"formLayout__text\">Sign up</h1>\r\n      <form className=\"form__container\" data-testid=\"signupForm\" onSubmit={handleSubmit}>\r\n        {formFieldsConfig.map(({ label, type, name, isError, errorText, value }) => (\r\n          <FormField\r\n            key={name}\r\n            label={label}\r\n            type={type}\r\n            name={name}\r\n            isError={isError}\r\n            errorText={errorText}\r\n            value={value}\r\n            className=\"form__input\"\r\n            // eslint-disable-next-line\r\n            onClick={(event: React.MouseEvent<HTMLDivElement>) =>\r\n              setIsErrorMessageVisible({ ...isErrorMessageVisible, [name]: true })\r\n            }\r\n            onChange={handleChange}\r\n          />\r\n        ))}\r\n        {error.isError && <p className=\"form__error\">{error.errorText}</p>}\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className=\"form__submit\"\r\n          type=\"submit\"\r\n          disabled={isLoading}\r\n          datatest-id=\"signup_button\"\r\n        >\r\n          Register\r\n        </Button>\r\n      </form>\r\n      <p className=\"hint\">\r\n        Already have an account?{' '}\r\n        <Link className=\"cta__button\" to=\"/signIn\">\r\n          Sign in!\r\n        </Link>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n","import { useState } from 'react';\r\nimport { SignUpCredentialsInterface, ErrorInterface } from '../../shared/interfaces/FormInterfaces';\r\nimport { ValidationInterface } from '../../shared/interfaces/ValidationInterfaces';\r\n\r\nexport const useSignupFormValidation = (signUpFormData: SignUpCredentialsInterface): ValidationInterface => {\r\n  const initialErrorData: ErrorInterface = {\r\n    isError: false,\r\n    errorText: ''\r\n  };\r\n  const [error, setError] = useState(initialErrorData);\r\n\r\n  const validateForm = (): boolean => {\r\n    const { name, email, password, repeatPassword } = signUpFormData;\r\n\r\n    const isAnyEmpty = () => {\r\n      if (name.trim() === '' || email.trim() === '' || password.trim() === '' || repeatPassword.trim() === '') {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    const isNicknameNotValid = () => {\r\n      if (name.length < 3 || name.length > 30) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    const isPasswordNotValid = () => {\r\n      if (password.length < 8) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    const isPasswordNotMatch = () => {\r\n      if (password !== repeatPassword) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    if (isAnyEmpty()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: \"Fields can't be empty\"\r\n      });\r\n      return false;\r\n    }\r\n\r\n    if (isNicknameNotValid()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: 'Nickname must be longer than 3 characters and shorter than 30 characters'\r\n      });\r\n      return false;\r\n    }\r\n\r\n    if (isPasswordNotValid()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: 'Password must be at least 8 characters'\r\n      });\r\n      return false;\r\n    }\r\n\r\n    if (isPasswordNotMatch()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: 'Passwords must match'\r\n      });\r\n      return false;\r\n    }\r\n\r\n    setError(initialErrorData);\r\n    return true;\r\n  };\r\n\r\n  return {\r\n    error,\r\n    setError,\r\n    validateForm\r\n  };\r\n};\r\n","import {\r\n  SignUpCredentialsInterface,\r\n  FormFieldConfigInterface,\r\n  ErrorMessageSignupVisibleInterface\r\n} from '../../shared/interfaces/FormInterfaces';\r\n\r\nexport const useFormFieldsConfig = (\r\n  formData: SignUpCredentialsInterface,\r\n  errorMessageVisible: ErrorMessageSignupVisibleInterface\r\n): FormFieldConfigInterface[] => [\r\n  {\r\n    label: 'Email',\r\n    type: 'email',\r\n    name: 'email',\r\n    isError: formData.email === '' && errorMessageVisible.email,\r\n    errorText: formData.email === '' && errorMessageVisible.email ? \"Email can't be empty\" : ' ',\r\n    value: formData.email\r\n  },\r\n  {\r\n    label: 'Password',\r\n    type: 'password',\r\n    name: 'password',\r\n    isError: formData.password === '' && errorMessageVisible.password,\r\n    errorText: formData.password === '' && errorMessageVisible.password ? \"Password can't be empty\" : ' ',\r\n    value: formData.password\r\n  },\r\n  {\r\n    label: 'Repeat password',\r\n    type: 'password',\r\n    name: 'repeatPassword',\r\n    isError: formData.repeatPassword === '' && errorMessageVisible.repeatPassword,\r\n    errorText:\r\n      formData.repeatPassword === '' && errorMessageVisible.repeatPassword ? \"Repeat Password can't be empty\" : ' ',\r\n    value: formData.repeatPassword\r\n  },\r\n  {\r\n    label: 'Nickname',\r\n    type: 'text',\r\n    name: 'name',\r\n    isError: formData.name === '' && errorMessageVisible.name,\r\n    errorText: formData.name === '' && errorMessageVisible.name ? \"Nickname can't be empty\" : ' ',\r\n    value: formData.name\r\n  }\r\n];\r\n","import { History, LocationState } from 'history';\r\nimport { auth } from '../firebase';\r\nimport { ErrorInterface } from '../shared/interfaces/FormInterfaces';\r\nimport { customToast } from './customToast';\r\n\r\ninterface signInWithCredentials {\r\n  email: string;\r\n  password: string;\r\n  setError: React.Dispatch<React.SetStateAction<ErrorInterface>>;\r\n  history: History<LocationState>;\r\n}\r\n\r\n// eslint-disable-next-line\r\nexport const signInWithCredentials = ({ email, password, setError, history }: signInWithCredentials): Promise<void> =>\r\n  auth\r\n    .signInWithEmailAndPassword(email, password)\r\n    .then(() => {\r\n      history.push('/feed');\r\n      customToast('success', 'Successfully Sign In');\r\n    })\r\n    .catch(error => {\r\n      setError({\r\n        isError: true,\r\n        errorText: error.message\r\n      });\r\n    });\r\n","import React, { useState, useMemo } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport { LoginCredentialsInterface, ErrorMessageLoginVisibleInterface } from '../../shared/interfaces/FormInterfaces';\r\nimport { useLoginFormValidation } from './useLoginFormValidation';\r\nimport { useFormLoginFieldsConfig } from './useFormLoginFieldsConfig';\r\nimport { FormField } from '../../shared/components/FormField/FormField';\r\nimport { signInWithCredentials } from '../../actions/signInWithCredentials';\r\n\r\nexport const LoginForm: React.FC = () => {\r\n  const history = useHistory();\r\n  const [formData, setFormData] = useState<LoginCredentialsInterface>({\r\n    password: '',\r\n    email: ''\r\n  });\r\n  const [isErrorMessageVisible, setIsErrorMessageVisible] = useState<ErrorMessageLoginVisibleInterface>({\r\n    email: false,\r\n    password: false\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { error, setError, validateForm } = useLoginFormValidation(formData);\r\n  const formFieldsConfig = useMemo(\r\n    () => useFormLoginFieldsConfig(formData, isErrorMessageVisible),\r\n    [formData, isErrorMessageVisible]\r\n  );\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (event: React.ChangeEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    if (validateForm()) {\r\n      const { email, password } = formData;\r\n      await signInWithCredentials({ email, password, setError, history });\r\n    }\r\n\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"formLayout__form\">\r\n      <h1 className=\"formLayout__text\">Sign in</h1>\r\n      <form className=\"form__container\" onSubmit={handleSubmit}>\r\n        {formFieldsConfig.map(({ label, type, name, isError, errorText, value }) => (\r\n          <FormField\r\n            key={name}\r\n            label={label}\r\n            type={type}\r\n            name={name}\r\n            isError={isError}\r\n            errorText={errorText}\r\n            className=\"form__input\"\r\n            // eslint-disable-next-line\r\n            onClick={(event: React.MouseEvent<HTMLDivElement>) => {\r\n              setIsErrorMessageVisible({ ...isErrorMessageVisible, [name]: true });\r\n            }}\r\n            value={value}\r\n            onChange={handleChange}\r\n          />\r\n        ))}\r\n        {error.isError && <p className=\"form__error\">{error.errorText}</p>}\r\n        <Button\r\n          data-testid=\"signin_button\"\r\n          className=\"form__submit\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          disabled={isLoading}\r\n          type=\"submit\"\r\n        >\r\n          Sign in\r\n        </Button>\r\n      </form>\r\n      <p className=\"hint\">\r\n        Don&apos;t have an account?\r\n        <Link to=\"/signUp\" className=\"cta__button\">\r\n          Sign up!\r\n        </Link>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n","import { useState } from 'react';\r\nimport { LoginCredentialsInterface, ErrorInterface } from '../../shared/interfaces/FormInterfaces';\r\nimport { ValidationInterface } from '../../shared/interfaces/ValidationInterfaces';\r\n\r\nexport const useLoginFormValidation = (LoginFormData: LoginCredentialsInterface): ValidationInterface => {\r\n  const initialErrorData: ErrorInterface = {\r\n    isError: false,\r\n    errorText: ''\r\n  };\r\n  const [error, setError] = useState(initialErrorData);\r\n\r\n  const validateForm = (): boolean => {\r\n    const { email, password } = LoginFormData;\r\n\r\n    const isAnyEmpty = () => email.trim() === '' || password.trim() === '';\r\n\r\n    if (isAnyEmpty()) {\r\n      setError({\r\n        isError: true,\r\n        errorText: \"Fields can't be empty\"\r\n      });\r\n      return false;\r\n    }\r\n\r\n    setError(initialErrorData);\r\n    return true;\r\n  };\r\n\r\n  return {\r\n    error,\r\n    setError,\r\n    validateForm\r\n  };\r\n};\r\n","import {\r\n  ErrorMessageLoginVisibleInterface,\r\n  LoginCredentialsInterface,\r\n  FormFieldConfigInterface\r\n} from '../../shared/interfaces/FormInterfaces';\r\n\r\nexport const useFormLoginFieldsConfig = (\r\n  formData: LoginCredentialsInterface,\r\n  errorMessageVisible: ErrorMessageLoginVisibleInterface\r\n): FormFieldConfigInterface[] => [\r\n  {\r\n    label: 'E-mail',\r\n    type: 'email',\r\n    name: 'email',\r\n    isError: formData.email === '' && errorMessageVisible.email,\r\n    errorText: formData.email === '' && errorMessageVisible.email ? \"Email can't be empty\" : ' ',\r\n    value: formData.email\r\n  },\r\n  {\r\n    label: 'Password',\r\n    type: 'password',\r\n    name: 'password',\r\n    isError: formData.password === '' && errorMessageVisible.password,\r\n    errorText: formData.password === '' && errorMessageVisible.password ? \"Password can't be empty\" : ' ',\r\n    value: formData.password\r\n  }\r\n];\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\ninterface ErrorProps {\r\n  isError: boolean;\r\n  errorMessage: string;\r\n  children?: React.ReactElement;\r\n  className?: string;\r\n  testid?: string;\r\n}\r\n\r\nexport const WithError: React.FC<ErrorProps> = ({ isError, errorMessage, children, className, testid }) => {\r\n  if (isError) {\r\n    return (\r\n      <p className={className} data-testid={testid}>\r\n        {errorMessage}\r\n      </p>\r\n    );\r\n  }\r\n\r\n  if (!children) {\r\n    return null;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nWithError.propTypes = {\r\n  isError: PropTypes.bool.isRequired,\r\n  errorMessage: PropTypes.string.isRequired,\r\n  children: PropTypes.element,\r\n  className: PropTypes.string,\r\n  testid: PropTypes.string\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { User } from '../shared/interfaces/UserInterfaces';\r\nimport { db } from '../firebase';\r\n\r\ninterface GetUserData {\r\n  userData: User;\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n}\r\n\r\nexport const useGetUserData = (userUid: string): GetUserData => {\r\n  const [state, setState] = useState<GetUserData>({\r\n    userData: {\r\n      displayName: '',\r\n      headline: '',\r\n      avatar: '',\r\n      id: ''\r\n    },\r\n    isLoading: true,\r\n    isError: false\r\n  });\r\n\r\n  const getUserData = async () => {\r\n    try {\r\n      const userData = (await db.collection('users').doc(userUid).get()).data();\r\n      setState({ ...state, isLoading: false, userData: userData as User });\r\n    } catch (error) {\r\n      setState({ ...state, isError: true, isLoading: false });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUserData();\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n","import { auth, db } from '../firebase';\r\nimport { User } from '../shared/interfaces/UserInterfaces';\r\nimport { customToast } from './customToast';\r\n\r\nexport const editProfile = async (userUid: string, newData: User): Promise<void> => {\r\n  try {\r\n    await auth.currentUser?.updateProfile(newData);\r\n    await db\r\n      .collection('users')\r\n      .doc(userUid)\r\n      .update(newData)\r\n      .then(() => customToast('success', 'Profilsuccessfully edited'));\r\n  } catch (error) {\r\n    // eslint-disable-next-line\r\n    customToast('error', 'There was a problem with Editing Your Profile');\r\n  }\r\n};\r\n","import { auth, db, storage } from '../firebase';\r\n\r\nexport const updateAvatar = async (userUid: string, file: File): Promise<void> => {\r\n  try {\r\n    const url = `users/${userUid}/profile.jpg`;\r\n    await storage.ref(url).put(file);\r\n    const avatarUrl = await storage.ref(url).getDownloadURL();\r\n    await db.collection('users').doc(userUid).update({\r\n      avatar: avatarUrl\r\n    });\r\n    await auth.currentUser?.updateProfile({\r\n      photoURL: avatarUrl\r\n    });\r\n  } catch (error) {\r\n    // eslint-disable-next-line\r\n    console.log(error);\r\n  }\r\n};\r\n","import React, { useState, createContext, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\ninterface DarkModeProviderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst useProviderDarkMode = () => {\r\n  const [isDarkMode, setIsDarkMode] = useState(false);\r\n  return { isDarkMode, setIsDarkMode };\r\n};\r\n\r\ntype DarkModeContextData = ReturnType<typeof useProviderDarkMode>;\r\n\r\nexport const DarkModeContext = createContext<DarkModeContextData | null>(null);\r\n\r\nexport const DarkModeProvider: React.FC<DarkModeProviderProps> = ({ children }) => {\r\n  const value = useProviderDarkMode();\r\n  return <DarkModeContext.Provider value={value}>{children}</DarkModeContext.Provider>;\r\n};\r\n\r\nexport const useDarkMode: () => DarkModeContextData = () => {\r\n  const darkMode = useContext(DarkModeContext);\r\n  if (!darkMode) {\r\n    throw new Error('useDarkMode must be used inside DarkModeProvider');\r\n  }\r\n  return darkMode;\r\n};\r\n\r\nDarkModeProvider.propTypes = {\r\n  children: PropTypes.element.isRequired\r\n};\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport { DropzoneArea } from 'material-ui-dropzone';\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport { useGetUserData } from '../../actions/useGetUserData';\r\nimport { editProfile } from '../../actions/editProfile';\r\nimport { updateAvatar } from '../../actions/updateAvatar';\r\nimport { User } from '../../shared/interfaces/UserInterfaces';\r\nimport { customToast } from '../../actions/customToast';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './EditProfileForm.scss';\r\n\r\ninterface EditProfileFormProps {\r\n  closeModal: () => void;\r\n}\r\n\r\nexport const EditProfileForm: React.FC<EditProfileFormProps> = ({ closeModal }) => {\r\n  const MIN_NICKNAME_CHARACTERS = 3;\r\n  const MAX_NICKNAME_CHARACTERS = 30;\r\n  const MAX_HEADLINE_CHARACTERS = 30;\r\n  const initialFormData = {\r\n    displayName: '',\r\n    headline: ''\r\n  };\r\n  const currentUser = useContext(AuthContext);\r\n  const [shouldDataChange, setShouldDataChange] = useState(false);\r\n  const [formData, setFormData] = useState(initialFormData);\r\n  const { isDarkMode } = useDarkMode();\r\n  const { userData, isLoading, isError } = useGetUserData(currentUser?.uid as string);\r\n\r\n  useEffect(() => {\r\n    setFormData(userData);\r\n    return () => setFormData(initialFormData);\r\n  }, [userData]);\r\n\r\n  const isNicknameNotValid =\r\n    formData.displayName.trim() === '' ||\r\n    formData.displayName.length < MIN_NICKNAME_CHARACTERS ||\r\n    formData.displayName.length > MAX_NICKNAME_CHARACTERS;\r\n  const isHeadlineNotValid = formData.headline.length >= MAX_HEADLINE_CHARACTERS;\r\n\r\n  const validateForm = (): boolean => !isNicknameNotValid && !isHeadlineNotValid;\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n    setFormData({ ...formData, [name]: value });\r\n    setShouldDataChange(true);\r\n  };\r\n\r\n  const handleSubmit = (event: React.ChangeEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    if (validateForm()) {\r\n      if (event.target.avatar.files[0]) {\r\n        updateAvatar(currentUser?.uid as string, event.target.avatar.files[0]);\r\n      }\r\n      editProfile(currentUser?.uid as string, formData as User);\r\n      setShouldDataChange(false);\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  const rejectFiles = () => {\r\n    customToast('error', 'Enter image with correct extension', false);\r\n  };\r\n\r\n  return (\r\n    <WithLoader isLoading={isLoading}>\r\n      <WithError isError={isError} errorMessage=\"Something went wrong please try again...\">\r\n        <form className=\"editForm\" onSubmit={handleSubmit}>\r\n          <TextField\r\n            className={classNames('editForm__field', { 'editForm__field--dark': isDarkMode })}\r\n            variant=\"outlined\"\r\n            label=\"Enter new name\"\r\n            type=\"text\"\r\n            name=\"displayName\"\r\n            id=\"displayName\"\r\n            error={isNicknameNotValid}\r\n            helperText={\r\n              isNicknameNotValid ? 'Nickname must be longer than 3 characters and shorter than 30 characters' : ''\r\n            }\r\n            value={formData.displayName}\r\n            onChange={handleChange}\r\n            data-testid=\"displayName\"\r\n          />\r\n          <TextField\r\n            className={classNames('editForm__field', { 'editForm__field--dark': isDarkMode })}\r\n            variant=\"outlined\"\r\n            label=\"Enter new headline\"\r\n            type=\"text\"\r\n            name=\"headline\"\r\n            id=\"headline\"\r\n            error={isHeadlineNotValid}\r\n            helperText={isHeadlineNotValid ? 'Headline must be shorter than 30 characters' : ''}\r\n            value={formData.headline}\r\n            onChange={handleChange}\r\n            rows={2}\r\n            multiline\r\n            data-testid=\"bio\"\r\n          />\r\n          <DropzoneArea\r\n            dropzoneText=\"Enter new avatar\"\r\n            dropzoneParagraphClass=\"dropzone__text\"\r\n            acceptedFiles={['image/*']}\r\n            filesLimit={1}\r\n            showAlerts={false}\r\n            onDrop={() => setShouldDataChange(true)}\r\n            onDropRejected={rejectFiles}\r\n            inputProps={{\r\n              id: 'avatar',\r\n              name: 'avatar'\r\n            }}\r\n          />\r\n          <Button variant=\"contained\" color=\"primary\" type=\"submit\" disabled={!shouldDataChange}>\r\n            Edit\r\n          </Button>\r\n        </form>\r\n      </WithError>\r\n    </WithLoader>\r\n  );\r\n};\r\n\r\nEditProfileForm.propTypes = {\r\n  closeModal: PropTypes.func.isRequired\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport Modal from 'react-modal';\r\nimport { IconButton } from '@material-ui/core';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport { EditProfileForm } from '../EditProfileForm/EditProfileForm';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './EditProfile.scss';\r\n\r\nModal.setAppElement('#root');\r\n\r\ninterface EditProfileProps {\r\n  isOpen: boolean;\r\n  setIsModalOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport const EditProfile: React.FC<EditProfileProps> = ({ isOpen, setIsModalOpen }) => {\r\n  const { isDarkMode } = useDarkMode();\r\n\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className={classNames('modal', { 'modal--dark': isDarkMode })}\r\n      isOpen={isOpen}\r\n      onRequestClose={closeModal}\r\n      overlayClassName=\"overlay\"\r\n      data-testId=\"editProfileModal\"\r\n    >\r\n      <p className=\"modal__title\">Edit your profile</p>\r\n      <EditProfileForm closeModal={closeModal} />\r\n      <section className=\"modal__close\">\r\n        <IconButton onClick={closeModal} className=\"modal__closeButton\">\r\n          <CancelIcon />\r\n        </IconButton>\r\n      </section>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nEditProfile.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setIsModalOpen: PropTypes.func.isRequired\r\n};\r\n","import * as firebase from 'firebase';\r\nimport { auth, db } from '../firebase';\r\nimport { customToast } from './customToast';\r\n\r\ntype action = 'follow' | 'unfollow';\r\n\r\nexport const followAction = async (receiverUid: string, displayName: string, action: action): Promise<void> => {\r\n  const currentUserUid = auth.currentUser?.uid;\r\n  const userRef = db.collection('users').doc(currentUserUid).collection('followed').doc(receiverUid);\r\n  const receiverRef = db.collection('users').doc(receiverUid).collection('followers').doc(currentUserUid);\r\n  switch (action) {\r\n    case 'follow':\r\n      try {\r\n        await userRef.set({\r\n          timestamp: firebase.default.firestore.FieldValue.serverTimestamp(),\r\n          seen: false\r\n        });\r\n        await receiverRef.set({\r\n          timestamp: firebase.default.firestore.FieldValue.serverTimestamp(),\r\n          seen: false\r\n        });\r\n        customToast('default', `Followed ${displayName} `);\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n        console.log(error);\r\n      }\r\n      break;\r\n    case 'unfollow':\r\n      try {\r\n        await userRef.delete();\r\n        await receiverRef.delete();\r\n        customToast('default', `Unfollowed ${displayName} `);\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n        console.log(error);\r\n      }\r\n      break;\r\n    default:\r\n      throw new Error();\r\n  }\r\n};\r\n","import React, { useState } from 'react';\r\nimport classNames from 'classnames';\r\nimport { Button } from '@material-ui/core';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport AvatarPlaceholder from '../../assets/images/avatar_placeholder.png';\r\nimport { EditProfile } from '../EditProfile/EditProfile';\r\nimport { followAction } from '../../actions/followAction';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './UserDetails.scss';\r\n\r\ninterface UserDetailsProps {\r\n  ownerUid: string;\r\n  displayName: string;\r\n  headline?: string;\r\n  avatar: string;\r\n  isMyUserDetails: boolean;\r\n  isUserFollowedBy: boolean;\r\n  isUserFollowing: boolean;\r\n}\r\n\r\nexport const UserDetails: React.FC<UserDetailsProps> = ({\r\n  ownerUid,\r\n  displayName,\r\n  headline,\r\n  avatar,\r\n  isMyUserDetails,\r\n  isUserFollowedBy,\r\n  isUserFollowing\r\n}: UserDetailsProps) => {\r\n  const [isFollowing, setIsFollowing] = useState(isUserFollowing);\r\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n  const { isDarkMode } = useDarkMode();\r\n\r\n  const handleClick = (action: 'follow' | 'unfollow') => {\r\n    followAction(ownerUid, displayName, action);\r\n    setIsFollowing(!isFollowing);\r\n  };\r\n\r\n  const followButtonHandler = () => {\r\n    const action = isFollowing ? 'unfollow' : 'follow';\r\n    const text = isUserFollowedBy ? 'follow back' : 'follow';\r\n\r\n    return (\r\n      <button type=\"button\" className=\"userDetails__followButton\" onClick={() => handleClick(action)}>\r\n        {isFollowing ? 'unfollow' : text}\r\n      </button>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <section className={classNames('userDetails', { 'userDetails--dark': isDarkMode })}>\r\n      <img\r\n        className=\"userDetails__avatar\"\r\n        src={avatar || AvatarPlaceholder}\r\n        alt=\"User Avatar\"\r\n        width=\"164px\"\r\n        height=\"164px\"\r\n      />\r\n      <div className=\"userDetails__info\">\r\n        <header className=\"userDetails__name\">\r\n          {displayName}{' '}\r\n          {isMyUserDetails ? (\r\n            <span aria-label=\"editButton\" className=\"userDetails__edit\">\r\n              <Button\r\n                onClick={() => {\r\n                  setIsEditModalOpen(true);\r\n                }}\r\n              >\r\n                <EditIcon className={classNames('userDetails__icon', { 'userDetails__icon--dark': isDarkMode })} />\r\n              </Button>\r\n            </span>\r\n          ) : (\r\n            followButtonHandler()\r\n          )}\r\n        </header>\r\n        {isUserFollowedBy && (\r\n          <p className=\"userDetails__flare\">\r\n            <CheckCircleIcon fontSize=\"inherit\" /> User is following you\r\n          </p>\r\n        )}\r\n        <p className=\"userDetails__bio\">{headline}</p>\r\n      </div>\r\n      <EditProfile isOpen={isEditModalOpen} setIsModalOpen={setIsEditModalOpen} />\r\n    </section>\r\n  );\r\n};\r\n\r\nUserDetails.defaultProps = {\r\n  headline: ''\r\n};\r\n","import * as firebase from 'firebase';\r\nimport { auth, db } from '../firebase';\r\nimport { fields } from '../shared/interfaces/ProfileFieldInterfaces';\r\nimport { customToast } from './customToast';\r\n\r\ntype action = 'update' | 'delete';\r\n\r\nexport const updateProfileFields = async (profileField: fields, action): Promise<void> => {\r\n  const currentUserUid = auth.currentUser?.uid;\r\n  const userRef = db.collection('users').doc(currentUserUid);\r\n\r\n  switch (action) {\r\n    case 'update':\r\n      try {\r\n        await userRef\r\n          .update({\r\n            profileFields: firebase.default.firestore.FieldValue.arrayUnion(profileField)\r\n          })\r\n          .then(() => customToast('success', 'Field Added'));\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n        customToast('error', 'There was a problem with adding a field');\r\n        console.log(error);\r\n      }\r\n      break;\r\n    case 'delete':\r\n      try {\r\n        await userRef\r\n          .update({\r\n            profileFields: firebase.default.firestore.FieldValue.arrayRemove(profileField)\r\n          })\r\n          .then(() => customToast('success', 'Field Removed'));\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n        customToast('error', 'There was a problem with removing a field');\r\n        console.log(error);\r\n      }\r\n      break;\r\n    default:\r\n      throw new Error();\r\n  }\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport classNames from 'classnames';\r\nimport { TextField, Button } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { useParams } from 'react-router-dom';\r\nimport { updateProfileFields } from '../../actions/updateProfileFields';\r\nimport { contentField, fields } from '../../shared/interfaces/ProfileFieldInterfaces';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport { db } from '../../firebase';\r\nimport './UserPageFieldForm.scss';\r\n\r\ntype fieldType = {\r\n  name: string;\r\n  value: string;\r\n};\r\n\r\ntype UserPageParams = {\r\n  ownerUid: string;\r\n};\r\ninterface UserPageFieldFormProps {\r\n  data: boolean;\r\n  setter: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport const UserPageFieldForm: React.FC<UserPageFieldFormProps> = ({ data, setter }: UserPageFieldFormProps) => {\r\n  const MAX_FIELDS_THRESHOLD = 12;\r\n  const MAX_INPUT_LENGTH = 100;\r\n  const [fieldsData, setFieldsData] = useState<contentField>({});\r\n  const [fieldInputs, setFieldInputs] = useState<fieldType[]>([]);\r\n  const [formTitle, setFormTitle] = useState('');\r\n  const [titleError, setTitleError] = useState('');\r\n  const [fieldError, setFieldError] = useState(false);\r\n  const [fieldEntries, setFieldEntries] = useState<fields[]>([]);\r\n  const { isDarkMode } = useDarkMode();\r\n  const { ownerUid } = useParams<UserPageParams>();\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    event.preventDefault();\r\n    const { name, value } = event.target;\r\n    setFieldsData({ ...fieldsData, [name]: value });\r\n  };\r\n\r\n  const addField = () => {\r\n    const field = {\r\n      name: `field-${fieldInputs.length}`,\r\n      value: ''\r\n    };\r\n    const { name, value } = field;\r\n    setFieldInputs([...fieldInputs, field]);\r\n    setFieldsData({ ...fieldsData, [name]: value });\r\n  };\r\n\r\n  const checkKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (event.code === 'Enter') {\r\n      event.preventDefault();\r\n      addField();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    db.collection('users')\r\n      .doc(ownerUid)\r\n      .get()\r\n      .then(doc => {\r\n        setFieldEntries(doc.data()?.profileFields);\r\n      })\r\n      // eslint-disable-next-line\r\n      .catch(error => console.error(error));\r\n  }, []);\r\n\r\n  const validate = (): boolean => {\r\n    if (formTitle === '') {\r\n      setTitleError(\"Title can't be empty\");\r\n      return true;\r\n    }\r\n    if (fieldEntries.map(entry => entry?.title).includes(formTitle)) {\r\n      setTitleError('Title is already used');\r\n      return true;\r\n    }\r\n    if (Object.entries(fieldsData).length === 0) {\r\n      addField();\r\n      return true;\r\n    }\r\n    if (Object.entries(fieldsData).every(field => field[1].trim() === '')) {\r\n      setFieldError(!fieldError);\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const handleSubmit = (event: React.ChangeEvent<HTMLFormElement>) => {\r\n    if (!validate()) {\r\n      const formData = {\r\n        content: Object.fromEntries(\r\n          Object.entries(fieldsData)\r\n            .map(([name, content]) => [name, content.trim()])\r\n            .filter(([, content]) => content !== '')\r\n        ),\r\n        title: formTitle\r\n      };\r\n      updateProfileFields(formData, 'update');\r\n      setter(!data);\r\n    }\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <article className={classNames('userPageFieldForm', { 'userPageFieldForm--dark': isDarkMode })}>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className={classNames('userPageFieldForm__title', { 'userPageFieldForm__title--dark': isDarkMode })}>\r\n          <TextField\r\n            error={Boolean(titleError)}\r\n            helperText={titleError}\r\n            onKeyDown={(e: React.KeyboardEvent<HTMLInputElement>) => checkKeyDown(e)}\r\n            onChange={event => setFormTitle(event.target.value)}\r\n            inputProps={{ maxLength: MAX_INPUT_LENGTH }}\r\n            variant=\"outlined\"\r\n            placeholder=\"Title\"\r\n            name=\"title\"\r\n          />\r\n        </div>\r\n        <ul>\r\n          {fieldInputs.map(({ name }) => (\r\n            <li className={classNames('userPageFieldForm__field', { 'userPageFieldForm__field--dark': isDarkMode })}>\r\n              <TextField\r\n                name={name}\r\n                value={fieldsData[name]}\r\n                error={fieldError}\r\n                helperText={fieldError && `At least one field must be filled`}\r\n                onKeyDown={(e: React.KeyboardEvent<HTMLInputElement>) => checkKeyDown(e)}\r\n                onChange={handleChange}\r\n                style={{ width: '100%' }}\r\n                inputProps={{ maxLength: MAX_INPUT_LENGTH }}\r\n              />\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        {fieldInputs.length < MAX_FIELDS_THRESHOLD && (\r\n          <button\r\n            className={classNames('userPageFieldForm__addfield', { 'userPageFieldForm__addfield--dark': isDarkMode })}\r\n            type=\"button\"\r\n            onClick={addField}\r\n          >\r\n            <AddIcon role=\"button\" aria-label=\"Add new field\" />\r\n          </button>\r\n        )}\r\n        <span className=\"userPageFieldForm__submitButtonWrapper\">\r\n          <Button\r\n            className={classNames('userPageFieldForm__submitButton', {\r\n              'userPageFieldForm__submitButton--dark': isDarkMode\r\n            })}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n          >\r\n            Confirm\r\n          </Button>\r\n        </span>\r\n      </form>\r\n    </article>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { IconButton } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { UserPageFieldInterface, fields } from '../../shared/interfaces/ProfileFieldInterfaces';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport { updateProfileFields } from '../../actions/updateProfileFields';\r\nimport './UserPageField.scss';\r\n\r\n\r\nexport const UserPageField: React.FC<UserPageFieldInterface<fields>> = ({\r\n  data,\r\n  isLoading,\r\n  isError\r\n}: UserPageFieldInterface<fields>) => {\r\n  const { isDarkMode } = useDarkMode();\r\n\r\n  return (\r\n    <WithLoader isLoading={isLoading}>\r\n      <WithError isError={isError} errorMessage=\"Couldn't get user data\">\r\n        <article className={classNames('userPageField', { 'userPageField--dark': isDarkMode })}>\r\n          <IconButton\r\n            onClick={() => updateProfileFields(data, 'delete')}\r\n            className={classNames('userPageField__delete', { 'userPageField__delete--dark': isDarkMode })}\r\n          >\r\n            <DeleteIcon fontSize=\"small\" />\r\n          </IconButton>\r\n          <h3 className=\"userPageField__title\">{data.title}</h3>\r\n          <ul>\r\n            {Object.entries(data.content).map(([, fieldEntry], id) => (\r\n              // eslint-disable-next-line\r\n              <li key={id} className=\"userPageField__entries\">\r\n                {fieldEntry}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </article>\r\n      </WithError>\r\n    </WithLoader>\r\n  );\r\n};\r\n\r\nUserPageField.propTypes = {\r\n  data: PropTypes.shape({\r\n    content: PropTypes.shape({\r\n      name: PropTypes.string.isRequired\r\n    }).isRequired,\r\n    title: PropTypes.string.isRequired\r\n  }).isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  isError: PropTypes.bool.isRequired\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { db } from '../firebase';\r\n\r\nexport const useIsUserFollowed = (currentUserId: string | undefined, pageUserId: string | undefined): boolean => {\r\n  const [value, setValue] = useState(true);\r\n\r\n  const getFollows = async () => {\r\n    try {\r\n      const follows = await db.collection('users').doc(currentUserId).collection('followers').doc(pageUserId).get();\r\n      setValue(follows.exists);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n      console.error(error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getFollows();\r\n  }, [currentUserId, pageUserId]);\r\n\r\n  return value;\r\n};\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { Avatar } from '@material-ui/core';\r\nimport { User } from '../../shared/interfaces/UserInterfaces';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './SearchHint.scss';\r\n\r\nexport const SearchHint: React.FC<User> = ({ displayName, id, avatar, headline }) => {\r\n  const { isDarkMode } = useDarkMode();\r\n\r\n  return (\r\n    <Link className=\"searchHint__link\" to={`/user/${id}`}>\r\n      <li className={classNames('searchHint', { 'searchHint--dark': isDarkMode })}>\r\n        <div className=\"searchHint__info\">\r\n          <span className=\"searchHint__name\">{displayName}</span>\r\n          <span>{headline}</span>\r\n        </div>\r\n        <Avatar className=\"searchHint__avatar\" src={avatar} />\r\n      </li>\r\n    </Link>\r\n  );\r\n};\r\n\r\nSearchHint.propTypes = {\r\n  displayName: PropTypes.string.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n  avatar: PropTypes.string.isRequired,\r\n  headline: PropTypes.string.isRequired\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { useParams } from 'react-router-dom';\r\nimport { DebounceInput } from 'react-debounce-input';\r\nimport { SearchHint } from '../SearchHint/SearchHint';\r\nimport { User } from '../../shared/interfaces/UserInterfaces';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './Search.scss';\r\n\r\ninterface SearchProps {\r\n  testid?: string;\r\n  getHints?: (set: React.Dispatch<React.SetStateAction<User[][]>>, value: string) => void;\r\n  setIsSearchOpen?: React.Dispatch<React.SetStateAction<boolean>>;\r\n  isSearchOpen?: boolean;\r\n}\r\n\r\nexport const Search: React.FC<SearchProps> = ({ testid, getHints, setIsSearchOpen, isSearchOpen }) => {\r\n  const [searchInput, setSearchInput] = useState('');\r\n  const [searchHints, setSearchHints] = useState<User[][]>([]);\r\n  const { isDarkMode } = useDarkMode();\r\n  const container = useRef() as React.MutableRefObject<HTMLInputElement>;\r\n  const params = useParams();\r\n\r\n  const closeInputOutside = (ref: React.MutableRefObject<HTMLInputElement>) => {\r\n    if (setIsSearchOpen) {\r\n      useEffect(() => {\r\n        const handleOutsideClick = (event: Event) => {\r\n          if (ref.current && !ref.current.contains(event.target as HTMLElement)) {\r\n            setIsSearchOpen(false);\r\n            document.removeEventListener('click', handleOutsideClick);\r\n          }\r\n        };\r\n        if (isSearchOpen) {\r\n          document.addEventListener('click', handleOutsideClick);\r\n        }\r\n      }, [isSearchOpen, ref]);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (getHints) {\r\n      getHints(setSearchHints, searchInput);\r\n    }\r\n  }, [searchInput]);\r\n\r\n  useEffect(() => {\r\n    setSearchInput('');\r\n  }, [params]);\r\n\r\n  closeInputOutside(container);\r\n\r\n  return (\r\n    <div\r\n      className={classNames(\r\n        'search',\r\n        { 'search--hidden': isSearchOpen },\r\n        { 'search--dark': isDarkMode },\r\n        { 'search--hidden--dark': isSearchOpen && isDarkMode }\r\n      )}\r\n      data-testid={testid}\r\n    >\r\n      <div ref={container} className=\"search__container\">\r\n        <SearchIcon\r\n          onClick={() => {\r\n            if (setIsSearchOpen) {\r\n              setIsSearchOpen(true);\r\n            }\r\n          }}\r\n          className={classNames('search__icon', { 'search__icon--hidden': isSearchOpen })}\r\n        />\r\n        <DebounceInput\r\n          minLength={2}\r\n          debounceTimeout={200}\r\n          value={searchInput}\r\n          onChange={event => setSearchInput(event.target.value)}\r\n          data-testid={`${testid}Input`}\r\n          placeholder=\"Search...\"\r\n          className={classNames('search__input', { 'search__input--hidden': isSearchOpen })}\r\n          type=\"text\"\r\n        />\r\n      </div>\r\n      <ul className={classNames('search__hints', { 'search__hints--hidden': isSearchOpen })}>\r\n        {searchHints.map(([hint]) => (\r\n          <SearchHint\r\n            key={hint.id}\r\n            displayName={hint.displayName}\r\n            id={hint.id}\r\n            avatar={hint.avatar}\r\n            headline={hint.headline}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nSearch.defaultProps = {\r\n  testid: undefined,\r\n  setIsSearchOpen: undefined,\r\n  isSearchOpen: false\r\n};\r\n\r\nSearch.propTypes = {\r\n  testid: PropTypes.string,\r\n  getHints: PropTypes.func.isRequired,\r\n  setIsSearchOpen: PropTypes.func,\r\n  isSearchOpen: PropTypes.bool\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport moment from 'moment';\r\nimport classNames from 'classnames';\r\nimport { Avatar } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport { useGetUserData } from '../../actions/useGetUserData';\r\nimport { db } from '../../firebase';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './Notification.scss';\r\n\r\ninterface NotificationProps {\r\n  followerId: string;\r\n  userId: string | undefined;\r\n  timestamp: firebase.default.firestore.Timestamp;\r\n}\r\n\r\nexport const Notification: React.FC<NotificationProps> = ({ userId, followerId, timestamp }: NotificationProps) => {\r\n  const followingSince = moment.unix(timestamp.seconds).fromNow();\r\n  const { userData } = useGetUserData(followerId);\r\n  const { isDarkMode } = useDarkMode();\r\n\r\n  useEffect(\r\n    // eslint-disable-next-line\r\n    () => (): any => db.collection('users').doc(userId).collection('followers').doc(followerId).update({ seen: true }),\r\n    []\r\n  );\r\n\r\n  return (\r\n    <Link\r\n      className={classNames('notificationCard__link', { 'notificationCard__link--dark': isDarkMode })}\r\n      to={`/user/${followerId}`}\r\n    >\r\n      <article className=\"notificationCard\">\r\n        <Avatar\r\n          className=\"notificationCard__avatar\"\r\n          src={userData?.avatar}\r\n          alt=\"user avatar\"\r\n          variant=\"rounded\"\r\n          style={{ height: '64px', width: '64px' }}\r\n        />\r\n        <div className=\"notificationCard__text\">\r\n          <strong>{userData?.displayName}</strong>\r\n          <p className=\"notificationCard__action\">followed you</p>\r\n          <p className=\"notificationCard__timestamp\">{followingSince}</p>\r\n        </div>\r\n      </article>\r\n    </Link>\r\n  );\r\n};\r\n","import React, { useContext } from 'react';\r\nimport { NotificationContext, NotificationsStateType } from '../../context/NotificationProvider';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport { Notification } from '../../components/Notification/Notification';\r\n\r\nexport const Notifications: React.FC = () => {\r\n  const notifications = useContext<NotificationsStateType | undefined>(NotificationContext);\r\n  const user = useContext(AuthContext);\r\n\r\n  return (\r\n    <article className=\"notifications\">\r\n      {notifications?.data.filter((data: firebase.default.firestore.DocumentData) => data.data().seen === false)\r\n        .length === 0 ? (\r\n        <p>No new notifications</p>\r\n      ) : (\r\n        notifications?.data.map(\r\n          (data: firebase.default.firestore.DocumentData) =>\r\n            !data.data().seen && (\r\n              <Notification key={data.id} userId={user?.uid} followerId={data.id} timestamp={data.data().timestamp} />\r\n            )\r\n        )\r\n      )}\r\n    </article>\r\n  );\r\n};\r\n","import React, { useContext } from 'react';\r\nimport classNames from 'classnames';\r\nimport { Avatar, Button, IconButton } from '@material-ui/core';\r\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\r\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport { signOut } from '../../actions/signOut';\r\nimport { useGetUserData } from '../../actions/useGetUserData';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './HeaderDropdown.scss';\r\n\r\ninterface HeaderDropdownProps {\r\n  testid?: string;\r\n}\r\n\r\nexport const HeaderDropdown: React.FC<HeaderDropdownProps> = ({ testid }) => {\r\n  const currentUser = useContext(AuthContext);\r\n  const { isDarkMode, setIsDarkMode } = useDarkMode();\r\n  const { userData, isLoading, isError } = useGetUserData(currentUser?.uid as string);\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <WithLoader className=\"headerDropdown__actions\" isLoading={isLoading}>\r\n      <WithError\r\n        className=\"headerDropdown__actions\"\r\n        isError={isError}\r\n        errorMessage=\"Something went wrong please try again...\"\r\n      >\r\n        <ul className=\"headerDropdown\" data-testid={testid}>\r\n          <li className=\"headerDropdown__listItem\">\r\n            <Avatar src={userData?.avatar || ''} />\r\n          </li>\r\n          <li className=\"headerDropdown__listItem\">\r\n            <div className=\"headerDropdown__info\">\r\n              <span className=\"headerDropdown__name\">{userData?.displayName || 'User'}</span>\r\n              <span>{userData?.headline}</span>\r\n            </div>\r\n          </li>\r\n          <li className=\"headerDropdown__listItem\">\r\n            <Button\r\n              data-testid={`${testid}ViewProfile`}\r\n              onClick={() => history.push(`/user/${userData?.id}`)}\r\n              className={classNames('headerDropdown__button', {\r\n                'headerDropdown__button--darkViewProfile': isDarkMode\r\n              })}\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n            >\r\n              View Profile\r\n            </Button>\r\n          </li>\r\n          <li className=\"headerDropdown__listItem\">\r\n            <Button\r\n              onClick={() => signOut({ history })}\r\n              data-testid={`${testid}SignOut`}\r\n              className={classNames('headerDropdown__button', {\r\n                'headerDropdown__button--darkLogout': isDarkMode\r\n              })}\r\n              variant=\"outlined\"\r\n            >\r\n              Sign Out\r\n            </Button>\r\n          </li>\r\n          <li className=\"headerDropdown__listItem\">\r\n            <IconButton onClick={() => setIsDarkMode(!isDarkMode)}>\r\n              {isDarkMode ? (\r\n                <Brightness7Icon className=\"headerDropdown__icon\" />\r\n              ) : (\r\n                <Brightness4Icon className=\"headerDropdown__icon\" />\r\n              )}\r\n            </IconButton>\r\n          </li>\r\n        </ul>\r\n      </WithError>\r\n    </WithLoader>\r\n  );\r\n};\r\n\r\nHeaderDropdown.defaultProps = {\r\n  testid: undefined\r\n};\r\n\r\nHeaderDropdown.propTypes = {\r\n  testid: PropTypes.string\r\n};\r\n","import { History, LocationState } from 'history';\r\nimport { auth } from '../firebase';\r\nimport { customToast } from './customToast';\r\n\r\ninterface signOutProps {\r\n  history: History<LocationState>;\r\n}\r\n\r\nexport const signOut = ({ history }: signOutProps): void => {\r\n  auth\r\n    .signOut()\r\n    .then(() => {\r\n      history.push('/');\r\n      customToast('success', 'Successfully Sign Out');\r\n    })\r\n    .catch(() => customToast('error', 'There was a problem with Sign Out'));\r\n};\r\n","import HomeIcon from '@material-ui/icons/Home';\r\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { Notifications } from '../pages/Notifications/Notifications';\r\nimport { HeaderDropdown } from '../components/DropdownsContent/HeaderDropdown';\r\n\r\nexport const navigationItems = [\r\n  { path: '/feed', icon: HomeIcon, title: 'Home', content: '' },\r\n  { path: '/network', icon: SupervisorAccountIcon, title: 'My Network', content: '' },\r\n  { path: '', icon: NotificationsIcon, title: 'Notifications', content: Notifications, badge: true },\r\n  { path: '', icon: Avatar, title: 'Me', content: HeaderDropdown }\r\n];\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './Dropdown.scss';\r\n\r\ninterface DropdownProps {\r\n  DropdownOpener: React.ReactNode;\r\n  content: React.FC<unknown> | string;\r\n}\r\n\r\nexport const Dropdown: React.FC<DropdownProps> = ({ DropdownOpener, content }) => {\r\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n  const { isDarkMode } = useDarkMode();\r\n  const dropdown = useRef() as React.MutableRefObject<HTMLDivElement>;\r\n  const params = useParams();\r\n\r\n  const closeDropdownOutside = (ref: React.MutableRefObject<HTMLDivElement>) => {\r\n    useEffect(() => {\r\n      const handleOutsideClick = (event: Event) => {\r\n        if (ref.current && !ref.current.contains(event.target as HTMLElement)) {\r\n          setIsDropdownOpen(false);\r\n          document.removeEventListener('click', handleOutsideClick);\r\n        }\r\n      };\r\n      if (isDropdownOpen) {\r\n        document.addEventListener('click', handleOutsideClick);\r\n      }\r\n    }, [isDropdownOpen, ref]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setIsDropdownOpen(false);\r\n  }, [params]);\r\n\r\n  closeDropdownOutside(dropdown);\r\n\r\n  return (\r\n    <div className=\"dropdown\">\r\n      <div\r\n        className=\"dropdown__opener\"\r\n        onClick={() => setIsDropdownOpen(true)}\r\n        onKeyDown={() => setIsDropdownOpen(true)}\r\n        role=\"button\"\r\n        tabIndex={0}\r\n      >\r\n        {DropdownOpener}\r\n      </div>\r\n      {isDropdownOpen && (\r\n        <div ref={dropdown} className={classNames('dropdown__container', { 'dropdown__container--dark': isDarkMode })}>\r\n          {React.createElement(content)}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nDropdown.propTypes = {\r\n  DropdownOpener: PropTypes.node.isRequired,\r\n  content: PropTypes.func.isRequired\r\n};\r\n","import React, { useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Badge } from '@material-ui/core';\r\nimport { OverridableComponent } from '@material-ui/core/OverridableComponent';\r\nimport { useLocation } from 'react-router-dom';\r\nimport classNames from 'classnames';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport './NavigationIcon.scss';\r\n\r\ninterface NavigationIconProps {\r\n  Icon: OverridableComponent<any>;\r\n  title: string;\r\n  path?: string;\r\n  testid?: string;\r\n  badgeContent?: number;\r\n}\r\n\r\nexport const NavigationIcon: React.FC<NavigationIconProps> = ({ Icon, title, path, testid, badgeContent }) => {\r\n  const location = useLocation();\r\n  const user = useContext(AuthContext);\r\n\r\n  return (\r\n    <div\r\n      data-testid={testid}\r\n      className={classNames('navigationIcon', { 'navigationIcon--active': path === location.pathname })}\r\n    >\r\n      {badgeContent ? (\r\n        <Badge badgeContent={badgeContent} color=\"primary\">\r\n          <Icon className=\"navigationIcon__icon\" src={user?.photoURL} />\r\n        </Badge>\r\n      ) : (\r\n        <Icon className=\"navigationIcon__icon\" src={user?.photoURL} />\r\n      )}\r\n\r\n      <p className=\"navigationIcon__title\">{title}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nNavigationIcon.defaultProps = {\r\n  path: '',\r\n  testid: undefined,\r\n  badgeContent: 0\r\n};\r\n\r\nNavigationIcon.propTypes = {\r\n  Icon: PropTypes.func.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  path: PropTypes.string,\r\n  testid: PropTypes.string,\r\n  badgeContent: PropTypes.number\r\n};\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { navigationItems } from '../../constants/Navigation';\r\nimport { Dropdown } from '../Dropdown/Dropdown';\r\nimport { NavigationIcon } from '../NavigationIcon/NavigationIcon';\r\nimport { NotificationContext } from '../../context/NotificationProvider';\r\nimport './Navigation.scss';\r\n\r\ninterface NavigationProps {\r\n  testid?: string;\r\n  isSearchOpen?: boolean;\r\n}\r\n\r\nexport const Navigation: React.FC<NavigationProps> = ({ testid, isSearchOpen }) => {\r\n  const [amount, setAmount] = useState<number>();\r\n  const notifications = useContext(NotificationContext);\r\n\r\n  useEffect(() => {\r\n    setAmount(notifications?.data.filter(data => data.data().seen === false).length);\r\n  }, [notifications]);\r\n\r\n  return (\r\n    <nav className={classNames('navigation', { 'navigation--hidden': isSearchOpen })} data-testid={testid}>\r\n      <ul className=\"navigation__wrapper\">\r\n        {navigationItems.map(({ title, path, icon, content, badge }) => (\r\n          <li key={title}>\r\n            {path ? (\r\n              <Link className=\"navigation__link\" to={path}>\r\n                <NavigationIcon testid={`${testid}Link${title}`} title={title} path={path} Icon={icon} />\r\n              </Link>\r\n            ) : (\r\n              <Dropdown\r\n                DropdownOpener={\r\n                  badge ? (\r\n                    <NavigationIcon\r\n                      badgeContent={amount}\r\n                      testid={`${testid}DropdownOpener`}\r\n                      title={title}\r\n                      Icon={icon}\r\n                    />\r\n                  ) : (\r\n                    <NavigationIcon testid={`${testid}DropdownOpener`} title={title} Icon={icon} />\r\n                  )\r\n                }\r\n                content={content}\r\n              />\r\n            )}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\nNavigation.defaultProps = {\r\n  testid: undefined,\r\n  isSearchOpen: false\r\n};\r\n\r\nNavigation.propTypes = {\r\n  testid: PropTypes.string,\r\n  isSearchOpen: PropTypes.bool\r\n};\r\n","import { db } from '../firebase';\r\nimport { User } from '../shared/interfaces/UserInterfaces';\r\n\r\nexport const userHints: (set: React.Dispatch<React.SetStateAction<User[][]>>, value: string) => void = async (\r\n  set,\r\n  value\r\n) => {\r\n  const snapshot = await db.collection('users').orderBy('displayName', 'asc').get();\r\n  set(\r\n    snapshot.docs\r\n      .map(doc => [\r\n        {\r\n          displayName: doc.data().displayName,\r\n          id: doc.data().id,\r\n          avatar: doc.data().avatar,\r\n          headline: doc.data().headline\r\n        }\r\n      ])\r\n      .filter(doc => doc[0].displayName.toUpperCase().includes(value.toUpperCase()) && value)\r\n      .slice(0, 5)\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { Link } from 'react-router-dom';\r\nimport { Search } from '../Search/Search';\r\nimport { Navigation } from '../Navigation/Navigation';\r\nimport { userHints } from '../../constants/UserHints';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './Header.scss';\r\n\r\ninterface HeaderProps {\r\n  testid?: string;\r\n}\r\n\r\nexport const Header: React.FC<HeaderProps> = ({ testid }) => {\r\n  const [isSearchOpen, setIsSearchOpen] = useState(false);\r\n  const { isDarkMode } = useDarkMode();\r\n\r\n  return (\r\n    <header className={classNames('header', { 'header--dark': isDarkMode })} data-testid={testid}>\r\n      <div className=\"header__search\">\r\n        <Link to=\"/feed\">\r\n          <LinkedInIcon\r\n            color=\"primary\"\r\n            className={classNames('header__logo', { 'header__logo--hidden': isSearchOpen })}\r\n          />\r\n        </Link>\r\n        <Search\r\n          setIsSearchOpen={setIsSearchOpen}\r\n          isSearchOpen={isSearchOpen}\r\n          testid=\"searchHeader\"\r\n          getHints={userHints}\r\n        />\r\n      </div>\r\n      <Navigation testid=\"navigationHeader\" isSearchOpen={isSearchOpen} />\r\n    </header>\r\n  );\r\n};\r\n\r\nHeader.defaultProps = {\r\n  testid: undefined\r\n};\r\n\r\nHeader.propTypes = {\r\n  testid: PropTypes.string\r\n};\r\n","export enum Posts {\r\n  newAmount = 4,\r\n  initialAmount = 5\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { db } from '../firebase';\r\nimport { FeedPostProps } from '../components/FeedPost/FeedPost';\r\n\r\ninterface GetPosts {\r\n  allPosts: FeedPostProps[];\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n}\r\n\r\nexport const useGetPosts = (): GetPosts => {\r\n  const [state, setState] = useState<GetPosts>({\r\n    allPosts: [],\r\n    isLoading: true,\r\n    isError: false\r\n  });\r\n\r\n  const getPosts = async () => {\r\n    try {\r\n      const snapshot = await db.collection('posts').orderBy('timestamp', 'desc').get();\r\n      const allPosts = snapshot.docs.map(post => ({ ...post.data(), testid: post.id })) as FeedPostProps[];\r\n      setState({ ...state, allPosts, isLoading: false });\r\n    } catch (error) {\r\n      setState({ ...state, isError: true, isLoading: false });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPosts();\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n","import { FeedPostProps } from '../components/FeedPost/FeedPost';\r\n\r\nexport const postsFilter = (follows: string[], posts: FeedPostProps[]): FeedPostProps[] =>\r\n  posts.filter(post => follows.includes(post.ownerUid));\r\n","import React, { useRef, useState, MutableRefObject } from 'react';\r\nimport moment from 'moment';\r\nimport classNames from 'classnames';\r\nimport { Link } from 'react-router-dom';\r\nimport AvatarPlaceholder from '../../assets/images/avatar_placeholder.png';\r\nimport { useGetUserData } from '../../actions/useGetUserData';\r\nimport { useIsContentOverflowing } from '../../actions/useIsContentOverflowing';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './FeedPost.scss';\r\n\r\nexport interface FeedPostProps {\r\n  ownerUid: string;\r\n  content: string;\r\n  timestamp: firebase.default.firestore.Timestamp;\r\n  testid?: string;\r\n}\r\n\r\nexport const FeedPost: React.FC<FeedPostProps> = ({ ownerUid, content, timestamp, testid }: FeedPostProps) => {\r\n  const [seeMore, setSeeMore] = useState(false);\r\n  const { isDarkMode } = useDarkMode();\r\n  const ref = useRef() as MutableRefObject<HTMLParagraphElement>;\r\n  const isContentOverflowing = useIsContentOverflowing(ref);\r\n  const timePassed = moment.unix(timestamp.seconds).fromNow();\r\n  const {\r\n    userData: { avatar, displayName, headline }\r\n  } = useGetUserData(ownerUid);\r\n\r\n  return (\r\n    <article className={classNames('feedPost', { 'feedPost--dark': isDarkMode })}>\r\n      <Link className=\"feedPost__user\" data-testid={`\"feedPost__user--${testid}`} to={`/user/${ownerUid}`}>\r\n        <img className=\"feedPost__avatar\" src={avatar || AvatarPlaceholder} alt={`${displayName}'s avatar`} />\r\n        <div className={classNames('feedPost__info', { 'feedPost__info--dark': isDarkMode })}>\r\n          <span className=\"feedPost__name\">{displayName}</span>\r\n          <span>{headline}</span>\r\n        </div>\r\n      </Link>\r\n      <p ref={ref} className={`feedPost__content feedPost__content--see__${!seeMore && 'less'}`}>\r\n        {content.trim()}\r\n      </p>\r\n      {isContentOverflowing && !seeMore && (\r\n        <button\r\n          data-testid={`\"feedPost__seeButton--${testid}`}\r\n          type=\"button\"\r\n          className={`feedPost__seeButton feedPost__seeButton--see__${!seeMore && 'less'}`}\r\n          onClick={() => {\r\n            setSeeMore(!seeMore);\r\n          }}\r\n        >\r\n          ...see more\r\n        </button>\r\n      )}\r\n      <p className=\"feedPost__timestamp\">{timePassed}</p>\r\n    </article>\r\n  );\r\n};\r\n\r\nFeedPost.defaultProps = {\r\n  testid: ''\r\n};\r\n","import { useState, useEffect, MutableRefObject } from 'react';\r\n\r\nexport const useIsContentOverflowing = (ref: MutableRefObject<HTMLElement>): boolean => {\r\n  const [isContentOverflowing, setIsContentOverflowing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setIsContentOverflowing(ref.current.offsetHeight < ref.current.scrollHeight);\r\n    };\r\n    window.addEventListener('resize', handleResize);\r\n    handleResize();\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n  return isContentOverflowing;\r\n};\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { IconButton } from '@material-ui/core';\r\nimport { useGetPosts } from '../../actions/useGetPosts';\r\nimport { postsFilter } from '../../actions/postsFilter';\r\nimport { FeedPost } from '../FeedPost/FeedPost';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { Posts } from '../../constants/Posts';\r\nimport './MyPosts.scss';\r\n\r\ninterface MyPostsProps {\r\n  userUid: string;\r\n}\r\n\r\nexport const MyPosts: React.FC<MyPostsProps> = ({ userUid }) => {\r\n  const { allPosts, isLoading, isError } = useGetPosts();\r\n  const userPosts = postsFilter([userUid], allPosts);\r\n  const [postIndex, setPostIndex] = useState(Posts.initialAmount);\r\n  const isMorePosts = postIndex <= userPosts.length;\r\n\r\n  return (\r\n    <WithLoader isLoading={isLoading}>\r\n      <WithError isError={isError} errorMessage=\"Error has occurred please try again...\">\r\n        <article className=\"myPosts\">\r\n          {userPosts.slice(0, postIndex).map(({ content, ownerUid, timestamp, testid }) => (\r\n            <FeedPost content={content} ownerUid={ownerUid} timestamp={timestamp} testid={testid} />\r\n          ))}\r\n          {isMorePosts && (\r\n            <div className=\"myPosts__wrapper\">\r\n              <IconButton\r\n                className=\"myPosts__showMore\"\r\n                onClick={() => {\r\n                  setPostIndex(postIndex + Posts.newAmount);\r\n                }}\r\n              >\r\n                <ExpandMoreIcon />\r\n              </IconButton>\r\n            </div>\r\n          )}\r\n        </article>\r\n      </WithError>\r\n    </WithLoader>\r\n  );\r\n};\r\n\r\nMyPosts.propTypes = {\r\n  userUid: PropTypes.string.isRequired\r\n};\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { db } from '../firebase';\r\nimport { AuthContext } from '../context/AuthProvider';\r\n\r\ninterface GetUserFollows {\r\n  userFollows: string[];\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n}\r\n\r\nexport const useGetUserFollows = (): GetUserFollows => {\r\n  const user = useContext(AuthContext);\r\n  const [state, setState] = useState<GetUserFollows>({\r\n    userFollows: [],\r\n    isLoading: true,\r\n    isError: false\r\n  });\r\n\r\n  const getUserFollows = async () => {\r\n    try {\r\n      const snapshot = await db.collection('users').doc(user?.uid).collection('followed').get();\r\n      const followedIds = snapshot.docs.map(followed => followed.id);\r\n      setState({ ...state, userFollows: followedIds, isLoading: false });\r\n    } catch (error) {\r\n      setState({ ...state, isError: true, isLoading: false });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getUserFollows();\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from '../context/AuthProvider';\r\nimport { db } from '../firebase';\r\nimport { User } from '../shared/interfaces/UserInterfaces';\r\n\r\ninterface GetUser {\r\n  users: User[];\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n}\r\n\r\nexport const useGetUsers = (): GetUser => {\r\n  const [state, setState] = useState<GetUser>({\r\n    users: [],\r\n    isLoading: true,\r\n    isError: false\r\n  });\r\n  const currentUser = useContext(AuthContext);\r\n\r\n  const getUsers = async () => {\r\n    try {\r\n      const snapshot = await db.collection('users').orderBy('displayName', 'asc').get();\r\n      const users = snapshot.docs.map(user => user.data()).filter(user => user.id !== currentUser?.uid) as User[];\r\n      setState({ ...state, users, isLoading: false });\r\n    } catch (error) {\r\n      setState({ ...state, isLoading: false, isError: true });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUsers();\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { Link } from 'react-router-dom';\r\nimport { Avatar, Button, Grow } from '@material-ui/core';\r\nimport { followAction } from '../../actions/followAction';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './UserCard.scss';\r\n\r\ninterface UserCardProps {\r\n  avatar?: string;\r\n  displayName: string;\r\n  headline?: string;\r\n  followed?: boolean;\r\n  id: string;\r\n  testid?: string;\r\n}\r\n\r\nexport const UserCard: React.FC<UserCardProps> = ({ avatar, displayName, headline, followed, id, testid }) => {\r\n  const [isFollowed, setIsFollowed] = useState(followed);\r\n  const { isDarkMode } = useDarkMode();\r\n\r\n  const handleClick = () => {\r\n    if (!isFollowed) {\r\n      followAction(id, displayName, 'follow');\r\n    } else {\r\n      followAction(id, displayName, 'unfollow');\r\n    }\r\n    setIsFollowed(!isFollowed);\r\n  };\r\n\r\n  return (\r\n    <Grow in timeout={500}>\r\n      <section className={classNames('userCard', { 'userCard--dark': isDarkMode })} data-testid={`${testid}${id}`}>\r\n        <Link\r\n          className={classNames('userCard__info', { 'userCard__info--dark': isDarkMode })}\r\n          data-testid={`\"userCard__displayName--${testid}`}\r\n          to={`/user/${id}`}\r\n        >\r\n          <Avatar className=\"userCard__avatar\" src={avatar} />\r\n          <div className=\"userCard__bio\">\r\n            <span className=\"userCard__displayName\">{displayName}</span>\r\n            <span className=\"userCard__headline\">{headline}</span>\r\n          </div>\r\n        </Link>\r\n        <Button\r\n          onClick={handleClick}\r\n          variant={isFollowed ? 'contained' : 'outlined'}\r\n          color=\"primary\"\r\n          className={classNames(\r\n            'userCard__button',\r\n            { 'userCard__button--darkFollowed': isFollowed && isDarkMode },\r\n            { 'userCard__button--darkUnfollowed': !isFollowed && isDarkMode }\r\n          )}\r\n        >\r\n          {isFollowed ? 'Followed' : 'Follow'}\r\n        </Button>\r\n      </section>\r\n    </Grow>\r\n  );\r\n};\r\n\r\nUserCard.defaultProps = {\r\n  avatar: '',\r\n  followed: false,\r\n  testid: undefined,\r\n  headline: ''\r\n};\r\n\r\nUserCard.propTypes = {\r\n  avatar: PropTypes.string,\r\n  displayName: PropTypes.string.isRequired,\r\n  followed: PropTypes.bool,\r\n  headline: PropTypes.string,\r\n  id: PropTypes.string.isRequired,\r\n  testid: PropTypes.string\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Grow } from '@material-ui/core';\r\nimport { useGetUserFollows } from '../../actions/useGetUserFollows';\r\nimport { useGetUsers } from '../../actions/useGetUsers';\r\nimport { User } from '../../shared/interfaces/UserInterfaces';\r\nimport { UserCard } from '../UserCard/UserCard';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport './FollowedUsers.scss';\r\n\r\ninterface FollowedUsersProps {\r\n  testid?: string;\r\n}\r\n\r\nexport const FollowedUsers: React.FC<FollowedUsersProps> = ({ testid }) => {\r\n  const { userFollows, isLoading: isFollowsLoading, isError: isFollowsError } = useGetUserFollows();\r\n  const { users, isLoading, isError } = useGetUsers();\r\n  const [followedUsers, setFollowedUsers] = useState<User[]>();\r\n\r\n  const getFollowedUsersInfo = () => users.filter(user => userFollows.includes(user.id));\r\n\r\n  useEffect(() => {\r\n    setFollowedUsers(getFollowedUsersInfo());\r\n  }, [isLoading, isFollowsLoading]);\r\n\r\n  return (\r\n    <WithLoader isLoading={isLoading || isFollowsLoading}>\r\n      <WithError isError={isFollowsError || isError} errorMessage=\"Error has occurred please try again...\">\r\n        <Grow in timeout={500}>\r\n          <div data-testid={testid} className=\"followedUsers\">\r\n            {followedUsers?.map(({ displayName, avatar, headline, id }) => (\r\n              <UserCard key={id} displayName={displayName} avatar={avatar} id={id} headline={headline} followed />\r\n            ))}\r\n          </div>\r\n        </Grow>\r\n      </WithError>\r\n    </WithLoader>\r\n  );\r\n};\r\n\r\nFollowedUsers.defaultProps = {\r\n  testid: undefined\r\n};\r\n\r\nFollowedUsers.propTypes = {\r\n  testid: PropTypes.string\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { IconButton, Grow } from '@material-ui/core';\r\nimport { useGetUserFollows } from '../../actions/useGetUserFollows';\r\nimport { useGetUsers } from '../../actions/useGetUsers';\r\nimport { User } from '../../shared/interfaces/UserInterfaces';\r\nimport { UserCard } from '../UserCard/UserCard';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport './RecommendedUsers.scss';\r\n\r\ninterface RecommendedUsersProps {\r\n  testid?: string;\r\n}\r\n\r\nexport const RecommendedUsers: React.FC<RecommendedUsersProps> = ({ testid }) => {\r\n  const { userFollows, isLoading: isFollowsLoading, isError: isFollowsError } = useGetUserFollows();\r\n  const { users, isLoading, isError } = useGetUsers();\r\n  const [recommendedUsers, setRecommendedUsers] = useState<User[]>([]);\r\n\r\n  const getRecommendedUsersInfo = () =>\r\n    users\r\n      .filter(user => !userFollows.includes(user.id))\r\n      .sort(() => Math.random() - 0.5)\r\n      .slice(0, 8);\r\n\r\n  const getMoreRecommendedUsersInfo = () =>\r\n    users\r\n      .filter(user => !userFollows.includes(user.id) && !recommendedUsers?.includes(user))\r\n      .sort(() => Math.random() - 0.5)\r\n      .slice(0, 8);\r\n\r\n  useEffect(() => {\r\n    setRecommendedUsers(getRecommendedUsersInfo());\r\n  }, [isLoading, isFollowsLoading]);\r\n\r\n  return (\r\n    <WithLoader isLoading={isLoading || isFollowsLoading}>\r\n      <WithError isError={isFollowsError || isError} errorMessage=\"Error has occurred please try again...\">\r\n        <div className=\"recommendedUsers\">\r\n          <Grow in timeout={500}>\r\n            <div data-testid={testid} className=\"recommendedUsers__wrapper\">\r\n              {recommendedUsers.map(({ displayName, avatar, headline, id }) => (\r\n                <UserCard key={id} displayName={displayName} headline={headline} avatar={avatar} id={id} />\r\n              ))}\r\n            </div>\r\n          </Grow>\r\n          {recommendedUsers.length !== [...recommendedUsers, ...getMoreRecommendedUsersInfo()].length && (\r\n            <IconButton onClick={() => setRecommendedUsers([...recommendedUsers, ...getMoreRecommendedUsersInfo()])}>\r\n              <ExpandMoreIcon fontSize=\"large\" />\r\n            </IconButton>\r\n          )}\r\n        </div>\r\n      </WithError>\r\n    </WithLoader>\r\n  );\r\n};\r\n\r\nRecommendedUsers.defaultProps = {\r\n  testid: undefined\r\n};\r\n\r\nRecommendedUsers.propTypes = {\r\n  testid: PropTypes.string\r\n};\r\n","import React, { useState, useContext } from 'react';\r\nimport classNames from 'classnames';\r\nimport { TextField, Avatar, Button } from '@material-ui/core';\r\nimport { setPost } from '../../actions/setPost';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport { customToast } from '../../actions/customToast';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './CreatePost.scss';\r\n\r\nexport const CreatePost: React.FC = () => {\r\n  const [postText, setPostText] = useState('');\r\n  const { isDarkMode } = useDarkMode();\r\n  const currentUser = useContext(AuthContext);\r\n  const MAX_INPUT_LENGTH = 300;\r\n\r\n  const isNicknameValid = postText.trim() !== '';\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setPostText(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n    event.preventDefault();\r\n    if (isNicknameValid) {\r\n      setPost({\r\n        ownerUid: currentUser?.uid as string,\r\n        content: postText,\r\n        displayName: currentUser?.displayName as string,\r\n        avatar: currentUser?.photoURL as string\r\n      });\r\n    } else {\r\n      customToast('error', \"Post text can't be empty\", false);\r\n    }\r\n    setPostText('');\r\n  };\r\n\r\n  return (\r\n    <article data-testid=\"createPost\" className={classNames('create-post', { 'create-post--dark': isDarkMode })}>\r\n      <div className=\"share-box\">\r\n        <Avatar className=\"avatar\" src={currentUser?.photoURL || ''} />\r\n        <TextField\r\n          multiline\r\n          placeholder=\"What do you want to say?\"\r\n          value={postText}\r\n          onChange={handleChange}\r\n          className={classNames('share-box__text', { 'share-box__text--dark': isDarkMode })}\r\n          data-testid=\"textPost\"\r\n          inputProps={{ maxLength: MAX_INPUT_LENGTH }}\r\n        />\r\n      </div>\r\n      <Button\r\n        type=\"button\"\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        size=\"small\"\r\n        className={classNames('share-box__add-post', { 'share-box__add-post--dark': isDarkMode })}\r\n        data-testid=\"addPost\"\r\n        onClick={handleSubmit}\r\n      >\r\n        Add Post\r\n      </Button>\r\n    </article>\r\n  );\r\n};\r\n","import * as firebase from 'firebase';\r\nimport { db } from '../firebase';\r\nimport { customToast } from './customToast';\r\n\r\ninterface SetPostProps {\r\n  ownerUid: string;\r\n  displayName: string;\r\n  avatar?: string;\r\n  content: string;\r\n}\r\n\r\nexport const setPost = ({ ownerUid, content, avatar, displayName }: SetPostProps): void => {\r\n  try {\r\n    db.collection('posts')\r\n      .add({\r\n        ownerUid,\r\n        content,\r\n        avatar,\r\n        timestamp: firebase.default.firestore.FieldValue.serverTimestamp(),\r\n        displayName\r\n      })\r\n      .then(() => {\r\n        customToast('success', 'Post successfully added', false);\r\n      });\r\n  } catch (error) {\r\n    customToast('error', 'There was a problem with Adding a Post');\r\n  }\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { useGetPosts } from '../../actions/useGetPosts';\r\nimport { useGetUserFollows } from '../../actions/useGetUserFollows';\r\nimport { postsFilter } from '../../actions/postsFilter';\r\nimport { FeedPost, FeedPostProps } from '../FeedPost/FeedPost';\r\nimport { WithLoader } from '../WithLoader/WithLoader';\r\nimport { WithError } from '../WithError/WithError';\r\nimport { Posts } from '../../constants/Posts';\r\nimport './FeedList.scss';\r\n\r\nexport const FeedList: React.FC = () => {\r\n  const [posts, setPosts] = useState<FeedPostProps[]>([]);\r\n  const [index, setIndex] = useState(Posts.initialAmount);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const { userFollows, isLoading: isFollowsLoading, isError: isFollowsError } = useGetUserFollows();\r\n  const { allPosts, isLoading: isPostsLoading, isError: isPostsError } = useGetPosts();\r\n  const userPosts = postsFilter(userFollows, allPosts);\r\n\r\n  const initializePosts = () => {\r\n    if (userPosts.length) {\r\n      setPosts(userPosts.slice(0, Posts.initialAmount));\r\n    }\r\n  };\r\n\r\n  const checkPostsAmount = () => {\r\n    if (userPosts.length <= Posts.initialAmount && allPosts.length) {\r\n      setHasMore(false);\r\n    }\r\n  };\r\n\r\n  const getMoreData = () => {\r\n    if (posts.length >= userPosts.length) {\r\n      setHasMore(false);\r\n      return;\r\n    }\r\n\r\n    setTimeout(() => {\r\n      setPosts(userPosts.slice(0, index + Posts.newAmount));\r\n      setIndex(index + Posts.newAmount);\r\n    }, 1000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    initializePosts();\r\n    checkPostsAmount();\r\n  }, [userFollows, allPosts]);\r\n\r\n  if (!userPosts.length && allPosts.length) {\r\n    return <WithError isError errorMessage=\"Follow users to see their posts!\" className=\"noPostsError\" />;\r\n  }\r\n\r\n  return (\r\n    <section className=\"feedList\" data-testid=\"feedList\">\r\n      <WithLoader isLoading={isFollowsLoading || isPostsLoading} className=\"feedList__loader\">\r\n        <WithError isError={isFollowsError || isPostsError} errorMessage=\"Error has occurred please try again...\">\r\n          <InfiniteScroll\r\n            dataLength={posts.length}\r\n            next={getMoreData}\r\n            hasMore={hasMore}\r\n            loader={\r\n              <div className=\"feedList__loader\">\r\n                <CircularProgress />\r\n              </div>\r\n            }\r\n            endMessage={<p className=\"feedList__endMessage\">Yay! You have seen it all</p>}\r\n            className=\"feedList__posts\"\r\n          >\r\n            {posts.map(({ testid, ownerUid, content, timestamp }) => (\r\n              <FeedPost\r\n                key={`${ownerUid},${timestamp.seconds}`}\r\n                testid={testid}\r\n                ownerUid={ownerUid}\r\n                content={content}\r\n                timestamp={timestamp}\r\n              />\r\n            ))}\r\n          </InfiniteScroll>\r\n        </WithError>\r\n      </WithLoader>\r\n    </section>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { FormLayout } from '../pages/FormLayout/FormLayout';\r\nimport { Welcome } from '../pages/Welcome/Welcome';\r\nimport { DefaultRoute } from './DefaultRoute';\r\nimport { ProtectedRoute } from './ProtectedRoute';\r\nimport { SignupForm } from '../components/SignupForm/SignupForm';\r\nimport { LoginForm } from '../components/LoginForm/LoginForm';\r\nimport { UserPage } from '../pages/UserPage/UserPage';\r\nimport { MyNetwork } from '../pages/MyNetwork/MyNetwork';\r\nimport { Feed } from '../pages/Feed/Feed';\r\nimport { Notifications } from '../pages/Notifications/Notifications';\r\n\r\nexport const Routes = [\r\n  <Route exact path=\"/\" component={Welcome} />,\r\n  <Route exact path=\"/signUp\" render={() => <FormLayout formComponent={<SignupForm />} />} />,\r\n  <Route exact path=\"/signIn\" render={() => <FormLayout formComponent={<LoginForm />} />} />,\r\n  <ProtectedRoute path=\"/feed\" component={Feed} />,\r\n  <ProtectedRoute exact path=\"/network\" component={MyNetwork} />,\r\n  <ProtectedRoute exact path=\"/notifications\" component={Notifications} />,\r\n  <ProtectedRoute exact path=\"/user/:ownerUid\" component={UserPage} />,\r\n  <DefaultRoute />\r\n];\r\n","import React, { useContext, useEffect } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\r\nimport { NotificationContext } from '../../context/NotificationProvider';\r\nimport { auth } from '../../firebase';\r\nimport './Welcome.scss';\r\n\r\nexport const Welcome: React.FC = () => {\r\n  const { currentUser } = auth;\r\n  const notifications = useContext(NotificationContext);\r\n\r\n  useEffect(() => {\r\n    if (notifications && notifications.data.length > 0 && notifications.unsubscriber) {\r\n      notifications.unsubscriber();\r\n    }\r\n  }, []);\r\n\r\n  if (currentUser) {\r\n    return <Redirect to=\"/feed\" />;\r\n  }\r\n\r\n  return (\r\n    <main className=\"welcomePage\">\r\n      <section className=\"hero\">\r\n        <ToastContainer className=\"hero__toastContainer\" />\r\n        <h1 className=\"hero__title\">\r\n          <span>Linked</span>\r\n          <LinkedInIcon className=\"hero__icon\" />\r\n        </h1>\r\n        <h2 className=\"hero__sub-title\">Welcome to your professional community</h2>\r\n        <div className=\"hero__links\">\r\n          <Link className=\"hero__link\" to=\"/signIn\">\r\n            <Button data-testid=\"signIn\" className=\"primary\" variant=\"outlined\" color=\"primary\" size=\"large\">\r\n              Sign in\r\n            </Button>\r\n          </Link>\r\n          <Link className=\"hero__link\" to=\"/signUp\">\r\n            <Button data-testid=\"signUp\" className=\"secondary\" variant=\"contained\" color=\"primary\" size=\"large\">\r\n              Sign up\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport { CreatePost } from '../../components/CreatePost/CreatePost';\r\nimport { FeedList } from '../../components/FeedList/FeedList';\r\nimport { Header } from '../../components/Header/Header';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './Feed.scss';\r\n\r\nexport const Feed: React.FC = () => {\r\n  const { isDarkMode } = useDarkMode();\r\n\r\n  return (\r\n    <div className={classNames('feed', { 'feed--dark': isDarkMode })}>\r\n      <Header testid=\"feedPageHeader\" />\r\n      <div className=\"feed__createPost\">\r\n        <CreatePost />\r\n      </div>\r\n      <FeedList />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport classNames from 'classnames';\r\nimport { Button } from '@material-ui/core';\r\nimport { Header } from '../../components/Header/Header';\r\nimport { FollowedUsers } from '../../components/FollowedUsers/FollowedUsers';\r\nimport { RecommendedUsers } from '../../components/RecommendedUsers/RecommendedUsers';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './MyNetwork.scss';\r\n\r\nexport const MyNetwork: React.FC = () => {\r\n  const [showRecommendedUsers, setShowRecommendedUsers] = useState(true);\r\n  const { isDarkMode } = useDarkMode();\r\n\r\n  return (\r\n    <div className={classNames('myNetwork', { 'myNetwork--dark': isDarkMode })} data-testid=\"myNetworkPage\">\r\n      <Header testid=\"myNetworkPageHeader\" />\r\n      <div className={classNames('myNetwork__container', { 'myNetwork__container--dark': isDarkMode })}>\r\n        <div className={classNames('myNetwork__buttons', { 'myNetwork__buttons--dark': isDarkMode })}>\r\n          <Button\r\n            size=\"large\"\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            data-testid=\"recommendedUsersButton\"\r\n            onClick={() => setShowRecommendedUsers(true)}\r\n            className={classNames(\r\n              'myNetwork__button',\r\n              { 'myNetwork__button--active': showRecommendedUsers },\r\n              { 'myNetwork__button--active--dark': isDarkMode && showRecommendedUsers }\r\n            )}\r\n          >\r\n            Recommended Users\r\n          </Button>\r\n          <Button\r\n            size=\"large\"\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            data-testid=\"followedUsersButton\"\r\n            onClick={() => setShowRecommendedUsers(false)}\r\n            className={classNames(\r\n              'myNetwork__button',\r\n              { 'myNetwork__button--active': !showRecommendedUsers },\r\n              { 'myNetwork__button--dark': isDarkMode },\r\n              { 'myNetwork__button--active--dark': isDarkMode && !showRecommendedUsers }\r\n            )}\r\n          >\r\n            Followed Users\r\n          </Button>\r\n        </div>\r\n        {showRecommendedUsers ? (\r\n          <RecommendedUsers testid=\"recommendedUsers\" />\r\n        ) : (\r\n          <FollowedUsers testid=\"followedUsers\" />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport classNames from 'classnames';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport { db } from '../../firebase';\r\nimport { UserDetails } from '../../components/UserDetails/UserDetails';\r\nimport { UserPageFieldForm } from '../../components/UserPageFieldForm/UserPageFieldForm';\r\nimport { UserPageField } from '../../components/UserPageField/UserPageField';\r\nimport { AuthContext } from '../../context/AuthProvider';\r\nimport { useIsUserFollowed } from '../../actions/useIsUserFollowed';\r\nimport { Header } from '../../components/Header/Header';\r\nimport { WithLoader } from '../../components/WithLoader/WithLoader';\r\nimport { UserPageFieldInterface, fields } from '../../shared/interfaces/ProfileFieldInterfaces';\r\nimport { MyPosts } from '../../components/MyPosts/MyPosts';\r\nimport { useDarkMode } from '../../context/DarkModeProvider';\r\nimport './UserPage.scss';\r\n\r\ntype UserPageParams = {\r\n  ownerUid: string;\r\n};\r\n\r\nexport const UserPage: React.FC = () => {\r\n  const [userData, setUserData] = useState<firebase.default.firestore.DocumentData>();\r\n  const [isAddField, setIsAddField] = useState(true);\r\n  const { isDarkMode } = useDarkMode();\r\n  const { ownerUid } = useParams<UserPageParams>();\r\n  const loggedInUser = useContext(AuthContext);\r\n  const isUserFollowed = useIsUserFollowed(loggedInUser?.uid, ownerUid);\r\n  const isUserFollowing = useIsUserFollowed(ownerUid, loggedInUser?.uid);\r\n  const [fieldEntries, setFieldEntries] = useState<UserPageFieldInterface<fields[]>>({\r\n    data: [],\r\n    isLoading: true,\r\n    isError: true\r\n  });\r\n  const [isUserPostsShowed, setIsUserPostsShowed] = useState(false);\r\n  const isOwner = ownerUid === loggedInUser?.uid;\r\n\r\n  useEffect(() => {\r\n    setIsUserPostsShowed(false);\r\n    db.collection('users')\r\n      .doc(ownerUid)\r\n      .get()\r\n      .then(doc => {\r\n        setUserData(doc.data());\r\n        setFieldEntries({ data: doc.data()?.profileFields, isLoading: false, isError: false });\r\n      })\r\n      // eslint-disable-next-line\r\n      .catch(error => console.error(error));\r\n  }, [ownerUid, isAddField]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <section className={classNames('userPage', { 'userPage--dark': isDarkMode })}>\r\n        {userData ? (\r\n          <UserDetails\r\n            headline={userData?.headline}\r\n            ownerUid={ownerUid}\r\n            displayName={userData?.displayName}\r\n            avatar={userData?.avatar}\r\n            isMyUserDetails={isOwner}\r\n            isUserFollowedBy={isUserFollowed}\r\n            isUserFollowing={isUserFollowing}\r\n          />\r\n        ) : null}\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"contained\"\r\n          color={isUserPostsShowed ? 'secondary' : 'primary'}\r\n          className=\"userPage__showButton\"\r\n          onClick={() => {\r\n            setIsUserPostsShowed(!isUserPostsShowed);\r\n          }}\r\n        >\r\n          {isUserPostsShowed ? 'Show user information' : `${isOwner ? 'Show my posts' : 'Show user posts'}`}\r\n        </Button>\r\n        {isUserPostsShowed ? (\r\n          <MyPosts userUid={isOwner ? (loggedInUser?.uid as string) : ownerUid} />\r\n        ) : (\r\n          <WithLoader isLoading={fieldEntries.isLoading}>\r\n            <>\r\n              {(fieldEntries.data || []).map((fieldEntry: fields, id: number) => (\r\n                <UserPageField\r\n                  // eslint-disable-next-line\r\n                  key={id}\r\n                  data={fieldEntry}\r\n                  isLoading={fieldEntries.isLoading}\r\n                  isError={fieldEntries.isError}\r\n                />\r\n              ))}\r\n              {!isAddField && isOwner && <UserPageFieldForm data={isAddField} setter={setIsAddField} />}\r\n              {isOwner && (\r\n                <span className=\"userPage__ctaButton\">\r\n                  <Button\r\n                    type=\"button\"\r\n                    onClick={() => setIsAddField(!isAddField)}\r\n                    variant=\"outlined\"\r\n                    color={!isAddField ? 'secondary' : 'primary'}\r\n                  >\r\n                    {!isAddField ? 'Cancel' : 'Add Field'}\r\n                  </Button>\r\n                </span>\r\n              )}\r\n            </>\r\n          </WithLoader>\r\n        )}\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { HashRouter as Router, Switch } from 'react-router-dom';\r\nimport { Routes } from './routes/Routes';\r\nimport { NotificationsProvider } from './context/NotificationProvider';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './styles/Globals.scss';\r\n\r\nconst App: React.FC = () => (\r\n  <Router basename={process.env.PUBLIC_URL}>\r\n    <NotificationsProvider>\r\n      <Switch>{Routes}</Switch>\r\n      <ToastContainer />\r\n    </NotificationsProvider>\r\n  </Router>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport './ErrorFallback.scss';\r\n\r\nexport const ErrorFallback: React.FC = () => {\r\n  const reloadPage = () => {\r\n    window.location.reload();\r\n    return false;\r\n  };\r\n\r\n  return (\r\n    <article className=\"errorFallback\">\r\n      <h1 className=\"errorFallback__title\">\r\n        Something went wrong. Refresh the page.\r\n        <SentimentVeryDissatisfiedIcon className=\"errorFallback__icon--sad\" />\r\n      </h1>\r\n      <RefreshIcon className=\"errorFallback__icon\" onClick={reloadPage} />\r\n    </article>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { ErrorFallback } from '../../pages/ErrorFallback/ErrorFallback';\r\n\r\ninterface ErrorBoundaryProps {\r\n  children: React.ReactElement;\r\n}\r\n\r\nexport class GlobalErrorBoundary extends React.Component<ErrorBoundaryProps> {\r\n  // eslint-disable-next-line react/state-in-constructor\r\n  state = {\r\n    hasError: false\r\n  };\r\n\r\n  static getDerivedStateFromError(): { hasError: boolean } {\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error: unknown, errorInfo: unknown): void {\r\n    // eslint-disable-next-line no-console\r\n    console.log(error, errorInfo);\r\n  }\r\n\r\n  render(): React.ReactElement {\r\n    const { hasError } = this.state;\r\n    const { children } = this.props;\r\n\r\n    if (hasError) {\r\n      return <ErrorFallback />;\r\n    }\r\n\r\n    return children;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { AuthProvider } from './context/AuthProvider';\r\nimport { GlobalErrorBoundary } from './components/GlobalErrorBoundary/GlobalErrorBoundary';\r\nimport { DarkModeProvider } from './context/DarkModeProvider';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <GlobalErrorBoundary>\r\n      <DarkModeProvider>\r\n        <AuthProvider>\r\n          <App />\r\n        </AuthProvider>\r\n      </DarkModeProvider>\r\n    </GlobalErrorBoundary>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}